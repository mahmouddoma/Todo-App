"use strict";(self.webpackChunktodoApp=self.webpackChunktodoApp||[]).push([[179],{248:()=>{function _e(t){return"function"==typeof t}function iu(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Jl=iu(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function no(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class en{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(_e(r))try{r()}catch(s){e=s instanceof Jl?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{VC(s)}catch(o){e=e??[],o instanceof Jl?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Jl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)VC(e);else{if(e instanceof en){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&no(n,e)}remove(e){const{_finalizers:n}=this;n&&no(n,e),e instanceof en&&e._removeParent(this)}}en.EMPTY=(()=>{const t=new en;return t.closed=!0,t})();const FC=en.EMPTY;function LC(t){return t instanceof en||t&&"closed"in t&&_e(t.remove)&&_e(t.add)&&_e(t.unsubscribe)}function VC(t){_e(t)?t():t.unsubscribe()}const Zi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Xl={setTimeout(t,e,...n){const{delegate:r}=Xl;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Xl;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function UC(t){Xl.setTimeout(()=>{const{onUnhandledError:e}=Zi;if(!e)throw t;e(t)})}function Eg(){}const zB=Dg("C",void 0,void 0);function Dg(t,e,n){return{kind:t,value:e,error:n}}let es=null;function Zl(t){if(Zi.useDeprecatedSynchronousErrorHandling){const e=!es;if(e&&(es={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=es;if(es=null,n)throw r}}else t()}class Tg extends en{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,LC(e)&&e.add(this)):this.destination=XB}static create(e,n,r){return new su(e,n,r)}next(e){this.isStopped?Cg(function WB(t){return Dg("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Cg(function qB(t){return Dg("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Cg(zB,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const QB=Function.prototype.bind;function bg(t,e){return QB.call(t,e)}class YB{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ed(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ed(r)}else ed(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ed(n)}}}class su extends Tg{constructor(e,n,r){let i;if(super(),_e(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Zi.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&bg(e.next,s),error:e.error&&bg(e.error,s),complete:e.complete&&bg(e.complete,s)}):i=e}this.destination=new YB(i)}}function ed(t){Zi.useDeprecatedSynchronousErrorHandling?function KB(t){Zi.useDeprecatedSynchronousErrorHandling&&es&&(es.errorThrown=!0,es.error=t)}(t):UC(t)}function Cg(t,e){const{onStoppedNotification:n}=Zi;n&&Xl.setTimeout(()=>n(t,e))}const XB={closed:!0,next:Eg,error:function JB(t){throw t},complete:Eg},Sg="function"==typeof Symbol&&Symbol.observable||"@@observable";function li(t){return t}function jC(t){return 0===t.length?li:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Le=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function t$(t){return t&&t instanceof Tg||function e$(t){return t&&_e(t.next)&&_e(t.error)&&_e(t.complete)}(t)&&LC(t)}(n)?n:new su(n,r,i);return Zl(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=BC(r))((i,s)=>{const o=new su({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Sg](){return this}pipe(...n){return jC(n)(this)}toPromise(n){return new(n=BC(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function BC(t){var e;return null!==(e=t??Zi.Promise)&&void 0!==e?e:Promise}const n$=iu(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Un=(()=>{class t extends Le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new $C(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new n$}next(n){Zl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Zl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Zl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?FC:(this.currentObservers=null,s.push(n),new en(()=>{this.currentObservers=null,no(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Le;return n.source=this,n}}return t.create=(e,n)=>new $C(e,n),t})();class $C extends Un{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:FC}}function HC(t){return _e(t?.lift)}function nt(t){return e=>{if(HC(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function rt(t,e,n,r,i){return new r$(t,e,n,r,i)}class r$ extends Tg{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function we(t,e){return nt((n,r)=>{let i=0;n.subscribe(rt(r,s=>{r.next(t.call(e,s,i++))}))})}function Mg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function di(t){return this instanceof di?(this.v=t,this):new di(t)}function WC(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Rg(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const KC=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function QC(t){return _e(t?.then)}function YC(t){return _e(t[Sg])}function JC(t){return Symbol.asyncIterator&&_e(t?.[Symbol.asyncIterator])}function XC(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ZC=function T$(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function eS(t){return _e(t?.[ZC])}function tS(t){return function qC(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof di?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield di(n.read());if(i)return yield di(void 0);yield yield di(r)}}finally{n.releaseLock()}})}function nS(t){return _e(t?.getReader)}function bn(t){if(t instanceof Le)return t;if(null!=t){if(YC(t))return function b$(t){return new Le(e=>{const n=t[Sg]();if(_e(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(KC(t))return function C$(t){return new Le(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(QC(t))return function S$(t){return new Le(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,UC)})}(t);if(JC(t))return rS(t);if(eS(t))return function A$(t){return new Le(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(nS(t))return function x$(t){return rS(tS(t))}(t)}throw XC(t)}function rS(t){return new Le(e=>{(function M$(t,e){var n,r,i,s;return function GC(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=WC(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Mr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function mt(t,e,n=1/0){return _e(e)?mt((r,i)=>we((s,o)=>e(r,s,i,o))(bn(t(r,i))),n):("number"==typeof e&&(n=e),nt((r,i)=>function N$(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let y=!1;bn(n(g,l++)).subscribe(rt(e,w=>{i?.(w),s?f(w):e.next(w)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const w=u.shift();o?Mr(e,o,()=>p(w)):p(w)}h()}catch(w){e.error(w)}}))};return t.subscribe(rt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function ro(t=1/0){return mt(li,t)}const tr=new Le(t=>t.complete());function kg(t){return t[t.length-1]}function ou(t){return function k$(t){return t&&_e(t.schedule)}(kg(t))?t.pop():void 0}function td(t,e=0){return nt((n,r)=>{n.subscribe(rt(r,i=>Mr(r,t,()=>r.next(i),e),()=>Mr(r,t,()=>r.complete(),e),i=>Mr(r,t,()=>r.error(i),e)))})}function nd(t,e=0){return nt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function iS(t,e){if(!t)throw new Error("Iterable cannot be null");return new Le(n=>{Mr(n,e,()=>{const r=t[Symbol.asyncIterator]();Mr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function yt(t,e){return e?function B$(t,e){if(null!=t){if(YC(t))return function F$(t,e){return bn(t).pipe(nd(e),td(e))}(t,e);if(KC(t))return function V$(t,e){return new Le(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(QC(t))return function L$(t,e){return bn(t).pipe(nd(e),td(e))}(t,e);if(JC(t))return iS(t,e);if(eS(t))return function U$(t,e){return new Le(n=>{let r;return Mr(n,e,()=>{r=t[ZC](),Mr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>_e(r?.return)&&r.return()})}(t,e);if(nS(t))return function j$(t,e){return iS(tS(t),e)}(t,e)}throw XC(t)}(t,e):bn(t)}class Cn extends Un{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function z(...t){return yt(t,ou(t))}function sS(t={}){const{connector:e=(()=>new Un),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return nt((g,y)=>{c++,!d&&!l&&h();const w=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=Pg(p,i))}),w.subscribe(y),!o&&c>0&&(o=new su({next:v=>w.next(v),error:v=>{d=!0,h(),a=Pg(f,n,v),w.error(v)},complete:()=>{l=!0,h(),a=Pg(f,r),w.complete()}}),bn(g).subscribe(o))})(s)}}function Pg(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new su({next:()=>{r.unsubscribe(),t()}});return bn(e(...n)).subscribe(r)}function nr(t,e){return nt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(rt(r,u=>{i?.unsubscribe();let c=0;const l=s++;bn(t(u,l)).subscribe(i=rt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function G$(t,e){return t===e}function pe(t){for(let e in t)if(t[e]===pe)return e;throw Error("Could not find renamed property on target object.")}function it(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(it).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Og(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const z$=pe({__forward_ref__:pe});function Fg(t){return t.__forward_ref__=Fg,t.toString=function(){return it(this())},t}function G(t){return Lg(t)?t():t}function Lg(t){return"function"==typeof t&&t.hasOwnProperty(z$)&&t.__forward_ref__===Fg}function Vg(t){return t&&!!t.\u0275providers}class C extends Error{constructor(e,n){super(function id(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function W(t){return"string"==typeof t?t:null==t?"":String(t)}function Ug(t,e){throw new C(-201,!1)}function Sn(t,e){null==t&&function $(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function rr(t){return{providers:t.providers||[],imports:t.imports||[]}}function sd(t){return aS(t,ad)||aS(t,uS)}function aS(t,e){return t.hasOwnProperty(e)?t[e]:null}function od(t){return t&&(t.hasOwnProperty(jg)||t.hasOwnProperty(Z$))?t[jg]:null}const ad=pe({\u0275prov:pe}),jg=pe({\u0275inj:pe}),uS=pe({ngInjectableDef:pe}),Z$=pe({ngInjectorDef:pe});var te=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(te||{});let Bg;function tn(t){const e=Bg;return Bg=t,e}function lS(t,e,n){const r=sd(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&te.Optional?null:void 0!==e?e:void Ug(it(t))}const De=globalThis;class O{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const au={},qg="__NG_DI_FLAG__",ud="ngTempTokenPath",nH=/\n/gm,hS="__source";let io;function hi(t){const e=io;return io=t,e}function sH(t,e=te.Default){if(void 0===io)throw new C(-203,!1);return null===io?lS(t,void 0,e):io.get(t,e&te.Optional?null:void 0,e)}function U(t,e=te.Default){return(function cS(){return Bg}()||sH)(G(t),e)}function P(t,e=te.Default){return U(t,cd(e))}function cd(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Wg(t){const e=[];for(let n=0;n<t.length;n++){const r=G(t[n]);if(Array.isArray(r)){if(0===r.length)throw new C(900,!1);let i,s=te.Default;for(let o=0;o<r.length;o++){const a=r[o],u=oH(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(U(i,s))}else e.push(U(r))}return e}function uu(t,e){return t[qg]=e,t.prototype[qg]=e,t}function oH(t){return t[qg]}function Nr(t){return{toString:t}.toString()}var ld=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ld||{}),jn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(jn||{});const ir={},le=[],dd=pe({\u0275cmp:pe}),Kg=pe({\u0275dir:pe}),Qg=pe({\u0275pipe:pe}),pS=pe({\u0275mod:pe}),Rr=pe({\u0275fac:pe}),cu=pe({__NG_ELEMENT_ID__:pe}),gS=pe({__NG_ENV_ID__:pe});function mS(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Yg(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];vS(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function yS(t){return 3===t||4===t||6===t}function vS(t){return 64===t.charCodeAt(0)}function lu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||_S(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function _S(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const wS="ng-template";function cH(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==mS(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function IS(t){return 4===t.type&&t.value!==wS}function lH(t,e,n){return e===(4!==t.type||n?t.value:wS)}function dH(t,e,n){let r=4;const i=t.attrs||[],s=function pH(t){for(let e=0;e<t.length;e++)if(yS(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!lH(t,u,n)||""===u&&1===e.length){if(Bn(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!cH(t.attrs,c,n)){if(Bn(r))return!1;o=!0}continue}const d=hH(8&r?"class":u,i,IS(t),n);if(-1===d){if(Bn(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==mS(f,c,0)||2&r&&c!==h){if(Bn(r))return!1;o=!0}}}}else{if(!o&&!Bn(r)&&!Bn(u))return!1;if(o&&Bn(u))continue;o=!1,r=u|1&r}}return Bn(r)||o}function Bn(t){return 0==(1&t)}function hH(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function gH(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ES(t,e,n=!1){for(let r=0;r<e.length;r++)if(dH(t,e[r],n))return!0;return!1}function DS(t,e){return t?":not("+e.trim()+")":e}function yH(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Bn(o)&&(e+=DS(s,i),i=""),r=o,s=s||!Bn(r);n++}return""!==i&&(e+=DS(s,i)),e}function Jg(t){return Nr(()=>{const e=bS(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ld.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||jn.Emulated,styles:t.styles||le,_:null,schemas:t.schemas||null,tView:null,id:""};CS(n);const r=t.dependencies;return n.directiveDefs=hd(r,!1),n.pipeDefs=hd(r,!0),n.id=function bH(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function IH(t){return se(t)||vt(t)}function EH(t){return null!==t}function kr(t){return Nr(()=>({type:t.type,bootstrap:t.bootstrap||le,declarations:t.declarations||le,imports:t.imports||le,exports:t.exports||le,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function TS(t,e){if(null==t)return ir;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function jt(t){return Nr(()=>{const e=bS(t);return CS(e),e})}function se(t){return t[dd]||null}function vt(t){return t[Kg]||null}function Bt(t){return t[Qg]||null}function mn(t,e){const n=t[pS]||null;if(!n&&!0===e)throw new Error(`Type ${it(t)} does not have '\u0275mod' property.`);return n}function bS(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ir,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||le,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:TS(t.inputs,e),outputs:TS(t.outputs)}}function CS(t){t.features?.forEach(e=>e(t))}function hd(t,e){if(!t)return null;const n=e?Bt:IH;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(EH)}const Ve=0,N=1,X=2,Re=3,$n=4,du=5,Mt=6,oo=7,Ge=8,fi=9,ao=10,K=11,hu=12,SS=13,uo=14,ze=15,fu=16,co=17,sr=18,pu=19,AS=20,pi=21,Pr=22,gu=23,mu=24,ne=25,Xg=1,xS=2,or=7,lo=9,_t=11;function rn(t){return Array.isArray(t)&&"object"==typeof t[Xg]}function $t(t){return Array.isArray(t)&&!0===t[Xg]}function Zg(t){return 0!=(4&t.flags)}function ns(t){return t.componentOffset>-1}function pd(t){return 1==(1&t.flags)}function Hn(t){return!!t.template}function em(t){return 0!=(512&t[X])}function rs(t,e){return t.hasOwnProperty(Rr)?t[Rr]:null}let wt=null,gd=!1;function An(t){const e=wt;return wt=t,e}const RS={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function PS(t){if(!vu(t)||t.dirty){if(!t.producerMustRecompute(t)&&!LS(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function FS(t){t.dirty=!0,function OS(t){if(void 0===t.liveConsumerNode)return;const e=gd;gd=!0;try{for(const n of t.liveConsumerNode)n.dirty||FS(n)}finally{gd=e}}(t),t.consumerMarkedDirty?.(t)}function nm(t){return t&&(t.nextProducerIndex=0),An(t)}function rm(t,e){if(An(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(vu(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)md(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function LS(t){ho(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(PS(n),r!==n.version))return!0}return!1}function VS(t){if(ho(t),vu(t))for(let e=0;e<t.producerNode.length;e++)md(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function md(t,e){if(function jS(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),ho(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)md(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];ho(i),i.producerIndexOfThis[r]=e}}function vu(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ho(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let BS=null;const zS=()=>{},VH=(()=>({...RS,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:zS}))();class UH{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function is(){return qS}function qS(t){return t.type.prototype.ngOnChanges&&(t.setInput=BH),jH}function jH(){const t=KS(this),e=t?.current;if(e){const n=t.previous;if(n===ir)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function BH(t,e,n,r){const i=this.declaredInputs[n],s=KS(t)||function $H(t,e){return t[WS]=e}(t,{previous:ir,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new UH(u&&u.currentValue,e,a===ir),t[r]=e}is.ngInherit=!0;const WS="__ngSimpleChanges__";function KS(t){return t[WS]||null}const ar=function(t,e,n){};function Te(t){for(;Array.isArray(t);)t=t[Ve];return t}function sn(t,e){return Te(e[t.index])}function JS(t,e){return t.data[e]}function yn(t,e){const n=e[t];return rn(n)?n:n[Ve]}function mi(t,e){return null==e?null:t[e]}function XS(t){t[co]=0}function KH(t){1024&t[X]||(t[X]|=1024,eA(t,1))}function ZS(t){1024&t[X]&&(t[X]&=-1025,eA(t,-1))}function eA(t,e){let n=t[Re];if(null===n)return;n[du]+=e;let r=n;for(n=n[Re];null!==n&&(1===e&&1===r[du]||-1===e&&0===r[du]);)n[du]+=e,r=n,n=n[Re]}const H={lFrame:dA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function rA(){return H.bindingsEnabled}function E(){return H.lFrame.lView}function oe(){return H.lFrame.tView}function um(t){return H.lFrame.contextLView=t,t[Ge]}function cm(t){return H.lFrame.contextLView=null,t}function It(){let t=iA();for(;null!==t&&64===t.type;)t=t.parent;return t}function iA(){return H.lFrame.currentTNode}function ur(t,e){const n=H.lFrame;n.currentTNode=t,n.isParent=e}function lm(){return H.lFrame.isParent}function go(){return H.lFrame.bindingIndex++}function o4(t,e){const n=H.lFrame;n.bindingIndex=n.bindingRootIndex=t,hm(e)}function hm(t){H.lFrame.currentDirectiveIndex=t}function pm(t){H.lFrame.currentQueryIndex=t}function u4(t){const e=t[N];return 2===e.type?e.declTNode:1===e.type?t[Mt]:null}function cA(t,e,n){if(n&te.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&te.Host||(i=u4(s),null===i||(s=s[uo],10&i.type))););if(null===i)return!1;e=i,t=s}const r=H.lFrame=lA();return r.currentTNode=e,r.lView=t,!0}function gm(t){const e=lA(),n=t[N];H.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function lA(){const t=H.lFrame,e=null===t?null:t.child;return null===e?dA(t):e}function dA(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function hA(){const t=H.lFrame;return H.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const fA=hA;function mm(){const t=hA();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Gt(){return H.lFrame.selectedIndex}function ss(t){H.lFrame.selectedIndex=t}let gA=!0;function vd(){return gA}function yi(t){gA=t}function _d(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function wd(t,e,n){mA(t,e,3,n)}function Id(t,e,n,r){(3&t[X])===n&&mA(t,e,n,r)}function ym(t,e){let n=t[X];(3&n)===e&&(n&=8191,n+=1,t[X]=n)}function mA(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[co]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[co]+=65536),(a<s||-1==s)&&(m4(t,n,e,u),t[co]=(4294901760&t[co])+u+2),u++}function yA(t,e){ar(4,t,e);const n=An(null);try{e.call(t)}finally{An(n),ar(5,t,e)}}function m4(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[X]>>13<t[co]>>16&&(3&t[X])===e&&(t[X]+=8192,yA(a,s)):yA(a,s)}const mo=-1;class wu{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function _m(t){return t!==mo}function Iu(t){return 32767&t}function Eu(t,e){let n=function w4(t){return t>>16}(t),r=e;for(;n>0;)r=r[uo],n--;return r}let wm=!0;function Ed(t){const e=wm;return wm=t,e}const vA=255,_A=5;let I4=0;const cr={};function Dd(t,e){const n=wA(t,e);if(-1!==n)return n;const r=e[N];r.firstCreatePass&&(t.injectorIndex=e.length,Im(r.data,t),Im(e,null),Im(r.blueprint,null));const i=Td(t,e),s=t.injectorIndex;if(_m(i)){const o=Iu(i),a=Eu(i,e),u=a[N].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Im(t,e){t.push(0,0,0,0,0,0,0,0,e)}function wA(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Td(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=AA(i),null===r)return mo;if(n++,i=i[uo],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return mo}function Em(t,e,n){!function E4(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(cu)&&(r=n[cu]),null==r&&(r=n[cu]=I4++);const i=r&vA;e.data[t+(i>>_A)]|=1<<i}(t,e,n)}function IA(t,e,n){if(n&te.Optional||void 0!==t)return t;Ug()}function EA(t,e,n,r){if(n&te.Optional&&void 0===r&&(r=null),!(n&(te.Self|te.Host))){const i=t[fi],s=tn(void 0);try{return i?i.get(e,r,n&te.Optional):lS(e,r,n&te.Optional)}finally{tn(s)}}return IA(r,0,n)}function DA(t,e,n,r=te.Default,i){if(null!==t){if(2048&e[X]&&!(r&te.Self)){const o=function A4(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[X]&&!(512&o[X]);){const a=TA(s,o,n,r|te.Self,cr);if(a!==cr)return a;let u=s.parent;if(!u){const c=o[AS];if(c){const l=c.get(n,cr,r);if(l!==cr)return l}u=AA(o),o=o[uo]}s=u}return i}(t,e,n,r,cr);if(o!==cr)return o}const s=TA(t,e,n,r,cr);if(s!==cr)return s}return EA(e,n,r,i)}function TA(t,e,n,r,i){const s=function b4(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(cu)?t[cu]:void 0;return"number"==typeof e?e>=0?e&vA:S4:e}(n);if("function"==typeof s){if(!cA(e,t,r))return r&te.Host?IA(i,0,r):EA(e,n,r,i);try{let o;if(o=s(r),null!=o||r&te.Optional)return o;Ug()}finally{fA()}}else if("number"==typeof s){let o=null,a=wA(t,e),u=mo,c=r&te.Host?e[ze][Mt]:null;for((-1===a||r&te.SkipSelf)&&(u=-1===a?Td(t,e):e[a+8],u!==mo&&CA(r,!1)?(o=e[N],a=Iu(u),e=Eu(u,e)):a=-1);-1!==a;){const l=e[N];if(bA(s,a,l.data)){const d=T4(a,e,n,o,r,c);if(d!==cr)return d}u=e[a+8],u!==mo&&CA(r,e[N].data[a+8]===c)&&bA(s,a,e)?(o=l,a=Iu(u),e=Eu(u,e)):a=-1}}return i}function T4(t,e,n,r,i,s){const o=e[N],a=o.data[t+8],l=function bd(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Hn(f)&&f.type===n)return u}return null}(a,o,n,null==r?ns(a)&&wm:r!=o&&0!=(3&a.type),i&te.Host&&s===a);return null!==l?os(e,o,l,a):cr}function os(t,e,n,r){let i=t[n];const s=e.data;if(function y4(t){return t instanceof wu}(i)){const o=i;o.resolving&&function q$(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new C(-200,`Circular dependency in DI detected for ${t}${n}`)}(function fe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():W(t)}(s[n]));const a=Ed(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?tn(o.injectImpl):null;cA(t,r,te.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function g4(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=qS(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==c&&tn(c),Ed(a),o.resolving=!1,fA()}}return i}function bA(t,e,n){return!!(n[e+(t>>_A)]&1<<t)}function CA(t,e){return!(t&te.Self||t&te.Host&&e)}class zt{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return DA(this._tNode,this._lView,e,cd(r),n)}}function S4(){return new zt(It(),E())}function Dm(t){return Lg(t)?()=>{const e=Dm(G(t));return e&&e()}:rs(t)}function AA(t){const e=t[N],n=e.type;return 2===n?e.declTNode:1===n?t[Mt]:null}const vo="__parameters__";function wo(t,e,n){return Nr(()=>{const r=function Tm(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(vo)?u[vo]:Object.defineProperty(u,vo,{value:[]})[vo];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Eo(t,e){t.forEach(n=>Array.isArray(n)?Eo(n,e):e(n))}function MA(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Sd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const on=uu(wo("Optional"),8),xd=uu(wo("SkipSelf"),4);function Pd(t){return 128==(128&t.flags)}var vi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(vi||{});const Mm=new Map;let sG=0;const Rm="__ngContext__";function Nt(t,e){rn(e)?(t[Rm]=e[pu],function aG(t){Mm.set(t[pu],t)}(e)):t[Rm]=e}let km;function Pm(t,e){return km(t,e)}function Au(t){const e=t[Re];return $t(e)?e[Re]:e}function JA(t){return ZA(t[hu])}function XA(t){return ZA(t[$n])}function ZA(t){for(;null!==t&&!$t(t);)t=t[$n];return t}function Co(t,e,n,r,i){if(null!=r){let s,o=!1;$t(r)?s=r:rn(r)&&(o=!0,r=r[Ve]);const a=Te(r);0===t&&null!==n?null==i?rx(e,n,a):as(e,n,a,i||null,!0):1===t&&null!==n?as(e,n,a,i||null,!0):2===t?function Bd(t,e,n){const r=Ud(t,e);r&&function CG(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function xG(t,e,n,r,i){const s=n[or];s!==Te(n)&&Co(e,t,r,s,i);for(let a=_t;a<n.length;a++){const u=n[a];Mu(u[N],u,t,e,r,s)}}(e,t,s,n,i)}}function Ld(t,e,n){return t.createElement(e,n)}function tx(t,e){const n=t[lo],r=n.indexOf(e);ZS(e),n.splice(r,1)}function Vd(t,e){if(t.length<=_t)return;const n=_t+e,r=t[n];if(r){const i=r[fu];null!==i&&i!==t&&tx(i,r),e>0&&(t[n-1][$n]=r[$n]);const s=Sd(t,_t+e);!function vG(t,e){Mu(t,e,e[K],2,null,null),e[Ve]=null,e[Mt]=null}(r[N],r);const o=s[sr];null!==o&&o.detachView(s[N]),r[Re]=null,r[$n]=null,r[X]&=-129}return r}function Fm(t,e){if(!(256&e[X])){const n=e[K];e[gu]&&VS(e[gu]),e[mu]&&VS(e[mu]),n.destroyNode&&Mu(t,e,n,3,null,null),function IG(t){let e=t[hu];if(!e)return Lm(t[N],t);for(;e;){let n=null;if(rn(e))n=e[hu];else{const r=e[_t];r&&(n=r)}if(!n){for(;e&&!e[$n]&&e!==t;)rn(e)&&Lm(e[N],e),e=e[Re];null===e&&(e=t),rn(e)&&Lm(e[N],e),n=e&&e[$n]}e=n}}(e)}}function Lm(t,e){if(!(256&e[X])){e[X]&=-129,e[X]|=256,function bG(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof wu)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];ar(4,a,u);try{u.call(a)}finally{ar(5,a,u)}}else{ar(4,i,s);try{s.call(i)}finally{ar(5,i,s)}}}}}(t,e),function TG(t,e){const n=t.cleanup,r=e[oo];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[oo]=null);const i=e[pi];if(null!==i){e[pi]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[N].type&&e[K].destroy();const n=e[fu];if(null!==n&&$t(e[Re])){n!==e[Re]&&tx(n,e);const r=e[sr];null!==r&&r.detachView(t)}!function uG(t){Mm.delete(t[pu])}(e)}}function Vm(t,e,n){return function nx(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Ve];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===jn.None||s===jn.Emulated)return null}return sn(r,n)}}(t,e.parent,n)}function as(t,e,n,r,i){t.insertBefore(e,n,r,i)}function rx(t,e,n){t.appendChild(e,n)}function ix(t,e,n,r,i){null!==r?as(t,e,n,r,i):rx(t,e,n)}function Ud(t,e){return t.parentNode(e)}let Um,Hm,ax=function ox(t,e,n){return 40&t.type?sn(t,n):null};function jd(t,e,n,r){const i=Vm(t,r,e),s=e[K],a=function sx(t,e,n){return ax(t,e,n)}(r.parent||e[Mt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)ix(s,i,n[u],a,!1);else ix(s,i,n,a,!1);void 0!==Um&&Um(s,r,e,n,i)}function xu(t,e){if(null!==e){const n=e.type;if(3&n)return sn(e,t);if(4&n)return jm(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return xu(t,r);{const i=t[e.index];return $t(i)?jm(-1,i):Te(i)}}if(32&n)return Pm(e,t)()||Te(t[e.index]);{const r=cx(t,e);return null!==r?Array.isArray(r)?r[0]:xu(Au(t[ze]),r):xu(t,e.next)}}return null}function cx(t,e){return null!==e?t[ze][Mt].projection[e.projection]:null}function jm(t,e){const n=_t+t+1;if(n<e.length){const r=e[n],i=r[N].firstChild;if(null!==i)return xu(r,i)}return e[or]}function Bm(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Nt(Te(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)Bm(t,e,n.child,r,i,s,!1),Co(e,t,i,a,s);else if(32&u){const c=Pm(n,r);let l;for(;l=c();)Co(e,t,i,l,s);Co(e,t,i,a,s)}else 16&u?dx(t,e,r,n,i,s):Co(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Mu(t,e,n,r,i,s){Bm(n,r,t.firstChild,e,i,s,!1)}function dx(t,e,n,r,i,s){const o=n[ze],u=o[Mt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Co(e,t,i,u[c],s);else{let c=u;const l=o[Re];Pd(r)&&(c.flags|=128),Bm(t,e,c,l,i,s,!0)}}function hx(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function fx(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Yg(t,e,r),null!==i&&hx(t,e,i),null!==s&&function NG(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}const Pu=new O("ENVIRONMENT_INITIALIZER"),Sx=new O("INJECTOR",-1),Ax=new O("INJECTOR_DEF_TYPES");class Qm{get(e,n=au){if(n===au){const r=new Error(`NullInjectorError: No provider for ${it(e)}!`);throw r.name="NullInjectorError",r}return n}}function iz(...t){return{\u0275providers:Mx(0,t),\u0275fromNgModule:!0}}function Mx(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return Eo(e,o=>{const a=o;zd(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&Nx(i,s),n}function Nx(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];Ym(i,s=>{e(s,r)})}}function zd(t,e,n,r){if(!(t=G(t)))return!1;let i=null,s=od(t);const o=!s&&se(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=od(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)zd(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Eo(s.imports,l=>{zd(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&Nx(c,e)}if(!a){const c=rs(i)||(()=>new i);e({provide:i,useFactory:c,deps:le},i),e({provide:Ax,useValue:i,multi:!0},i),e({provide:Pu,useValue:()=>U(i),multi:!0},i)}const u=s.providers;if(null!=u&&!a){const c=t;Ym(u,l=>{e(l,c)})}}}return i!==t&&void 0!==t.providers}function Ym(t,e){for(let n of t)Vg(n)&&(n=n.\u0275providers),Array.isArray(n)?Ym(n,e):e(n)}const sz=pe({provide:String,useValue:pe});function Jm(t){return null!==t&&"object"==typeof t&&sz in t}function us(t){return"function"==typeof t}const Xm=new O("Set Injector scope."),qd={},az={};let Zm;function Wd(){return void 0===Zm&&(Zm=new Qm),Zm}class Mn{}class Mo extends Mn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ty(e,o=>this.processProvider(o)),this.records.set(Sx,No(void 0,this)),i.has("environment")&&this.records.set(Mn,No(void 0,this));const s=this.records.get(Xm);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Ax.multi,le,te.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=hi(this),r=tn(void 0);try{return e()}finally{hi(n),tn(r)}}get(e,n=au,r=te.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(gS))return e[gS](this);r=cd(r);const s=hi(this),o=tn(void 0);try{if(!(r&te.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function hz(t){return"function"==typeof t||"object"==typeof t&&t instanceof O}(e)&&sd(e);u=c&&this.injectableDefInScope(c)?No(ey(e),qd):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&te.Self?Wd():this.parent).get(e,n=r&te.Optional&&n===au?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[ud]=a[ud]||[]).unshift(it(e)),s)throw a;return function aH(t,e,n,r){const i=t[ud];throw e[hS]&&i.unshift(e[hS]),t.message=function uH(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=it(e);if(Array.isArray(e))i=e.map(it).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):it(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(nH,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[ud]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{tn(o),hi(s)}}resolveInjectorInitializers(){const e=hi(this),n=tn(void 0);try{const i=this.get(Pu.multi,le,te.Self);for(const s of i)s()}finally{hi(e),tn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(it(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new C(205,!1)}processProvider(e){let n=us(e=G(e))?e:G(e&&e.provide);const r=function cz(t){return Jm(t)?No(void 0,t.useValue):No(function Px(t,e,n){let r;if(us(t)){const i=G(t);return rs(i)||ey(i)}if(Jm(t))r=()=>G(t.useValue);else if(function kx(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Wg(t.deps||[]));else if(function Rx(t){return!(!t||!t.useExisting)}(t))r=()=>U(G(t.useExisting));else{const i=G(t&&(t.useClass||t.provide));if(!function lz(t){return!!t.deps}(t))return rs(i)||ey(i);r=()=>new i(...Wg(t.deps))}return r}(t),qd)}(e);if(us(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=No(void 0,qd,!0),i.factory=()=>Wg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===qd&&(n.value=az,n.value=n.factory()),"object"==typeof n.value&&n.value&&function dz(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=G(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function ey(t){const e=sd(t),n=null!==e?e.factory:rs(t);if(null!==n)return n;if(t instanceof O)throw new C(204,!1);if(t instanceof Function)return function uz(t){const e=t.length;if(e>0)throw function bu(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new C(204,!1);const n=function X$(t){return t&&(t[ad]||t[uS])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new C(204,!1)}function No(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ty(t,e){for(const n of t)Array.isArray(n)?ty(n,e):n&&Vg(n)?ty(n.\u0275providers,e):e(n)}const Kd=new O("AppId",{providedIn:"root",factory:()=>fz}),fz="ng",Ox=new O("Platform Initializer"),wi=new O("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Fx=new O("CSP nonce",{providedIn:"root",factory:()=>function Ao(){if(void 0!==Hm)return Hm;if(typeof document<"u")return document;throw new C(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Lx=(t,e,n)=>null;function cy(t,e,n=!1){return Lx(t,e,n)}class Dz{}class jx{}class bz{resolveComponentFactory(e){throw function Tz(t){const e=Error(`No component factory found for ${it(t)}.`);return e.ngComponent=t,e}(e)}}let eh=(()=>{class t{static#e=this.NULL=new bz}return t})();function Cz(){return Po(It(),E())}function Po(t,e){return new Ii(sn(t,e))}let Ii=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=Cz}return t})();class $x{}let xz=(()=>{class t{static#e=this.\u0275prov=j({token:t,providedIn:"root",factory:()=>null})}return t})();class Lu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Hx=new Lu("16.2.11"),hy={};function Wx(t,e=null,n=null,r){const i=Kx(t,e,n,r);return i.resolveInjectorInitializers(),i}function Kx(t,e=null,n=null,r,i=new Set){const s=[n||le,iz(t)];return r=r||("object"==typeof t?void 0:it(t)),new Mo(s,e||Wd(),r||null,i)}let un=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=au;static#t=this.NULL=new Qm;static create(n,r){if(Array.isArray(n))return Wx({name:""},r,n,"");{const i=n.name??"";return Wx({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=j({token:t,providedIn:"any",factory:()=>U(Sx)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function py(t){return t.ngOriginalError}class Vr{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&py(e);for(;n&&py(n);)n=py(n);return n||null}}function my(t){return e=>{setTimeout(t,void 0,e)}}const qt=class Fz extends Un{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=my(s),i&&(i=my(i)),o&&(o=my(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof en&&e.add(a),a}};function Yx(...t){}class ge{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qt(!1),this.onMicrotaskEmpty=new qt(!1),this.onStable=new qt(!1),this.onError=new qt(!1),typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Lz(){const t="function"==typeof De.requestAnimationFrame;let e=De[t?"requestAnimationFrame":"setTimeout"],n=De[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function jz(t){const e=()=>{!function Uz(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(De,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,vy(t),t.isCheckStableRunning=!0,yy(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),vy(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function $z(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return Jx(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),Xx(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return Jx(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Xx(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,vy(t),yy(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ge.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(ge.isInAngularZone())throw new C(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Vz,Yx,Yx);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const Vz={};function yy(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function vy(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Jx(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Xx(t){t._nesting--,yy(t)}class Bz{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qt,this.onMicrotaskEmpty=new qt,this.onStable=new qt,this.onError=new qt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const Zx=new O("",{providedIn:"root",factory:eM});function eM(){const t=P(ge);let e=!0;return function $$(...t){const e=ou(t),n=function O$(t,e){return"number"==typeof kg(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?bn(r[0]):ro(n)(yt(r,e)):tr}(new Le(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Le(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{ge.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{ge.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(sS()))}function Ur(t){return t instanceof Function?t():t}let _y=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t})}return t})();function Vu(t){for(;t;){t[X]|=64;const e=Au(t);if(em(t)&&!e)return t;t=e}return null}const sM=new O("",{providedIn:"root",factory:()=>!1});let rh=null;function cM(t,e){return t[e]??hM()}function lM(t,e){const n=hM();n.producerNode?.length&&(t[e]=rh,n.lView=t,rh=dM())}const Xz={...RS,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Vu(t.lView)},lView:null};function dM(){return Object.create(Xz)}function hM(){return rh??=dM(),rh}const Y={};function wy(t){fM(oe(),E(),Gt()+t,!1)}function fM(t,e,n,r){if(!r)if(3==(3&e[X])){const s=t.preOrderCheckHooks;null!==s&&wd(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Id(e,s,0,n)}ss(n)}function B(t,e=te.Default){const n=E();return null===n?U(t,e):DA(It(),n,G(t),e)}function ih(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[Ve]=i,d[X]=140|r,(null!==c||t&&2048&t[X])&&(d[X]|=2048),XS(d),d[Re]=d[uo]=t,d[Ge]=n,d[ao]=o||t&&t[ao],d[K]=a||t&&t[K],d[fi]=u||t&&t[fi]||null,d[Mt]=s,d[pu]=function oG(){return sG++}(),d[Pr]=l,d[AS]=c,d[ze]=2==e.type?t[ze]:d,d}function Lo(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Iy(t,e,n,r,i){const s=iA(),o=lm(),u=t.data[e]=function oq(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function po(){return null!==H.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function s4(){return H.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function _u(){const t=H.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ur(s,!0),s}function Uu(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function gM(t,e,n,r,i){const s=cM(e,gu),o=Gt(),a=2&r;try{ss(-1),a&&e.length>ne&&fM(t,e,ne,!1),ar(a?2:0,i);const c=a?s:null,l=nm(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{rm(c,l)}}finally{a&&null===e[gu]&&lM(e,gu),ss(o),ar(a?3:1,i)}}function Ey(t,e,n){if(Zg(e)){const r=An(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{An(r)}}}function Dy(t,e,n){rA()&&(function fq(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;ns(n)&&function wq(t,e,n){const r=sn(e,t),i=mM(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=sh(t,ih(t,i,null,o,r,e,null,t[ao].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Dd(n,e),Nt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=os(e,t,a,n);Nt(c,e),null!==o&&Iq(0,a-i,c,u,0,o),Hn(u)&&(yn(n.index,e)[Ge]=os(e,t,a,n))}}(t,e,n,sn(n,e)),64==(64&n.flags)&&IM(t,e,n))}function Ty(t,e,n=sn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function mM(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=by(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function by(t,e,n,r,i,s,o,a,u,c,l){const d=ne+r,h=d+i,f=function eq(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Y);return n}(d,h),p="function"==typeof c?c():c;return f[N]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let yM=t=>null;function vM(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?_M(n,e,i,s):r.hasOwnProperty(i)&&_M(n,e,r[i],s)}return n}function _M(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Cy(t,e,n,r){if(rA()){const i=null===r?null:{"":-1},s=function gq(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(ES(e,o.selectors,!1))if(r||(r=[]),Hn(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Sy(t,e,a.length)}else r.unshift(o),Sy(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&wM(t,e,n,o,i,a),i&&function mq(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new C(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=lu(n.mergedAttrs,n.attrs)}function wM(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Em(Dd(n,e),t,r[c].type);!function vq(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=Uu(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=lu(n.mergedAttrs,l.hostAttrs),_q(t,n,e,u,l),yq(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function aq(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=vM(d.inputs,l,u,h?h.inputs:null),c=vM(d.outputs,l,c,p);const g=null===u||null===o||IS(e)?null:Eq(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function IM(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function a4(){return H.lFrame.currentDirectiveIndex}();try{ss(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];hm(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&pq(u,c)}}finally{ss(-1),hm(o)}}function pq(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Sy(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function yq(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Hn(e)&&(n[""]=t)}}function _q(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=rs(i.type)),o=new wu(s,Hn(i),B);t.blueprint[r]=o,n[r]=o,function dq(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function hq(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Uu(t,n,i.hostVars,Y),i)}function Iq(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)EM(r,n,o[a++],o[a++],o[a++])}function EM(t,e,n,r,i){const s=An(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{An(s)}}function Eq(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function DM(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function TM(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];pm(n[r]),o.contentQueries(2,e[s],s)}}}function sh(t,e){return t[hu]?t[SS][$n]=e:t[hu]=e,t[SS]=e,e}function xy(t,e,n){pm(0);const r=An(null);try{e(t,n)}finally{An(r)}}function AM(t,e){const n=t[fi],r=n?n.get(Vr,null):null;r&&r.handleError(e)}function My(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];EM(t.data[o],e[o],r,a,i)}}function jr(t,e,n){const r=function yd(t,e){return Te(e[t])}(e,t);!function ex(t,e,n){t.setValue(e,n)}(t[K],r,n)}function Dq(t,e){const n=yn(e,t),r=n[N];!function Tq(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Ve];null!==i&&null===n[Pr]&&(n[Pr]=cy(i,n[fi])),Ny(r,n,n[Ge])}function Ny(t,e,n){gm(e);try{const r=t.viewQuery;null!==r&&xy(1,r,n);const i=t.template;null!==i&&gM(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&TM(t,e),t.staticViewQueries&&xy(2,t.viewQuery,n);const s=t.components;null!==s&&function bq(t,e){for(let n=0;n<e.length;n++)Dq(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[X]&=-5,mm()}}let xM=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function LH(t,e,n){const r=Object.create(VH);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>FS(r),run:()=>{if(r.dirty=!1,r.hasRun&&!LS(r))return;r.hasRun=!0;const o=nm(r);try{r.cleanupFn(),r.cleanupFn=zS,r.fn(i)}finally{rm(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(n,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t})}return t})();function oh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Og(i,a):2==s&&(r=Og(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function ju(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(Te(s)),$t(s)&&MM(s,r);const o=n.type;if(8&o)ju(t,e,n.child,r);else if(32&o){const a=Pm(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=cx(e,n);if(Array.isArray(a))r.push(...a);else{const u=Au(e[ze]);ju(u[N],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function MM(t,e){for(let n=_t;n<t.length;n++){const r=t[n],i=r[N].firstChild;null!==i&&ju(r[N],r,i,e)}t[or]!==t[Ve]&&e.push(t[or])}function ah(t,e,n,r=!0){const i=e[ao],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{NM(t,e,t.template,n)}catch(u){throw r&&AM(e,u),u}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function NM(t,e,n,r){const i=e[X];if(256!=(256&i)){e[ao].effectManager?.flush(),gm(e);try{XS(e),function oA(t){return H.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&gM(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&wd(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Id(e,c,0,null),ym(e,0)}if(function Aq(t){for(let e=JA(t);null!==e;e=XA(e)){if(!e[xS])continue;const n=e[lo];for(let r=0;r<n.length;r++){KH(n[r])}}}(e),RM(e,2),null!==t.contentQueries&&TM(t,e),o){const c=t.contentCheckHooks;null!==c&&wd(e,c)}else{const c=t.contentHooks;null!==c&&Id(e,c,1),ym(e,1)}!function Zz(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=cM(e,mu);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)ss(~s);else{const o=s,a=n[++i],u=n[++i];o4(a,o),r.dirty=!1;const c=nm(r);try{u(2,e[o])}finally{rm(r,c)}}}}finally{null===e[mu]&&lM(e,mu),ss(-1)}}(t,e);const a=t.components;null!==a&&PM(e,a,0);const u=t.viewQuery;if(null!==u&&xy(2,u,r),o){const c=t.viewCheckHooks;null!==c&&wd(e,c)}else{const c=t.viewHooks;null!==c&&Id(e,c,2),ym(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[X]&=-73,ZS(e)}finally{mm()}}}function RM(t,e){for(let n=JA(t);null!==n;n=XA(n))for(let r=_t;r<n.length;r++)kM(n[r],e)}function xq(t,e,n){kM(yn(e,t),n)}function kM(t,e){if(!function qH(t){return 128==(128&t[X])}(t))return;const n=t[N],r=t[X];if(80&r&&0===e||1024&r||2===e)NM(n,t,n.template,t[Ge]);else if(t[du]>0){RM(t,1);const i=n.components;null!==i&&PM(t,i,1)}}function PM(t,e,n){for(let r=0;r<e.length;r++)xq(t,e[r],n)}class Bu{get rootNodes(){const e=this._lView,n=e[N];return ju(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ge]}set context(e){this._lView[Ge]=e}get destroyed(){return 256==(256&this._lView[X])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Re];if($t(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Vd(e,r),Sd(n,r))}this._attachedToViewContainer=!1}Fm(this._lView[N],this._lView)}onDestroy(e){!function tA(t,e){if(256==(256&t[X]))throw new C(911,!1);null===t[pi]&&(t[pi]=[]),t[pi].push(e)}(this._lView,e)}markForCheck(){Vu(this._cdRefInjectingView||this._lView)}detach(){this._lView[X]&=-129}reattach(){this._lView[X]|=128}detectChanges(){ah(this._lView[N],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function wG(t,e){Mu(t,e,e[K],2,null,null)}(this._lView[N],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=e}}class Mq extends Bu{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;ah(e[N],e,e[Ge],!1)}checkNoChanges(){}get context(){return null}}class OM extends eh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=se(e);return new $u(n,this.ngModule)}}function FM(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Rq{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=cd(r);const i=this.injector.get(e,hy,r);return i!==hy||n===hy?i:this.parentInjector.get(e,n,r)}}class $u extends jx{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=FM(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return FM(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function vH(t){return t.map(yH).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Mn?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new Rq(e,s):e,a=o.get($x,null);if(null===a)throw new C(407,!1);const d={rendererFactory:a,sanitizer:o.get(xz,null),effectManager:o.get(xM,null),afterRenderEventManager:o.get(_y,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function tq(t,e,n,r){const s=r.get(sM,!1)||n===jn.ShadowDom,o=t.selectRootElement(e,s);return function nq(t){yM(t)}(o),o}(h,r,this.componentDef.encapsulation,o):Ld(h,f,function Nq(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),w=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let v=null;null!==p&&(v=cy(p,o,!0));const T=by(0,null,null,1,0,null,null,null,null,null,null),R=ih(null,T,null,w,null,null,d,h,o,null,v);let L,J;gm(R);try{const Ee=this.componentDef;let Ut,xr=null;Ee.findHostDirectiveDefs?(Ut=[],xr=new Map,Ee.findHostDirectiveDefs(Ee,Ut,xr),Ut.push(Ee)):Ut=[Ee];const OC=function Pq(t,e){const n=t[N],r=ne;return t[r]=e,Lo(n,r,2,"#host",null)}(R,p),Sle=function Oq(t,e,n,r,i,s,o){const a=i[N];!function Fq(t,e,n,r){for(const i of t)e.mergedAttrs=lu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(oh(e,e.mergedAttrs,!0),null!==n&&fx(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=cy(e,i[fi]));const c=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=ih(i,mM(n),null,l,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&Sy(a,t,r.length-1),sh(i,d),i[t.index]=d}(OC,p,Ee,Ut,R,d,h);J=JS(T,ne),p&&function Vq(t,e,n,r){if(r)Yg(t,n,["ng-version",Hx.full]);else{const{attrs:i,classes:s}=function _H(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Bn(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Yg(t,n,i),s&&s.length>0&&hx(t,n,s.join(" "))}}(h,Ee,p,r),void 0!==n&&function Uq(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(J,this.ngContentSelectors,n),L=function Lq(t,e,n,r,i,s){const o=It(),a=i[N],u=sn(o,i);wM(a,i,o,n,null,r);for(let l=0;l<n.length;l++)Nt(os(i,a,o.directiveStart+l,o),i);IM(a,i,o),u&&Nt(u,i);const c=os(i,a,o.directiveStart+o.componentOffset,o);if(t[Ge]=i[Ge]=c,null!==s)for(const l of s)l(c,e);return Ey(a,o,t),c}(Sle,Ee,Ut,xr,R,[jq]),Ny(T,R,null)}finally{mm()}return new kq(this.componentType,L,Po(J,R),R,J)}}class kq extends Dz{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Mq(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;My(s[N],s,i,e,n),this.previousInputValues.set(e,n),Vu(yn(this._tNode.index,s))}}get injector(){return new zt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function jq(){const t=It();_d(E()[N],t)}function ch(t){return!!function Ry(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Rt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}let nN=function rN(t,e,n,r){return yi(!0),e[K].createComment("")};function Uy(t,e,n){const r=E();return Rt(r,go(),e)&&function _n(t,e,n,r,i,s,o,a){const u=sn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(My(t,n,l,r,i),ns(e)&&function cq(t,e){const n=yn(e,t);16&n[X]||(n[X]|=64)}(n,e.index)):3&e.type&&(r=function uq(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(oe(),function Pe(){const t=H.lFrame;return JS(t.tView,t.selectedIndex)}(),r,t,e,r[K],n,!1),Uy}function jy(t,e,n,r,i){const o=i?"class":"style";My(t,n,e.inputs[o],o,r)}function Ei(t,e,n,r){const i=E(),s=oe(),o=ne+t,a=i[K],u=s.firstCreatePass?function _3(t,e,n,r,i,s){const o=e.consts,u=Lo(e,t,2,r,mi(o,i));return Cy(e,n,u,mi(o,s)),null!==u.attrs&&oh(u,u.attrs,!1),null!==u.mergedAttrs&&oh(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=sN(s,i,u,a,e,t);i[o]=c;const l=pd(u);return ur(u,!0),fx(a,c,u),32!=(32&u.flags)&&vd()&&jd(s,i,c,u),0===function YH(){return H.lFrame.elementDepthCount}()&&Nt(c,i),function JH(){H.lFrame.elementDepthCount++}(),l&&(Dy(s,i,u),Ey(s,u,i)),null!==r&&Ty(i,u),Ei}function Di(){let t=It();lm()?function dm(){H.lFrame.isParent=!1}():(t=t.parent,ur(t,!1));const e=t;(function ZH(t){return H.skipHydrationRootTNode===t})(e)&&function r4(){H.skipHydrationRootTNode=null}(),function XH(){H.lFrame.elementDepthCount--}();const n=oe();return n.firstCreatePass&&(_d(n,t),Zg(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function v4(t){return 0!=(8&t.flags)}(e)&&jy(n,e,E(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function _4(t){return 0!=(16&t.flags)}(e)&&jy(n,e,E(),e.stylesWithoutHost,!1),Di}function ph(t,e,n,r){return Ei(t,e,n,r),Di(),ph}let sN=(t,e,n,r,i,s)=>(yi(!0),Ld(r,i,function pA(){return H.lFrame.currentNamespace}()));function Hy(){return E()}function gh(t){return!!t&&"function"==typeof t.then}function uN(t){return!!t&&"function"==typeof t.subscribe}function Wu(t,e,n,r){const i=E(),s=oe(),o=It();return function lN(t,e,n,r,i,s,o){const a=pd(r),c=t.firstCreatePass&&function CM(t){return t.cleanup||(t.cleanup=[])}(t),l=e[Ge],d=function bM(t){return t[oo]||(t[oo]=[])}(e);let h=!0;if(3&r.type||o){const g=sn(r,e),y=o?o(g):g,w=d.length,v=o?R=>o(Te(R[r.index])):r.index;let T=null;if(!o&&a&&(T=function b3(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[oo],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==T)(T.__ngLastListenerFn__||T).__ngNextListenerFn__=s,T.__ngLastListenerFn__=s,h=!1;else{s=hN(r,e,l,s,!1);const R=n.listen(y,i,s);d.push(s,R),c&&c.push(i,v,w,w+1)}}else s=hN(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let y=0;y<g;y+=2){const L=e[p[y]][p[y+1]].subscribe(s),J=d.length;d.push(s,L),c&&c.push(i,r.index,J,-(J+1))}}}(s,i,i[K],o,t,e,r),Wu}function dN(t,e,n,r){try{return ar(6,e,n),!1!==n(r)}catch(i){return AM(t,i),!1}finally{ar(7,e,n)}}function hN(t,e,n,r,i){return function s(o){if(o===Function)return r;Vu(t.componentOffset>-1?yn(t.index,e):e);let u=dN(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=dN(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function fN(t=1){return function c4(t){return(H.lFrame.contextLView=function l4(t,e){for(;t>0;)e=e[uo],t--;return e}(t,H.lFrame.contextLView))[Ge]}(t)}function Qu(t,e=""){const n=E(),r=oe(),i=t+ne,s=r.firstCreatePass?Lo(r,i,1,e,null):r.data[i],o=VN(r,n,s,e,t);n[i]=o,vd()&&jd(r,n,o,s),ur(s,!1)}let VN=(t,e,n,r,i)=>(yi(!0),function Fd(t,e){return t.createText(e)}(e[K],r));function Qy(t){return Yy("",t,""),Qy}function Yy(t,e,n){const r=E(),i=function Uo(t,e,n,r){return Rt(t,go(),n)?e+W(n)+r:Y}(r,t,e,n);return i!==Y&&jr(r,Gt(),i),Yy}const Qo="en-US";let oR=Qo;class hs{}class RR{}class rv extends hs{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new OM(this);const i=mn(e);this._bootstrapComponents=Ur(i.bootstrap),this._r3Injector=Kx(e,n,[{provide:hs,useValue:this},{provide:eh,useValue:this.componentFactoryResolver},...r],it(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class iv extends RR{constructor(e){super(),this.moduleType=e}create(e){return new rv(this.moduleType,e,[])}}class kR extends hs{constructor(e){super(),this.componentFactoryResolver=new OM(this),this.instance=null;const n=new Mo([...e.providers,{provide:hs,useValue:this},{provide:eh,useValue:this.componentFactoryResolver}],e.parent||Wd(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function sv(t,e,n=null){return new kR({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let I9=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Mx(0,n.type),i=r.length>0?sv([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=j({token:t,providedIn:"environment",factory:()=>new t(U(Mn))})}return t})();function PR(t){t.getStandaloneInjector=e=>e.get(I9).getOrCreateStandaloneInjector(t)}function Q9(t,e,n,r=!0){const i=e[N];if(function EG(t,e,n,r){const i=_t+r,s=n.length;r>0&&(n[i-1][$n]=e),r<s-_t?(e[$n]=n[i],MA(n,_t+r,e)):(n.push(e),e[$n]=null),e[Re]=n;const o=e[fu];null!==o&&n!==o&&function DG(t,e){const n=t[lo];e[ze]!==e[Re][Re][ze]&&(t[xS]=!0),null===n?t[lo]=[e]:n.push(e)}(o,e);const a=e[sr];null!==a&&a.insertView(t),e[X]|=128}(i,e,t,n),r){const s=jm(n,t),o=e[K],a=Ud(o,t[or]);null!==a&&function _G(t,e,n,r,i,s){r[Ve]=i,r[Mt]=e,Mu(t,r,n,1,i,s)}(i,t[Mt],o,e,a,s)}}Symbol;let Br=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=X9}return t})();const Y9=Br,J9=class extends Y9{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function K9(t,e,n,r){const i=e.tView,a=ih(t,i,n,4096&t[X]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[fu]=t[e.index];const c=t[sr];return null!==c&&(a[sr]=c.createEmbeddedView(i)),Ny(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new Bu(i)}};function X9(){return function Eh(t,e){return 4&t.type?new J9(e,t,Po(t,e)):null}(It(),E())}let qn=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=i5}return t})();function i5(){return function XR(t,e){let n;const r=e[t.index];return $t(r)?n=r:(n=DM(r,e,null,t),e[t.index]=n,sh(e,n)),ZR(n,e,t,r),new YR(n,t,e)}(It(),E())}const s5=qn,YR=class extends s5{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Po(this._hostTNode,this._hostLView)}get injector(){return new zt(this._hostTNode,this._hostLView)}get parentInjector(){const e=Td(this._hostTNode,this._hostLView);if(_m(e)){const n=Eu(e,this._hostLView),r=Iu(e);return new zt(n[N].data[r+8],n)}return new zt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=JR(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-_t}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function Tu(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const u=o?e:new $u(se(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const y=(o?c:this.parentInjector).get(Mn,null);y&&(s=y)}se(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function WH(t){return $t(t[Re])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[Re],l=new YR(c,c[Mt],c[Re]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return Q9(a,i,o,!r),e.attachToViewContainerRef(),MA(uv(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=JR(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Vd(this._lContainer,n);r&&(Sd(uv(this._lContainer),n),Fm(r[N],r))}detach(e){const n=this._adjustIndex(e,-1),r=Vd(this._lContainer,n);return r&&null!=Sd(uv(this._lContainer),n)?new Bu(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function JR(t){return t[8]}function uv(t){return t[8]||(t[8]=[])}let ZR=function ek(t,e,n,r){if(t[or])return;let i;i=8&n.type?Te(r):function o5(t,e){const n=t[K],r=n.createComment(""),i=sn(e,t);return as(n,Ud(n,i),r,function SG(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[or]=i};const _v=new O("Application Initializer");let wv=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=P(_v,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(gh(s))n.push(s);else if(uN(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),bk=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const $r=new O("LocaleId",{providedIn:"root",factory:()=>P($r,te.Optional|te.SkipSelf)||function L5(){return typeof $localize<"u"&&$localize.locale||Qo}()});let Ck=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Cn(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class j5{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let Sk=(()=>{class t{compileModuleSync(n){return new iv(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Ur(mn(n).declarations).reduce((o,a)=>{const u=se(a);return u&&o.push(new $u(u)),o},[]);return new j5(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Nk=new O(""),Ch=new O("");let bv,Dv=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,bv||(function uW(t){bv=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ge.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(U(ge),U(Tv),U(Ch))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})(),Tv=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return bv?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),bi=null;const Rk=new O("AllowMultipleToken"),Cv=new O("PlatformDestroyListeners"),Sv=new O("appBootstrapListener");class Pk{constructor(e,n){this.name=e,this.token=n}}function Fk(t,e,n=[]){const r=`Platform: ${e}`,i=new O(r);return(s=[])=>{let o=Av();if(!o||o.injector.get(Rk,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function dW(t){if(bi&&!bi.get(Rk,!1))throw new C(400,!1);(function kk(){!function RH(t){BS=t}(()=>{throw new C(600,!1)})})(),bi=t;const e=t.get(Vk);(function Ok(t){t.get(Ox,null)?.forEach(n=>n())})(t)}(function Lk(t=[],e){return un.create({name:e,providers:[{provide:Xm,useValue:"platform"},{provide:Cv,useValue:new Set([()=>bi=null])},...t]})}(a,r))}return function fW(t){const e=Av();if(!e)throw new C(401,!1);return e}()}}function Av(){return bi?.get(Vk)??null}let Vk=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function pW(t="zone.js",e){return"noop"===t?new Bz:"zone.js"===t?new ge(e):t}(r?.ngZone,function Uk(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function w9(t,e,n){return new rv(t,e,n)}(n.moduleType,this.injector,function Gk(t){return[{provide:ge,useFactory:t},{provide:Pu,multi:!0,useFactory:()=>{const e=P(mW,{optional:!0});return()=>e.initialize()}},{provide:Hk,useFactory:gW},{provide:Zx,useFactory:eM}]}(()=>i)),o=s.injector.get(Vr,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{Sh(this._modules,s),a.unsubscribe()})}),function jk(t,e,n){try{const r=n();return gh(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(wv);return a.runInitializers(),a.donePromise.then(()=>(function aR(t){Sn(t,"Expected localeId to be defined"),"string"==typeof t&&(oR=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get($r,Qo)||Qo),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=Bk({},r);return function cW(t,e,n){const r=new iv(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Xo);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new C(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new C(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Cv,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(U(un))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function Bk(t,e){return Array.isArray(e)?e.reduce(Bk,t):{...t,...e}}let Xo=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=P(Hk),this.zoneIsStable=P(Zx),this.componentTypes=[],this.components=[],this.isStable=P(Ck).hasPendingTasks.pipe(nr(n=>n?z(!1):this.zoneIsStable),function H$(t,e=li){return t=t??G$,nt((n,r)=>{let i,s=!0;n.subscribe(rt(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),sS()),this._injector=P(Mn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof jx;if(!this._injector.get(wv).done)throw!i&&function so(t){const e=se(t)||vt(t)||Bt(t);return null!==e&&e.standalone}(n),new C(405,!1);let o;o=i?n:this._injector.get(eh).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function lW(t){return t.isBoundToModule}(o)?void 0:this._injector.get(hs),c=o.create(un.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(Nk,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Sh(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new C(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Sh(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Sv,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Sh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new C(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Sh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Hk=new O("",{providedIn:"root",factory:()=>P(Vr).handleError.bind(void 0)});function gW(){const t=P(ge),e=P(Vr);return n=>t.runOutsideAngular(()=>e.handleError(n))}let mW=(()=>{class t{constructor(){this.zone=P(ge),this.applicationRef=P(Xo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let xv=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=vW}return t})();function vW(t){return function _W(t,e,n){if(ns(t)&&!n){const r=yn(t.index,e);return new Bu(r,r)}return 47&t.type?new Bu(e[ze],e):null}(It(),E(),16==(16&t))}class Kk{constructor(){}supports(e){return ch(e)}create(e){return new bW(e)}}const TW=(t,e)=>e;class bW{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||TW}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<Yk(r,i,s)?n:r,a=Yk(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!ch(e))throw new C(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function Jq(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new CW(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new Qk),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Qk),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class CW{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class SW{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Qk{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new SW,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Yk(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Xk(){return new Mh([new Kk])}let Mh=(()=>{class t{static#e=this.\u0275prov=j({token:t,providedIn:"root",factory:Xk});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Xk()),deps:[[t,new xd,new on]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new C(901,!1)}}return t})();const RW=Fk(null,"core",[]);let kW=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(U(Xo))};static#t=this.\u0275mod=kr({type:t});static#n=this.\u0275inj=rr({})}return t})(),Fv=null;function Zo(){return Fv}class WW{}const Rn=new O("DocumentToken");let Lv=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:function(){return P(QW)},providedIn:"platform"})}return t})();const KW=new O("Location Initialized");let QW=(()=>{class t extends Lv{constructor(){super(),this._doc=P(Rn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Zo().getBaseHref(this._doc)}onPopState(n){const r=Zo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Zo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function Vv(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function u1(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Hr(t){return t&&"?"!==t[0]?"?"+t:t}let ps=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:function(){return P(l1)},providedIn:"root"})}return t})();const c1=new O("appBaseHref");let l1=(()=>{class t extends ps{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(Rn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Vv(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Hr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Hr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Hr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(U(Lv),U(c1,8))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),YW=(()=>{class t extends ps{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Vv(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Hr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Hr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(U(Lv),U(c1,8))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})(),Uv=(()=>{class t{constructor(n){this._subject=new qt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function ZW(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(u1(d1(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Hr(r))}normalize(n){return t.stripTrailingSlash(function XW(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,d1(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Hr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Hr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=Hr;static#t=this.joinWithSlash=Vv;static#n=this.stripTrailingSlash=u1;static#r=this.\u0275fac=function(r){return new(r||t)(U(ps))};static#i=this.\u0275prov=j({token:t,factory:function(){return function JW(){return new Uv(U(ps))}()},providedIn:"root"})}return t})();function d1(t){return t.replace(/\/index.html$/,"")}class j7{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let E1=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new j7(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),D1(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{D1(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(B(qn),B(Br),B(Mh))};static#t=this.\u0275dir=jt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function D1(t,e){t.context.$implicit=e.item}let f8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=kr({type:t});static#n=this.\u0275inj=rr({})}return t})();function A1(t){return"server"===t}let y8=(()=>{class t{static#e=this.\u0275prov=j({token:t,providedIn:"root",factory:()=>new v8(U(Rn),window)})}return t})();class v8{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function _8(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class H8 extends WW{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class n_ extends H8{static makeCurrent(){!function qW(t){Fv||(Fv=t)}(new n_)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function G8(){return cc=cc||document.querySelector("base"),cc?cc.getAttribute("href"):null}();return null==n?null:function z8(t){Gh=Gh||document.createElement("a"),Gh.setAttribute("href",t);const e=Gh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){cc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function L7(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Gh,cc=null,W8=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();const r_=new O("EventManagerPlugins");let k1=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new C(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(U(r_),U(ge))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();class P1{constructor(e){this._doc=e}}const i_="ng-app-id";let O1=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=A1(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${i_}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(i_),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(i_,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(U(Rn),U(Kd),U(Fx,8),U(wi))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();const s_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},o_=/%COMP%/g,J8=new O("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function L1(t,e){return e.map(n=>n.replace(o_,t))}let V1=(()=>{class t{constructor(n,r,i,s,o,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=A1(a),this.defaultRenderer=new a_(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===jn.ShadowDom&&(r={...r,encapsulation:jn.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof j1?i.applyToHost(n):i instanceof u_&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case jn.Emulated:s=new j1(u,c,r,this.appId,l,o,a,d);break;case jn.ShadowDom:return new tK(u,c,n,r,o,a,this.nonce,d);default:s=new u_(u,c,r,l,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(U(k1),U(O1),U(Kd),U(J8),U(Rn),U(wi),U(ge),U(Fx))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();class a_{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(s_[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(U1(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(U1(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new C(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=s_[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=s_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(vi.DashCase|vi.Important)?e.style.setProperty(n,r,i&vi.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&vi.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Zo().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function U1(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class tK extends a_{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=L1(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class u_ extends a_{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?L1(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class j1 extends u_{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function X8(t){return"_ngcontent-%COMP%".replace(o_,t)}(c),this.hostAttr=function Z8(t){return"_nghost-%COMP%".replace(o_,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let nK=(()=>{class t extends P1{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(U(Rn))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();const B1=["alt","control","meta","shift"],rK={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},iK={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let sK=(()=>{class t extends P1{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zo().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),B1.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=rK[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),B1.forEach(o=>{o!==i&&(0,iK[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(U(Rn))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();const H1=[{provide:wi,useValue:"browser"},{provide:Ox,useValue:function oK(){n_.makeCurrent()},multi:!0},{provide:Rn,useFactory:function uK(){return function OG(t){Hm=t}(document),document},deps:[]}],cK=Fk(RW,"browser",H1),lK=new O(""),G1=[{provide:Ch,useClass:class q8{addToWindow(e){De.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new C(5103,!1);return s},De.getAllAngularTestabilities=()=>e.getAllTestabilities(),De.getAllAngularRootElements=()=>e.getAllRootElements(),De.frameworkStabilizers||(De.frameworkStabilizers=[]),De.frameworkStabilizers.push(r=>{const i=De.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Zo().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:Nk,useClass:Dv,deps:[ge,Tv,Ch]},{provide:Dv,useClass:Dv,deps:[ge,Tv,Ch]}],z1=[{provide:Xm,useValue:"root"},{provide:Vr,useFactory:function aK(){return new Vr},deps:[]},{provide:r_,useClass:nK,multi:!0,deps:[Rn,ge,wi]},{provide:r_,useClass:sK,multi:!0,deps:[Rn]},V1,O1,k1,{provide:$x,useExisting:V1},{provide:class w8{},useClass:W8,deps:[]},[]];let dK=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Kd,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(U(lK,12))};static#t=this.\u0275mod=kr({type:t});static#n=this.\u0275inj=rr({providers:[...z1,...G1],imports:[f8,kW]})}return t})(),q1=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(U(Rn))};static#t=this.\u0275prov=j({token:t,factory:function(r){let i=null;return i=r?new r:function fK(){return new q1(U(Rn))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;const{isArray:_K}=Array,{getPrototypeOf:wK,prototype:IK,keys:EK}=Object;const{isArray:bK}=Array;function l_(...t){const e=ou(t),n=function P$(t){return _e(kg(t))?t.pop():void 0}(t),{args:r,keys:i}=function DK(t){if(1===t.length){const e=t[0];if(_K(e))return{args:e,keys:null};if(function TK(t){return t&&"object"==typeof t&&wK(t)===IK}(e)){const n=EK(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return yt([],e);const s=new Le(function xK(t,e,n=li){return r=>{Y1(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)Y1(e,()=>{const c=yt(t[u],e);let l=!1;c.subscribe(rt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>function AK(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,o):li));return n?s.pipe(function SK(t){return we(e=>function CK(t,e){return bK(e)?t(...e):t(e)}(t,e))}(n)):s}function Y1(t,e,n){t?Mr(n,t,e):e()}const zh=iu(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function d_(...t){return function MK(){return ro(1)}()(yt(t,ou(t)))}function J1(t){return new Le(e=>{bn(t()).subscribe(e)})}function lc(t,e){const n=_e(t)?t:()=>t,r=i=>i.error(n());return new Le(e?i=>e.schedule(r,0,i):r)}function h_(){return nt((t,e)=>{let n=null;t._refCount++;const r=rt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class X1 extends Le{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,HC(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new en;const n=this.getSubject();e.add(this.source.subscribe(rt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=en.EMPTY)}return e}refCount(){return h_()(this)}}function ta(t){return t<=0?()=>tr:nt((e,n)=>{let r=0;e.subscribe(rt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Si(t,e){return nt((n,r)=>{let i=0;n.subscribe(rt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function qh(t){return nt((e,n)=>{let r=!1;e.subscribe(rt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Z1(t=RK){return nt((e,n)=>{let r=!1;e.subscribe(rt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function RK(){return new zh}function gs(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Si((i,s)=>t(i,s,r)):li,ta(1),n?qh(e):Z1(()=>new zh))}function dc(t,e){return _e(e)?mt(t,e,1):mt(t,1)}function Et(t,e,n){const r=_e(t)||e||n?{next:t,error:e,complete:n}:t;return r?nt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(rt(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):li}function ms(t){return nt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(rt(n,void 0,void 0,o=>{s=bn(t(o,ms(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function f_(t){return t<=0?()=>tr:nt((e,n)=>{let r=[];e.subscribe(rt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function p_(t){return nt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const Z="primary",hc=Symbol("RouteTitle");class VK{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function na(t){return new VK(t)}function UK(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function pr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!eP(t[i],e[i]))return!1;return!0}function eP(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function tP(t){return t.length>0?t[t.length-1]:null}function Ai(t){return function vK(t){return!!t&&(t instanceof Le||_e(t.lift)&&_e(t.subscribe))}(t)?t:gh(t)?yt(Promise.resolve(t)):z(t)}const BK={exact:function iP(t,e,n){if(!ys(t.segments,e.segments)||!Wh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!iP(t.children[r],e.children[r],n))return!1;return!0},subset:sP},nP={exact:function $K(t,e){return pr(t,e)},subset:function HK(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>eP(t[n],e[n]))},ignored:()=>!0};function rP(t,e,n){return BK[n.paths](t.root,e.root,n.matrixParams)&&nP[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function sP(t,e,n){return oP(t,e,e.segments,n)}function oP(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!ys(i,n)||e.hasChildren()||!Wh(i,n,r))}if(t.segments.length===n.length){if(!ys(t.segments,n)||!Wh(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!sP(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(ys(t.segments,i)&&Wh(t.segments,i,r)&&t.children[Z])&&oP(t.children[Z],e,s,r)}}function Wh(t,e,n){return e.every((r,i)=>nP[n](t[i].parameters,r.parameters))}class ra{constructor(e=new me([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=na(this.queryParams)),this._queryParamMap}toString(){return qK.serialize(this)}}class me{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kh(this)}}class fc{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=na(this.parameters)),this._parameterMap}toString(){return cP(this)}}function ys(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let pc=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:function(){return new g_},providedIn:"root"})}return t})();class g_{parse(e){const n=new rQ(e);return new ra(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${gc(e.root,!0)}`,r=function QK(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Qh(n)}=${Qh(i)}`).join("&"):`${Qh(n)}=${Qh(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function WK(t){return encodeURI(t)}(e.fragment)}`:""}`}}const qK=new g_;function Kh(t){return t.segments.map(e=>cP(e)).join("/")}function gc(t,e){if(!t.hasChildren())return Kh(t);if(e){const n=t.children[Z]?gc(t.children[Z],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==Z&&r.push(`${i}:${gc(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function zK(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Z&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Z&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===Z?[gc(t.children[Z],!1)]:[`${i}:${gc(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Z]?`${Kh(t)}/${n[0]}`:`${Kh(t)}/(${n.join("//")})`}}function aP(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qh(t){return aP(t).replace(/%3B/gi,";")}function m_(t){return aP(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yh(t){return decodeURIComponent(t)}function uP(t){return Yh(t.replace(/\+/g,"%20"))}function cP(t){return`${m_(t.path)}${function KK(t){return Object.keys(t).map(e=>`;${m_(e)}=${m_(t[e])}`).join("")}(t.parameters)}`}const YK=/^[^\/()?;#]+/;function y_(t){const e=t.match(YK);return e?e[0]:""}const JK=/^[^\/()?;=#]+/,ZK=/^[^=?&#]+/,tQ=/^[^&#]+/;class rQ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new me([],{}):new me([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Z]=new me(e,n)),r}parseSegment(){const e=y_(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new C(4009,!1);return this.capture(e),new fc(Yh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function XK(t){const e=t.match(JK);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=y_(this.remaining);i&&(r=i,this.capture(r))}e[Yh(n)]=Yh(r)}parseQueryParam(e){const n=function eQ(t){const e=t.match(ZK);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function nQ(t){const e=t.match(tQ);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=uP(n),s=uP(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=y_(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new C(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Z);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[Z]:new me([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new C(4011,!1)}}function lP(t){return t.segments.length>0?new me([],{[Z]:t}):t}function dP(t){const e={};for(const r of Object.keys(t.children)){const s=dP(t.children[r]);if(r===Z&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function iQ(t){if(1===t.numberOfChildren&&t.children[Z]){const e=t.children[Z];return new me(t.segments.concat(e.segments),e.children)}return t}(new me(t.segments,e))}function vs(t){return t instanceof ra}function hP(t){let e;const i=lP(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new me(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function fP(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return v_(i,i,i,n,r);const s=function oQ(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new gP(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new gP(n,e,r)}(e);if(s.toRoot())return v_(i,i,new me([],{}),n,r);const o=function aQ(t,e,n){if(t.isAbsolute)return new Xh(e,!0,0);if(!n)return new Xh(e,!1,NaN);if(null===n.parent)return new Xh(n,!0,0);const r=Jh(t.commands[0])?0:1;return function uQ(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new C(4005,!1);i=r.segments.length}return new Xh(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?yc(o.segmentGroup,o.index,s.commands):mP(o.segmentGroup,o.index,s.commands);return v_(i,o.segmentGroup,a,n,r)}function Jh(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function mc(t){return"object"==typeof t&&null!=t&&t.outlets}function v_(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:pP(t,e,n);const a=lP(dP(o));return new ra(a,s,i)}function pP(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:pP(s,e,n)}),new me(t.segments,r)}class gP{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Jh(r[0]))throw new C(4003,!1);const i=r.find(mc);if(i&&i!==tP(r))throw new C(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Xh{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function mP(t,e,n){if(t||(t=new me([],{})),0===t.segments.length&&t.hasChildren())return yc(t,e,n);const r=function lQ(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(mc(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!vP(u,c,o))return s;r+=2}else{if(!vP(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new me(t.segments.slice(0,r.pathIndex),{});return s.children[Z]=new me(t.segments.slice(r.pathIndex),t.children),yc(s,0,i)}return r.match&&0===i.length?new me(t.segments,{}):r.match&&!t.hasChildren()?__(t,e,n):r.match?yc(t,0,i):__(t,e,n)}function yc(t,e,n){if(0===n.length)return new me(t.segments,{});{const r=function cQ(t){return mc(t[0])?t[0].outlets:{[Z]:t}}(n),i={};if(Object.keys(r).some(s=>s!==Z)&&t.children[Z]&&1===t.numberOfChildren&&0===t.children[Z].segments.length){const s=yc(t.children[Z],e,n);return new me(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=mP(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new me(t.segments,i)}}function __(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(mc(s)){const u=dQ(s.outlets);return new me(r,u)}if(0===i&&Jh(n[0])){r.push(new fc(t.segments[e].path,yP(n[0]))),i++;continue}const o=mc(s)?s.outlets[Z]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Jh(a)?(r.push(new fc(o,yP(a))),i+=2):(r.push(new fc(o,{})),i++)}return new me(r,{})}function dQ(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=__(new me([],{}),0,r))}),e}function yP(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function vP(t,e,n){return t==n.path&&pr(e,n.parameters)}const vc="imperative";class gr{constructor(e,n){this.id=e,this.url=n}}class Zh extends gr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xi extends gr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _c extends gr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ia extends gr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class ef extends gr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _P extends gr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hQ extends gr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fQ extends gr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class pQ extends gr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gQ extends gr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mQ{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class yQ{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vQ{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _Q{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wQ{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IQ{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wP{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class w_{}class I_{constructor(e){this.url=e}}class EQ{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new wc,this.attachRef=null}}let wc=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new EQ,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class IP{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=E_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=E_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=D_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return D_(e,this._root).map(n=>n.value)}}function E_(t,e){if(t===e.value)return e;for(const n of e.children){const r=E_(t,n);if(r)return r}return null}function D_(t,e){if(t===e.value)return[e];for(const n of e.children){const r=D_(t,n);if(r.length)return r.unshift(e),r}return[]}class qr{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function sa(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class EP extends IP{constructor(e,n){super(e),this.snapshot=n,T_(this,e)}toString(){return this.snapshot.toString()}}function DP(t,e){const n=function DQ(t,e){const o=new tf([],{},{},"",{},Z,e,null,{});return new bP("",new qr(o,[]))}(0,e),r=new Cn([new fc("",{})]),i=new Cn({}),s=new Cn({}),o=new Cn({}),a=new Cn(""),u=new oa(r,i,o,a,s,Z,e,n.root);return u.snapshot=n.root,new EP(new qr(u,[]),n)}class oa{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(we(c=>c[hc]))??z(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(we(e=>na(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(we(e=>na(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function TP(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function TQ(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class tf{get title(){return this.data?.[hc]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=na(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=na(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class bP extends IP{constructor(e,n){super(n),this.url=e,T_(this,n)}toString(){return CP(this._root)}}function T_(t,e){e.value._routerState=t,e.children.forEach(n=>T_(t,n))}function CP(t){const e=t.children.length>0?` { ${t.children.map(CP).join(", ")} } `:"";return`${t.value}${e}`}function b_(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,pr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),pr(e.params,n.params)||t.paramsSubject.next(n.params),function jK(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!pr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),pr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function C_(t,e){const n=pr(t.params,e.params)&&function GK(t,e){return ys(t,e)&&t.every((n,r)=>pr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||C_(t.parent,e.parent))}let SP=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Z,this.activateEvents=new qt,this.deactivateEvents=new qt,this.attachEvents=new qt,this.detachEvents=new qt,this.parentContexts=P(wc),this.location=P(qn),this.changeDetector=P(xv),this.environmentInjector=P(Mn),this.inputBinder=P(nf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new C(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new bQ(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=jt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[is]})}return t})();class bQ{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===oa?this.route:e===wc?this.childContexts:this.parent.get(e,n)}}const nf=new O("");let AP=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=l_([r.queryParams,r.params,r.data]).pipe(nr(([s,o,a],u)=>(a={...s,...o,...a},0===u?z(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function zW(t){const e=se(t);if(!e)return null;const n=new $u(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();function Ic(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function SQ(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ic(t,r,i);return Ic(t,r)})}(t,e,n);return new qr(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ic(t,a)),o}}const r=function AQ(t){return new oa(new Cn(t.url),new Cn(t.params),new Cn(t.queryParams),new Cn(t.fragment),new Cn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Ic(t,s));return new qr(r,i)}}const S_="ngNavigationCancelingError";function xP(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=vs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=MP(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function MP(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[S_]=!0,r.cancellationCode=e,n&&(r.url=n),r}function NP(t){return t&&t[S_]}let RP=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Jg({type:t,selectors:[["ng-component"]],standalone:!0,features:[PR],decls:1,vars:0,template:function(r,i){1&r&&ph(0,"router-outlet")},dependencies:[SP],encapsulation:2})}return t})();function A_(t){const e=t.children&&t.children.map(A_),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Z&&(n.component=RP),n}function Qn(t){return t.outlet||Z}function Ec(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class FQ{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),b_(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=sa(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=sa(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=sa(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=sa(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new IQ(s.value.snapshot))}),e.children.length&&this.forwardEvent(new _Q(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(b_(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),b_(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Ec(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class kP{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class rf{constructor(e,n){this.component=e,this.route=n}}function LQ(t,e,n){const r=t._root;return Dc(r,e?e._root:null,n,[r.value])}function aa(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function J$(t){return null!==sd(t)}(t)?e.get(t):t:r}function Dc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=sa(e);return t.children.forEach(o=>{(function UQ(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function jQ(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ys(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ys(t.url,e.url)||!pr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!C_(t,e)||!pr(t.queryParams,e.queryParams);default:return!C_(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new kP(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Dc(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new rf(a.outlet.component,o))}else o&&Tc(e,a,i),i.canActivateChecks.push(new kP(r)),Dc(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Tc(a,n.getContext(o),i)),i}function Tc(t,e,n){const r=sa(t),i=t.value;Object.entries(r).forEach(([s,o])=>{Tc(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new rf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function bc(t){return"function"==typeof t}function PP(t){return t instanceof zh||"EmptyError"===t?.name}const sf=Symbol("INITIAL_VALUE");function ua(){return nr(t=>l_(t.map(e=>e.pipe(ta(1),function NK(...t){const e=ou(t);return nt((n,r)=>{(e?d_(t,n,e):d_(t,n)).subscribe(r)})}(sf)))).pipe(we(e=>{for(const n of e)if(!0!==n){if(n===sf)return sf;if(!1===n||n instanceof ra)return n}return!0}),Si(e=>e!==sf),ta(1)))}function OP(t){return function ZB(...t){return jC(t)}(Et(e=>{if(vs(e))throw xP(0,e)}),we(e=>!0===e))}class af{constructor(e){this.segmentGroup=e||null}}class FP{constructor(e){this.urlTree=e}}function ca(t){return lc(new af(t))}function LP(t){return lc(new FP(t))}class oY{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new C(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return z(r);if(i.numberOfChildren>1||!i.children[Z])return lc(new C(4e3,!1));i=i.children[Z]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new ra(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new me(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new C(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const x_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function aY(t,e,n,r,i){const s=M_(t,e,n);return s.matched?(r=function MQ(t,e){return t.providers&&!t._injector&&(t._injector=sv(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function rY(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?z(i.map(o=>{const a=aa(o,t);return Ai(function qQ(t){return t&&bc(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(ua(),OP()):z(!0)}(r,e,n).pipe(we(o=>!0===o?s:{...x_}))):z(s)}function M_(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...x_}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||UK)(n,t,e);if(!i)return{...x_};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function VP(t,e,n,r){return n.length>0&&function lY(t,e,n){return n.some(r=>uf(t,e,r)&&Qn(r)!==Z)}(t,n,r)?{segmentGroup:new me(e,cY(r,new me(n,t.children))),slicedSegments:[]}:0===n.length&&function dY(t,e,n){return n.some(r=>uf(t,e,r))}(t,n,r)?{segmentGroup:new me(t.segments,uY(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new me(t.segments,t.children),slicedSegments:n}}function uY(t,e,n,r,i){const s={};for(const o of r)if(uf(t,n,o)&&!i[Qn(o)]){const a=new me([],{});s[Qn(o)]=a}return{...i,...s}}function cY(t,e){const n={};n[Z]=e;for(const r of t)if(""===r.path&&Qn(r)!==Z){const i=new me([],{});n[Qn(r)]=i}return n}function uf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class gY{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new oY(this.urlSerializer,this.urlTree)}noMatchError(e){return new C(4002,!1)}recognize(){const e=VP(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Z).pipe(ms(n=>{if(n instanceof FP)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof af?this.noMatchError(n):n}),we(n=>{const r=new tf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Z,this.rootComponentType,null,{}),i=new qr(r,n),s=new bP("",i),o=function sQ(t,e,n=null,r=null){return fP(hP(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Z).pipe(ms(r=>{throw r instanceof af?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=TP(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return yt(i).pipe(dc(s=>{const o=r.children[s],a=function PQ(t,e){const n=t.filter(r=>Qn(r)===e);return n.push(...t.filter(r=>Qn(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function PK(t,e){return nt(function kK(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(rt(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),qh(null),function OK(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Si((i,s)=>t(i,s,r)):li,f_(1),n?qh(e):Z1(()=>new zh))}(),mt(s=>{if(null===s)return ca(r);const o=UP(s);return function mY(t){t.sort((e,n)=>e.value.outlet===Z?-1:n.value.outlet===Z?1:e.value.outlet.localeCompare(n.value.outlet))}(o),z(o)}))}processSegment(e,n,r,i,s,o){return yt(n).pipe(dc(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(ms(u=>{if(u instanceof af)return z(null);throw u}))),gs(a=>!!a),ms(a=>{if(PP(a))return function fY(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?z([]):ca(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function hY(t,e,n,r){return!!(Qn(t)===r||r!==Z&&uf(e,n,t))&&("**"===t.path||M_(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):ca(i):ca(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?LP(s):this.applyRedirects.lineralizeSegments(r,s).pipe(mt(o=>{const a=new me(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=M_(n,i,s);if(!a)return ca(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?LP(d):this.applyRedirects.lineralizeSegments(i,d).pipe(mt(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?tP(i).parameters:{};a=z({snapshot:new tf(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jP(r),Qn(r),r.component??r._loadedComponent??null,r,BP(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=aY(n,r,i,e).pipe(we(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new tf(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jP(r),Qn(r),r.component??r._loadedComponent??null,r,BP(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(nr(u=>null===u?ca(n):this.getChildConfig(e=r._injector??e,r,i).pipe(nr(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:g}=VP(n,h,f,c);if(0===g.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(we(w=>null===w?null:[new qr(d,w)]));if(0===c.length&&0===g.length)return z([new qr(d,[])]);const y=Qn(r)===s;return this.processSegment(l,c,p,g,y?Z:s,!0).pipe(we(w=>[new qr(d,w)]))}))))}getChildConfig(e,n,r){return n.children?z({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?z({routes:n._loadedRoutes,injector:n._loadedInjector}):function nY(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?z(!0):z(i.map(o=>{const a=aa(o,t);return Ai(function $Q(t){return t&&bc(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(ua(),OP())}(e,n,r).pipe(mt(i=>i?this.configLoader.loadChildren(e,n).pipe(Et(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function sY(t){return lc(MP(!1,3))}())):z({routes:[],injector:e})}}function yY(t){const e=t.value.routeConfig;return e&&""===e.path}function UP(t){const e=[],n=new Set;for(const r of t){if(!yY(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=UP(r.children);e.push(new qr(r.value,i))}return e.filter(r=>!n.has(r))}function jP(t){return t.data||{}}function BP(t){return t.resolve||{}}function $P(t){return"string"==typeof t.title||null===t.title}function N_(t){return nr(e=>{const n=t(e);return n?yt(n).pipe(we(()=>e)):z(e)})}const la=new O("ROUTES");let R_=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=P(Sk)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return z(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Ai(n.loadComponent()).pipe(we(HP),Et(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),p_(()=>{this.componentLoaders.delete(n)})),i=new X1(r,()=>new Un).pipe(h_());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function TY(t,e,n,r){return Ai(t.loadChildren()).pipe(we(HP),mt(i=>i instanceof RR||Array.isArray(i)?z(i):yt(e.compileModuleAsync(i))),we(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(la,[],{optional:!0,self:!0}).flat()),{routes:o.map(A_),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(p_(()=>{this.childrenLoaders.delete(r)})),o=new X1(s,()=>new Un).pipe(h_());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function HP(t){return function bY(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let cf=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Un,this.transitionAbortSubject=new Un,this.configLoader=P(R_),this.environmentInjector=P(Mn),this.urlSerializer=P(pc),this.rootContexts=P(wc),this.inputBindingEnabled=null!==P(nf,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>z(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new yQ(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new mQ(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new Cn({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:vc,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Si(s=>0!==s.id),we(s=>({...s,extractedUrl:n.urlHandlingStrategy.extract(s.rawUrl)})),nr(s=>{this.currentTransition=s;let o=!1,a=!1;return z(s).pipe(Et(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),nr(u=>{const c=u.currentBrowserUrl.toString(),l=!n.navigated||u.extractedUrl.toString()!==c||c!==u.currentUrlTree.toString();if(!l&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new ia(u.id,this.urlSerializer.serialize(u.rawUrl),h,0)),u.resolve(null),tr}if(n.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return z(u).pipe(nr(h=>{const f=this.transitions?.getValue();return this.events.next(new Zh(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?tr:Promise.resolve(h)}),function vY(t,e,n,r,i,s){return mt(o=>function pY(t,e,n,r,i,s,o="emptyOnly"){return new gY(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(we(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Et(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new _P(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:y}=u,w=new Zh(h,this.urlSerializer.serialize(f),p,g);this.events.next(w);const v=DP(0,this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:v,urlAfterRedirects:f,extras:{...y,skipLocationChange:!1,replaceUrl:!1}},z(s)}{const h="";return this.events.next(new ia(u.id,this.urlSerializer.serialize(u.extractedUrl),h,1)),u.resolve(null),tr}}),Et(u=>{const c=new hQ(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),we(u=>(this.currentTransition=s={...u,guards:LQ(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function KQ(t,e){return mt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?z({...n,guardsResult:!0}):function QQ(t,e,n,r){return yt(t).pipe(mt(i=>function tY(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?z(s.map(a=>{const u=Ec(e)??i,c=aa(a,u);return Ai(function zQ(t){return t&&bc(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(gs())})).pipe(ua()):z(!0)}(i.component,i.route,n,e,r)),gs(i=>!0!==i,!0))}(o,r,i,t).pipe(mt(a=>a&&function BQ(t){return"boolean"==typeof t}(a)?function YQ(t,e,n,r){return yt(e).pipe(dc(i=>d_(function XQ(t,e){return null!==t&&e&&e(new vQ(t)),z(!0)}(i.route.parent,r),function JQ(t,e){return null!==t&&e&&e(new wQ(t)),z(!0)}(i.route,r),function eY(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function VQ(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>J1(()=>z(o.guards.map(u=>{const c=Ec(o.node)??n,l=aa(u,c);return Ai(function GQ(t){return t&&bc(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(gs())})).pipe(ua())));return z(s).pipe(ua())}(t,i.path,n),function ZQ(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return z(!0);const i=r.map(s=>J1(()=>{const o=Ec(e)??n,a=aa(s,o);return Ai(function HQ(t){return t&&bc(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(gs())}));return z(i).pipe(ua())}(t,i.route,n))),gs(i=>!0!==i,!0))}(r,s,t,e):z(a)),we(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),Et(u=>{if(s.guardsResult=u.guardsResult,vs(u.guardsResult))throw xP(0,u.guardsResult);const c=new fQ(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(c)}),Si(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),N_(u=>{if(u.guards.canActivateChecks.length)return z(u).pipe(Et(c=>{const l=new pQ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),nr(c=>{let l=!1;return z(c).pipe(function _Y(t,e){return mt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return z(n);let s=0;return yt(i).pipe(dc(o=>function wY(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!$P(i)&&(s[hc]=i.title),function IY(t,e,n,r){const i=function EY(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return z({});const s={};return yt(i).pipe(mt(o=>function DY(t,e,n,r){const i=Ec(e)??r,s=aa(t,i);return Ai(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(gs(),Et(a=>{s[o]=a}))),f_(1),function FK(t){return we(()=>t)}(s),ms(o=>PP(o)?tr:lc(o)))}(s,t,e,r).pipe(we(o=>(t._resolvedData=o,t.data=TP(t,n).resolve,i&&$P(i)&&(t.data[hc]=i.title),null)))}(o.route,r,t,e)),Et(()=>s++),f_(1),mt(o=>s===i.length?z(n):tr))})}(n.paramsInheritanceStrategy,this.environmentInjector),Et({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(c,"",2)}}))}),Et(c=>{const l=new gQ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}))}),N_(u=>{const c=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(Et(h=>{l.component=h}),we(()=>{})));for(const h of l.children)d.push(...c(h));return d};return l_(c(u.targetSnapshot.root)).pipe(qh(),ta(1))}),N_(()=>this.afterPreactivation()),we(u=>{const c=function CQ(t,e,n){const r=Ic(t,e._root,n?n._root:void 0);return new EP(r,e)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:c},s}),Et(()=>{this.events.next(new w_)}),((t,e,n,r)=>we(i=>(new FQ(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),ta(1),Et({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new xi(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),n.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),function LK(t){return nt((e,n)=>{bn(t).subscribe(rt(n,()=>n.complete(),Eg)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Et(u=>{throw u}))),p_(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),ms(u=>{if(a=!0,NP(u))this.events.next(new _c(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function xQ(t){return NP(t)&&vs(t.url)}(u)?this.events.next(new I_(u.url)):s.resolve(!1);else{this.events.next(new ef(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(u))}catch(c){s.reject(c)}}return tr}))}))}cancelNavigationTransition(n,r,i){const s=new _c(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function GP(t){return t!==vc}let zP=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Z);return r}getResolvedTitleForRoute(n){return n.data[hc]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:function(){return P(CY)},providedIn:"root"})}return t})(),CY=(()=>{class t extends zP{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(U(q1))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),SY=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:function(){return P(xY)},providedIn:"root"})}return t})();class AY{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let xY=(()=>{class t extends AY{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=function SA(t){return Nr(()=>{const e=t.prototype.constructor,n=e[Rr]||Dm(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Rr]||Dm(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(t)))(i||t)}}();static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const lf=new O("",{providedIn:"root",factory:()=>({})});let MY=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:function(){return P(NY)},providedIn:"root"})}return t})(),NY=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Cc=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Cc||{});function qP(t,e){t.events.pipe(Si(n=>n instanceof xi||n instanceof _c||n instanceof ef||n instanceof ia),we(n=>n instanceof xi||n instanceof ia?Cc.COMPLETE:n instanceof _c&&(0===n.code||1===n.code)?Cc.REDIRECTING:Cc.FAILED),Si(n=>n!==Cc.REDIRECTING),ta(1)).subscribe(()=>{e()})}function RY(t){throw t}function kY(t,e,n){return e.parse("/")}const PY={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},OY={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let On=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=P(bk),this.isNgZoneEnabled=!1,this._events=new Un,this.options=P(lf,{optional:!0})||{},this.pendingTasks=P(Ck),this.errorHandler=this.options.errorHandler||RY,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||kY,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=P(MY),this.routeReuseStrategy=P(SY),this.titleStrategy=P(zP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=P(la,{optional:!0})?.flat()??[],this.navigationTransitions=P(cf),this.urlSerializer=P(pc),this.location=P(Uv),this.componentInputBindingEnabled=!!P(nf,{optional:!0}),this.eventsSubscription=new en,this.isNgZoneEnabled=P(ge)instanceof ge&&ge.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ra,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=DP(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(WP(r)&&this._events.next(r));if(r instanceof Zh)GP(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof ia)this.rawUrlTree=i.rawUrl;else if(r instanceof _P){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof w_)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof _c)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof I_){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||GP(i.source)};this.scheduleNavigation(s,vc,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof ef&&this.restoreHistory(i,!0),r instanceof xi&&(this.navigated=!0),WP(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),vc,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(A_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}null!==l&&(l=this.removeEmptyProps(l));try{d=hP(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return fP(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=vs(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,vc,null,r)}navigate(n,r={skipLocationChange:!1}){return function FY(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new C(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...PY}:!1===r?{...OY}:r,vs(n))return rP(this.currentUrlTree,n,i);const s=this.parseUrl(n);return rP(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return qP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function WP(t){return!(t instanceof w_||t instanceof I_)}class KP{}let UY=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Si(n=>n instanceof xi),dc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=sv(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return yt(i).pipe(ro())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):z(null);const s=i.pipe(mt(o=>null===o?z(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?yt([s,this.loader.loadComponent(r)]).pipe(ro()):s})}static#e=this.\u0275fac=function(r){return new(r||t)(U(On),U(Sk),U(Mn),U(KP),U(R_))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const P_=new O("");let QP=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Zh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof xi?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof ia&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof wP&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new wP(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function pM(){throw new Error("invalid")}()};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();function Wr(t,e){return{\u0275kind:t,\u0275providers:e}}function JP(){const t=P(un);return e=>{const n=t.get(Xo);if(e!==n.components[0])return;const r=t.get(On),i=t.get(XP);1===t.get(O_)&&r.initialNavigation(),t.get(ZP,null,te.Optional)?.setUpPreloading(),t.get(P_,null,te.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const XP=new O("",{factory:()=>new Un}),O_=new O("",{providedIn:"root",factory:()=>1}),ZP=new O("");function HY(t){return Wr(0,[{provide:ZP,useExisting:UY},{provide:KP,useExisting:t}])}const eO=new O("ROUTER_FORROOT_GUARD"),zY=[Uv,{provide:pc,useClass:g_},On,wc,{provide:oa,useFactory:function YP(t){return t.routerState.root},deps:[On]},R_,[]];function qY(){return new Pk("Router",On)}let tO=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[zY,[],{provide:la,multi:!0,useValue:n},{provide:eO,useFactory:YY,deps:[[On,new on,new xd]]},{provide:lf,useValue:r||{}},r?.useHash?{provide:ps,useClass:YW}:{provide:ps,useClass:l1},{provide:P_,useFactory:()=>{const t=P(y8),e=P(ge),n=P(lf),r=P(cf),i=P(pc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new QP(i,r,t,e,n)}},r?.preloadingStrategy?HY(r.preloadingStrategy).\u0275providers:[],{provide:Pk,multi:!0,useFactory:qY},r?.initialNavigation?JY(r):[],r?.bindToComponentInputs?Wr(8,[AP,{provide:nf,useExisting:AP}]).\u0275providers:[],[{provide:nO,useFactory:JP},{provide:Sv,multi:!0,useExisting:nO}]]}}static forChild(n){return{ngModule:t,providers:[{provide:la,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(U(eO,8))};static#t=this.\u0275mod=kr({type:t});static#n=this.\u0275inj=rr({})}return t})();function YY(t){return"guarded"}function JY(t){return["disabled"===t.initialNavigation?Wr(3,[{provide:_v,multi:!0,useFactory:()=>{const e=P(On);return()=>{e.setUpLocationChangeListener()}}},{provide:O_,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Wr(2,[{provide:O_,useValue:0},{provide:_v,multi:!0,deps:[un],useFactory:e=>{const n=e.get(KW,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(On),s=e.get(XP);qP(i,()=>{r(!0)}),e.get(cf).afterPreactivation=()=>(r(!0),s.closed?z(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const nO=new O(""),ZY=[];let eJ=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=kr({type:t});static#n=this.\u0275inj=rr({imports:[tO.forRoot(ZY),tO]})}return t})();function rO(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){rO(s,r,i,o,a,"next",u)}function a(u){rO(s,r,i,o,a,"throw",u)}o(void 0)})}}const iO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},L_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(iO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new iJ;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class iJ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const df=function(t){return function(t){const e=iO(t);return L_.encodeByteArray(e,!0)}(t).replace(/\./g,"")},hf=function(t){try{return L_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},ff=()=>{try{return function aJ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&hf(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},oO=()=>{var t;return null===(t=ff())||void 0===t?void 0:t.config};class pf{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function In(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function V_(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function _s(){try{return"object"==typeof indexedDB}catch{return!1}}function Sc(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function U_(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Yn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mr.prototype.create)}}class mr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function _J(t,e){return t.replace(wJ,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Yn(i,`${this.serviceName}: ${o} (${i}).`,r)}}const wJ=/\{\$([^}]+)}/g;function j_(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(uO(s)&&uO(o)){if(!j_(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function uO(t){return null!==t&&"object"==typeof t}function cO(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class EJ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function DJ(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=B_),void 0===i.error&&(i.error=B_),void 0===i.complete&&(i.complete=B_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function B_(){}const TJ=1e3,bJ=2,CJ=144e5,SJ=.5;function H_(t,e=TJ,n=bJ){const r=e*Math.pow(n,t),i=Math.round(SJ*r*(Math.random()-.5)*2);return Math.min(CJ,r+i)}function Fn(t){return t&&t._delegate?t._delegate:t}class kt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ws="[DEFAULT]";class xJ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new pf;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function NJ(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ws})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ws){return this.instances.has(e)}getOptions(e=ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===ws?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=ws){return this.component?this.component.multipleInstances?e:ws:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class RJ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new xJ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const G_=[];var ce=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ce||{});const lO={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},kJ=ce.INFO,PJ={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},OJ=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=PJ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class da{constructor(e){this.name=e,this._logLevel=kJ,this._logHandler=OJ,this._userLogHandler=null,G_.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?lO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}const FJ=(t,e)=>e.some(n=>t instanceof n);let dO,hO;const fO=new WeakMap,z_=new WeakMap,pO=new WeakMap,q_=new WeakMap,W_=new WeakMap;let K_={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return z_.get(t);if("objectStoreNames"===e)return t.objectStoreNames||pO.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function HJ(t){return"function"==typeof t?function $J(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function VJ(){return hO||(hO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Q_(this),e),Mi(fO.get(this))}:function(...e){return Mi(t.apply(Q_(this),e))}:function(e,...n){const r=t.call(Q_(this),e,...n);return pO.set(r,e.sort?e.sort():[e]),Mi(r)}}(t):(t instanceof IDBTransaction&&function jJ(t){if(z_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});z_.set(t,e)}(t),FJ(t,function LJ(){return dO||(dO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,K_):t)}function Mi(t){if(t instanceof IDBRequest)return function UJ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Mi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&fO.set(n,t)}).catch(()=>{}),W_.set(e,t),e}(t);if(q_.has(t))return q_.get(t);const e=HJ(t);return e!==t&&(q_.set(t,e),W_.set(e,t)),e}const Q_=t=>W_.get(t),zJ=["get","getKey","getAll","getAllKeys","count"],qJ=["put","add","delete","clear"],Y_=new Map;function gO(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Y_.get(e))return Y_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=qJ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!zJ.includes(n))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Y_.set(e,s),s}!function BJ(t){K_=t(K_)}(t=>({...t,get:(e,n,r)=>gO(e,n)||t.get(e,n,r),has:(e,n)=>!!gO(e,n)||t.has(e,n)}));class WJ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function KJ(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const J_="@firebase/app",Is=new da("@firebase/app"),mf="[DEFAULT]",wX={[J_]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Es=new Map,yf=new Map;function IX(t,e){try{t.container.addComponent(e)}catch(n){Is.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yt(t){const e=t.name;if(yf.has(e))return Is.debug(`There were multiple attempts to register component ${e}.`),!1;yf.set(e,t);for(const n of Es.values())IX(n,t);return!0}function vf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Kr=new mr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class DX{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}const Ac="9.23.0";function yO(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:mf,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Kr.create("bad-app-name",{appName:String(i)});if(n||(n=oO()),!n)throw Kr.create("no-options");const s=Es.get(i);if(s){if(j_(n,s.options)&&j_(r,s.config))return s;throw Kr.create("duplicate-app",{appName:i})}const o=new RJ(i);for(const u of yf.values())o.addComponent(u);const a=new DX(n,r,o);return Es.set(i,a),a}function vO(t=mf){const e=Es.get(t);if(!e&&t===mf&&oO())return yO();if(!e)throw Kr.create("no-app",{appName:t});return e}function _O(){return Array.from(Es.values())}function We(t,e,n){var r;let i=null!==(r=wX[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Is.warn(a.join(" "))}Yt(new kt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const TX="firebase-heartbeat-database",bX=1,xc="firebase-heartbeat-store";let Z_=null;function wO(){return Z_||(Z_=function GJ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Mi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Mi(o.result),u.oldVersion,u.newVersion,Mi(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(TX,bX,{upgrade:(t,e)=>{0===e&&t.createObjectStore(xc)}}).catch(t=>{throw Kr.create("idb-open",{originalErrorMessage:t.message})})),Z_}function ew(){return(ew=m(function*(t){try{return yield(yield wO()).transaction(xc).objectStore(xc).get(EO(t))}catch(e){if(e instanceof Yn)Is.warn(e.message);else{const n=Kr.create("idb-get",{originalErrorMessage:e?.message});Is.warn(n.message)}}})).apply(this,arguments)}function IO(t,e){return tw.apply(this,arguments)}function tw(){return(tw=m(function*(t,e){try{const r=(yield wO()).transaction(xc,"readwrite");yield r.objectStore(xc).put(e,EO(t)),yield r.done}catch(n){if(n instanceof Yn)Is.warn(n.message);else{const r=Kr.create("idb-set",{originalErrorMessage:n?.message});Is.warn(r.message)}}})).apply(this,arguments)}function EO(t){return`${t.name}!${t.options.appId}`}class xX{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new NX(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=DO();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=DO(),{heartbeatsToSend:r,unsentEntries:i}=function MX(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),TO(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),TO(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=df(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function DO(){return(new Date).toISOString().substring(0,10)}class NX{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!_s()&&Sc().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function CX(t){return ew.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return IO(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return IO(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function TO(t){return df(JSON.stringify({version:2,heartbeats:t})).length}!function RX(t){Yt(new kt("platform-logger",e=>new WJ(e),"PRIVATE")),Yt(new kt("heartbeat",e=>new xX(e),"PRIVATE")),We(J_,"0.9.13",t),We(J_,"0.9.13","esm2017"),We("fire-js","")}(""),We("firebase","9.23.0","app");const OX=(t,e)=>e.some(n=>t instanceof n);let bO,CO;const SO=new WeakMap,nw=new WeakMap,AO=new WeakMap,rw=new WeakMap,iw=new WeakMap;let sw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return nw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||AO.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ni(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function $X(t){return"function"==typeof t?function BX(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function LX(){return CO||(CO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(ow(this),e),Ni(SO.get(this))}:function(...e){return Ni(t.apply(ow(this),e))}:function(e,...n){const r=t.call(ow(this),e,...n);return AO.set(r,e.sort?e.sort():[e]),Ni(r)}}(t):(t instanceof IDBTransaction&&function UX(t){if(nw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});nw.set(t,e)}(t),OX(t,function FX(){return bO||(bO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,sw):t)}function Ni(t){if(t instanceof IDBRequest)return function VX(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ni(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&SO.set(n,t)}).catch(()=>{}),iw.set(e,t),e}(t);if(rw.has(t))return rw.get(t);const e=$X(t);return e!==t&&(rw.set(t,e),iw.set(e,t)),e}const ow=t=>iw.get(t),GX=["get","getKey","getAll","getAllKeys","count"],zX=["put","add","delete","clear"],aw=new Map;function xO(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(aw.get(e))return aw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=zX.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!GX.includes(n))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return aw.set(e,s),s}!function jX(t){sw=t(sw)}(t=>({...t,get:(e,n,r)=>xO(e,n)||t.get(e,n,r),has:(e,n)=>!!xO(e,n)||t.has(e,n)}));const MO="@firebase/installations",uw="0.6.4",NO=1e4,RO=`w:${uw}`,kO="FIS_v2",qX="https://firebaseinstallations.googleapis.com/v1",WX=36e5,Qr=new mr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function PO(t){return t instanceof Yn&&t.code.includes("request-failed")}function cw({projectId:t}){return`${qX}/projects/${t}/installations`}function OO(t){return{token:t.token,requestStatus:2,expiresIn:JX(t.expiresIn),creationTime:Date.now()}}function lw(t,e){return dw.apply(this,arguments)}function dw(){return(dw=m(function*(t,e){const r=(yield e.json()).error;return Qr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function FO({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function hw(t){return fw.apply(this,arguments)}function fw(){return(fw=m(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function JX(t){return Number(t.replace("s","000"))}function pw(){return(pw=m(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=cw(t),i=FO(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:kO,appId:t.appId,sdkVersion:RO})},u=yield hw(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:OO(c.authToken)}}throw yield lw("Create Installation",u)})).apply(this,arguments)}function VO(t){return new Promise(e=>{setTimeout(e,t)})}const tZ=/^[cdef][\w-]{21}$/,gw="";function nZ(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function rZ(t){return function eZ(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return tZ.test(n)?n:gw}catch{return gw}}function ha(t){return`${t.appName}!${t.appId}`}const fa=new Map;function UO(t,e){const n=ha(t);jO(n,e),function oZ(t,e){const n=function BO(){return!Ds&&"BroadcastChannel"in self&&(Ds=new BroadcastChannel("[Firebase] FID Change"),Ds.onmessage=t=>{jO(t.data.key,t.data.fid)}),Ds}();n&&n.postMessage({key:t,fid:e}),function $O(){0===fa.size&&Ds&&(Ds.close(),Ds=null)}()}(n,e)}function jO(t,e){const n=fa.get(t);if(n)for(const r of n)r(e)}let Ds=null;const aZ="firebase-installations-database",uZ=1,Ts="firebase-installations-store";let mw=null;function yw(){return mw||(mw=function HX(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ni(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ni(o.result),u.oldVersion,u.newVersion,Ni(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(aZ,uZ,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ts)}})),mw}function _f(t,e){return vw.apply(this,arguments)}function vw(){return(vw=m(function*(t,e){const n=ha(t),i=(yield yw()).transaction(Ts,"readwrite"),s=i.objectStore(Ts),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&UO(t,e.fid),e})).apply(this,arguments)}function _w(t){return ww.apply(this,arguments)}function ww(){return(ww=m(function*(t){const e=ha(t),r=(yield yw()).transaction(Ts,"readwrite");yield r.objectStore(Ts).delete(e),yield r.done})).apply(this,arguments)}function Mc(t,e){return Iw.apply(this,arguments)}function Iw(){return(Iw=m(function*(t,e){const n=ha(t),i=(yield yw()).transaction(Ts,"readwrite"),s=i.objectStore(Ts),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&UO(t,a.fid),a})).apply(this,arguments)}function Ew(t){return Dw.apply(this,arguments)}function Dw(){return Dw=m(function*(t){let e;const n=yield Mc(t.appConfig,r=>{const i=function cZ(t){return GO(t||{fid:nZ(),registrationStatus:0})}(r),s=function lZ(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Qr.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function dZ(t,e){return Tw.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:hZ(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===gw?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),Dw.apply(this,arguments)}function Tw(){return Tw=m(function*(t,e){try{const n=yield function ZX(t,e){return pw.apply(this,arguments)}(t,e);return _f(t.appConfig,n)}catch(n){throw PO(n)&&409===n.customData.serverCode?yield _w(t.appConfig):yield _f(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),Tw.apply(this,arguments)}function hZ(t){return bw.apply(this,arguments)}function bw(){return(bw=m(function*(t){let e=yield HO(t.appConfig);for(;1===e.registrationStatus;)yield VO(100),e=yield HO(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Ew(t);return r||n}return e})).apply(this,arguments)}function HO(t){return Mc(t,e=>{if(!e)throw Qr.create("installation-not-found");return GO(e)})}function GO(t){return function fZ(t){return 1===t.registrationStatus&&t.registrationTime+NO<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function Cw(){return(Cw=m(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function gZ(t,{fid:e}){return`${cw(t)}/${e}/authTokens:generate`}(t,n),i=function LO(t,{refreshToken:e}){const n=FO(t);return n.append("Authorization",function XX(t){return`${kO} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:RO,appId:t.appId}})},u=yield hw(()=>fetch(r,a));if(u.ok)return OO(yield u.json());throw yield lw("Generate Auth Token",u)})).apply(this,arguments)}function Sw(t){return Aw.apply(this,arguments)}function Aw(){return Aw=m(function*(t,e=!1){let n;const r=yield Mc(t.appConfig,s=>{if(!qO(s))throw Qr.create("not-registered");const o=s.authToken;if(!e&&function vZ(t){return 2===t.requestStatus&&!function _Z(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+WX}(t)}(o))return s;if(1===o.requestStatus)return n=function mZ(t,e){return xw.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw Qr.create("app-offline");const a=function wZ(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function yZ(t,e){return Mw.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),Aw.apply(this,arguments)}function xw(){return(xw=m(function*(t,e){let n=yield zO(t.appConfig);for(;1===n.authToken.requestStatus;)yield VO(100),n=yield zO(t.appConfig);const r=n.authToken;return 0===r.requestStatus?Sw(t,e):r})).apply(this,arguments)}function zO(t){return Mc(t,e=>{if(!qO(e))throw Qr.create("not-registered");return function IZ(t){return 1===t.requestStatus&&t.requestTime+NO<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Mw(){return Mw=m(function*(t,e){try{const n=yield function pZ(t,e){return Cw.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield _f(t.appConfig,r),n}catch(n){if(!PO(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield _f(t.appConfig,r)}else yield _w(t.appConfig);throw n}}),Mw.apply(this,arguments)}function qO(t){return void 0!==t&&2===t.registrationStatus}function Nw(){return(Nw=m(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield Ew(e);return r?r.catch(console.error):Sw(e).catch(console.error),n.fid})).apply(this,arguments)}function Rw(){return Rw=m(function*(t,e=!1){const n=t;return yield function TZ(t){return kw.apply(this,arguments)}(n),(yield Sw(n,e)).token}),Rw.apply(this,arguments)}function kw(){return(kw=m(function*(t){const{registrationPromise:e}=yield Ew(t);e&&(yield e)})).apply(this,arguments)}function Fw(t){return Qr.create("missing-app-config-values",{valueName:t})}const WO="installations",xZ=t=>{const e=t.getProvider("app").getImmediate(),n=function SZ(t){if(!t||!t.options)throw Fw("App Configuration");if(!t.name)throw Fw("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Fw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:vf(e,"heartbeat"),_delete:()=>Promise.resolve()}},MZ=t=>{const n=vf(t.getProvider("app").getImmediate(),WO).getImmediate();return{getId:()=>function EZ(t){return Nw.apply(this,arguments)}(n),getToken:i=>function DZ(t){return Rw.apply(this,arguments)}(n,i)}};(function NZ(){Yt(new kt(WO,xZ,"PUBLIC")),Yt(new kt("installations-internal",MZ,"PRIVATE"))})(),We(MO,uw),We(MO,uw,"esm2017");const Lw="@firebase/remote-config",dn=new mr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class $Z{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function HZ(t=navigator){return t.languages&&t.languages[0]||t.language}class GZ{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:HZ()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((w,v)=>{e.signal.addEventListener(()=>{const T=new Error("The operation was aborted.");T.name="AbortError",v(T)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(w){let v="fetch-client-network";throw"AbortError"===w?.name&&(v="fetch-timeout"),dn.create(v,{originalErrorMessage:w?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,y;if(200===h.status){let w;try{w=yield h.json()}catch(v){throw dn.create("fetch-client-parse",{originalErrorMessage:v?.message})}g=w.entries,y=w.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(g={}),304!==f&&200!==f)throw dn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class WZ{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return m(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return m(function*(){yield function zZ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(dn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function qZ(t){if(!(t instanceof Yn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+H_(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class YZ{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function If(t,e){const n=t.target.error||void 0;return dn.create(e,{originalErrorMessage:n&&n?.message})}const bs="app_namespace_store";class eee{constructor(e,n,r,i=function ZZ(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(If(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(bs,{keyPath:"compositeKey"})}}catch(n){e(dn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([bs],"readonly").objectStore(bs),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(If(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(dn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([bs],"readwrite").objectStore(bs),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(If(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(dn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([bs],"readwrite").objectStore(bs),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(If(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(dn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class tee{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function ree(){return $w.apply(this,arguments)}function $w(){return($w=m(function*(){if(!_s())return!1;try{return yield Sc()}catch{return!1}})).apply(this,arguments)}!function nee(){Yt(new kt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw dn.create("registration-window");if(!_s())throw dn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw dn.create("registration-project-id");if(!o)throw dn.create("registration-api-key");if(!a)throw dn.create("registration-app-id");const u=new eee(a,r.name,n=n||"firebase"),c=new tee(u),l=new da(Lw);l.logLevel=ce.ERROR;const d=new GZ(i,Ac,n,s,o,a),h=new WZ(d,u),f=new $Z(h,u,c,l),p=new YZ(r,f,c,u,l);return function UZ(t){const e=Fn(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),We(Lw,"0.4.4"),We(Lw,"0.4.4","esm2017")}();const iee=(t,e)=>e.some(n=>t instanceof n);let JO,XO;const ZO=new WeakMap,Hw=new WeakMap,eF=new WeakMap,Gw=new WeakMap,zw=new WeakMap;let qw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Hw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||eF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yr(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function dee(t){return"function"==typeof t?function lee(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function oee(){return XO||(XO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Ww(this),e),Yr(ZO.get(this))}:function(...e){return Yr(t.apply(Ww(this),e))}:function(e,...n){const r=t.call(Ww(this),e,...n);return eF.set(r,e.sort?e.sort():[e]),Yr(r)}}(t):(t instanceof IDBTransaction&&function uee(t){if(Hw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Hw.set(t,e)}(t),iee(t,function see(){return JO||(JO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,qw):t)}function Yr(t){if(t instanceof IDBRequest)return function aee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Yr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ZO.set(n,t)}).catch(()=>{}),zw.set(e,t),e}(t);if(Gw.has(t))return Gw.get(t);const e=dee(t);return e!==t&&(Gw.set(t,e),zw.set(e,t)),e}const Ww=t=>zw.get(t);function tF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Yr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Yr(o.result),u.oldVersion,u.newVersion,Yr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function Kw(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Yr(n).then(()=>{})}const hee=["get","getKey","getAll","getAllKeys","count"],fee=["put","add","delete","clear"],Qw=new Map;function nF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Qw.get(e))return Qw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=fee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!hee.includes(n))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Qw.set(e,s),s}!function cee(t){qw=t(qw)}(t=>({...t,get:(e,n,r)=>nF(e,n)||t.get(e,n,r),has:(e,n)=>!!nF(e,n)||t.has(e,n)}));const pee="/firebase-messaging-sw.js",gee="/firebase-cloud-messaging-push-scope",rF="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",mee="https://fcmregistrations.googleapis.com/v1",iF="google.c.a.c_id",yee="google.c.a.c_l",vee="google.c.a.ts";var Ef=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(Ef||{});function Jr(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Iee(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const Yw="fcm_token_details_db",Eee=5,sF="fcm_token_object_Store";function Jw(){return Jw=m(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(Yw))return null;let e=null;return(yield tF(Yw,Eee,{upgrade:(r=m(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(sF))return;const c=a.objectStore(sF),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Jr(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Jr(d.auth),p256dh:Jr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Jr(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Jr(d.auth),p256dh:Jr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Jr(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield Kw(Yw),yield Kw("fcm_vapid_details_db"),yield Kw("undefined"),function Tee(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),Jw.apply(this,arguments)}const bee="firebase-messaging-database",Cee=1,Cs="firebase-messaging-store";let Xw=null;function Zw(){return Xw||(Xw=tF(bee,Cee,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Cs)}})),Xw}function oF(t){return eI.apply(this,arguments)}function eI(){return eI=m(function*(t){const e=iI(t),r=yield(yield Zw()).transaction(Cs).objectStore(Cs).get(e);if(r)return r;{const i=yield function Dee(t){return Jw.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield tI(t,i),i}}),eI.apply(this,arguments)}function tI(t,e){return nI.apply(this,arguments)}function nI(){return(nI=m(function*(t,e){const n=iI(t),i=(yield Zw()).transaction(Cs,"readwrite");return yield i.objectStore(Cs).put(e,n),yield i.done,e})).apply(this,arguments)}function rI(){return(rI=m(function*(t){const e=iI(t),r=(yield Zw()).transaction(Cs,"readwrite");yield r.objectStore(Cs).delete(e),yield r.done})).apply(this,arguments)}function iI({appConfig:t}){return t.appId}const Dt=new mr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function xee(t,e){return sI.apply(this,arguments)}function sI(){return(sI=m(function*(t,e){const n=yield cI(t),r=uF(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(uI(t.appConfig),i)).json()}catch(o){throw Dt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Dt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Dt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function oI(){return(oI=m(function*(t,e){const n=yield cI(t),r=uF(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${uI(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Dt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Dt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Dt.create("token-update-no-token");return s.token})).apply(this,arguments)}function aF(t,e){return aI.apply(this,arguments)}function aI(){return(aI=m(function*(t,e){const r={method:"DELETE",headers:yield cI(t)};try{const s=yield(yield fetch(`${uI(t.appConfig)}/${e}`,r)).json();if(s.error)throw Dt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Dt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function uI({projectId:t}){return`${mee}/projects/${t}/registrations`}function cI(t){return lI.apply(this,arguments)}function lI(){return(lI=m(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function uF({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==rF&&(i.web.applicationPubKey=r),i}const Nee=6048e5;function dI(){return dI=m(function*(t){const e=yield function Pee(t,e){return gI.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Jr(e.getKey("auth")),p256dh:Jr(e.getKey("p256dh"))},r=yield oF(t.firebaseDependencies);if(r){if(function Oee(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+Nee?function kee(t,e){return fI.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield aF(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return lF(t.firebaseDependencies,n)}return lF(t.firebaseDependencies,n)}),dI.apply(this,arguments)}function hI(){return hI=m(function*(t){const e=yield oF(t.firebaseDependencies);e&&(yield aF(t.firebaseDependencies,e.token),yield function See(t){return rI.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),hI.apply(this,arguments)}function fI(){return fI=m(function*(t,e){try{const n=yield function Mee(t,e){return oI.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield tI(t.firebaseDependencies,r),n}catch(n){throw yield function cF(t){return hI.apply(this,arguments)}(t),n}}),fI.apply(this,arguments)}function lF(t,e){return pI.apply(this,arguments)}function pI(){return(pI=m(function*(t,e){const r={token:yield xee(t,e),createTime:Date.now(),subscriptionOptions:e};return yield tI(t,r),r.token})).apply(this,arguments)}function gI(){return(gI=m(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Iee(e)})})).apply(this,arguments)}function dF(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function Fee(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function Lee(t,e){e.data&&(t.data=e.data)}(e,t),function Vee(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function hF(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function mI(t){return Dt.create("missing-app-config-values",{valueName:t})}hF("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),hF("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Bee{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function jee(t){if(!t||!t.options)throw mI("App Configuration Object");if(!t.name)throw mI("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw mI(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function yI(){return(yI=m(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(pee,{scope:gee}),t.swRegistration.update().catch(()=>{})}catch(e){throw Dt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function vI(){return(vI=m(function*(t,e){if(!e&&!t.swRegistration&&(yield function fF(t){return yI.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Dt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function _I(){return(_I=m(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=rF)})).apply(this,arguments)}function wI(){return wI=m(function*(t,e){if(!navigator)throw Dt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Dt.create("permission-blocked");return yield function Hee(t,e){return _I.apply(this,arguments)}(t,e?.vapidKey),yield function $ee(t,e){return vI.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function Ree(t){return dI.apply(this,arguments)}(t)}),wI.apply(this,arguments)}function II(){return(II=m(function*(t,e,n){const r=function zee(t){switch(t){case Ef.NOTIFICATION_CLICKED:return"notification_open";case Ef.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[iF],message_name:n[yee],message_time:n[vee],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function EI(){return EI=m(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Ef.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(dF(n)):t.onMessageHandler.next(dF(n)));const r=n.data;(function Uee(t){return"object"==typeof t&&!!t&&iF in t})(r)&&"1"===r["google.c.a.e"]&&(yield function Gee(t,e,n){return II.apply(this,arguments)}(t,n.messageType,r))}),EI.apply(this,arguments)}const gF="@firebase/messaging",Wee=t=>{const e=new Bee(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function qee(t,e){return EI.apply(this,arguments)}(e,n)),e},Kee=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function pF(t,e){return wI.apply(this,arguments)}(e,r)}};function yF(){return DI.apply(this,arguments)}function DI(){return(DI=m(function*(){try{yield Sc()}catch{return!1}return typeof window<"u"&&_s()&&U_()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Qee(){Yt(new kt("messaging",Wee,"PUBLIC")),Yt(new kt("messaging-internal",Kee,"PRIVATE")),We(gF,"0.12.4"),We(gF,"0.12.4","esm2017")}();const Df="analytics",Xee="firebase_id",Zee="origin",ete=6e4,tte="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",CI="https://www.googletagmanager.com/gtag/js",ct=new da("@firebase/analytics"),Jt=new mr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function rte(t){if(!t.startsWith(CI)){const e=Jt.create("invalid-gtag-resource",{gtagURL:t});return ct.warn(e.message),""}return t}function vF(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function SI(){return(SI=m(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield vF(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){ct.error(a)}t("config",i,s)})).apply(this,arguments)}function AI(){return(AI=m(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield vF(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){ct.error(s)}})).apply(this,arguments)}const hte=30,_F=new class pte{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function gte(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function xI(){return(xI=m(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:gte(r)},s=tte.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw Jt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function MI(){return(MI=m(function*(t,e=_F,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Jt.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Jt.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new wte;return setTimeout(m(function*(){a.abort()}),void 0!==n?n:ete),wF({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function wF(t,e,n){return NI.apply(this,arguments)}function NI(){return NI=m(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=_F){var s;const{appId:o,measurementId:a}=t;try{yield function vte(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Jt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return ct.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function mte(t){return xI.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function _te(t){if(!(t instanceof Yn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return ct.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?H_(n,i.intervalMillis,hte):H_(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),ct.debug(`Calling attemptFetch again in ${l} millis`),wF(t,d,r,i)}}),NI.apply(this,arguments)}class wte{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let RI,UI;function kI(){return(kI=m(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function jI(){return(jI=m(function*(){if(!_s())return ct.warn(Jt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Sc()}catch(t){return ct.warn(Jt.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function BI(){return BI=m(function*(t,e,n,r,i,s,o){var a;const u=function yte(t){return MI.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&ct.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>ct.error(f)),e.push(u);const c=function Ste(){return jI.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function dte(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(CI)&&n.src.includes(t))return n;return null})(s)||function ste(t,e){const n=function ite(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:rte}),r=document.createElement("script"),i=`${CI}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),UI&&(i("consent","default",UI),function IF(t){UI=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[Zee]="firebase",h.update=!0,null!=d&&(h[Xee]=d),i("config",l.measurementId,h),RI&&(i("set",RI),function EF(t){RI=t}(void 0)),l.measurementId}),BI.apply(this,arguments)}class xte{constructor(e){this.app=e}_delete(){return delete yr[this.app.options.appId],Promise.resolve()}}let yr={},DF=[];const TF={};let CF,vr,Tf="dataLayer",$I=!1;function Nte(t,e,n){!function Mte(){const t=[];if(V_()&&t.push("This is a browser extension environment."),U_()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Jt.create("invalid-analytics-context",{errorInfo:e});ct.warn(n.message)}}();const r=t.options.appId;if(!r)throw Jt.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Jt.create("no-api-key");ct.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=yr[r])throw Jt.create("already-exists",{id:r});if(!$I){!function ote(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Tf);const{wrappedGtag:s,gtagCore:o}=function lte(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function cte(t,e,n,r){function s(){return s=m(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function ute(t,e,n,r,i){return AI.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function ate(t,e,n,r,i,s){return SI.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){ct.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(yr,DF,TF,Tf,"gtag");vr=s,CF=o,$I=!0}return yr[r]=function Ate(t,e,n,r,i,s,o){return BI.apply(this,arguments)}(t,DF,TF,e,CF,Tf,n),new xte(t)}function kte(){return HI.apply(this,arguments)}function HI(){return(HI=m(function*(){if(V_()||!U_()||!_s())return!1;try{return yield Sc()}catch{return!1}})).apply(this,arguments)}const SF="@firebase/analytics";!function Ote(){Yt(new kt(Df,(e,{options:n})=>Nte(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Yt(new kt("analytics-internal",function t(e){try{const n=e.getProvider(Df).getImmediate();return{logEvent:(r,i,s)=>function Pte(t,e,n,r){t=Fn(t),function Ite(t,e,n,r,i){return kI.apply(this,arguments)}(vr,yr[t.app.options.appId],e,n,r).catch(i=>ct.error(i))}(n,r,i,s)}}catch(n){throw Jt.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),We(SF,"0.10.0"),We(SF,"0.10.0","esm2017")}();class Fte extends en{constructor(e,n){super()}schedule(e,n=0){return this}}const bf={setInterval(t,e,...n){const{delegate:r}=bf;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=bf;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class xF extends Fte{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return bf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&bf.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,no(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const MF={now:()=>(MF.delegate||Date).now(),delegate:void 0};class Nc{constructor(e,n=Nc.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Nc.now=MF.now;class NF extends Nc{constructor(e,n=Nc.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Ute=new class Vte extends NF{}(class Lte extends xF{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),jte=new NF(xF),zI=new Lu("7.6.1"),qI="__angularfire_symbol__analyticsIsSupportedValue",WI="__angularfire_symbol__analyticsIsSupported",KI="__angularfire_symbol__remoteConfigIsSupportedValue",QI="__angularfire_symbol__remoteConfigIsSupported",YI="__angularfire_symbol__messagingIsSupportedValue",JI="__angularfire_symbol__messagingIsSupported";globalThis[WI]||(globalThis[WI]=kte().then(t=>globalThis[qI]=t).catch(()=>globalThis[qI]=!1)),globalThis[JI]||(globalThis[JI]=yF().then(t=>globalThis[YI]=t).catch(()=>globalThis[YI]=!1)),globalThis[QI]||(globalThis[QI]=ree().then(t=>globalThis[KI]=t).catch(()=>globalThis[KI]=!1));const eE=(t,e)=>{const n=e?[e]:_O(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function pa(){}class RF{constructor(e,n=Ute){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class Bte{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",pa,{},pa,pa)),n.pipe(Et({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let kF=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new RF(Zone.current)),this.insideAngular=n.run(()=>new RF(Zone.current,jte)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(U(ge))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ss(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function As(t){return Ss().ngZone.run(()=>t())}function Hte(t){return Ss(),function Gte(t){return function(n){return(n=n.lift(new Bte(t.ngZone))).pipe(nd(t.outsideAngular),td(t.insideAngular))}}(Ss())(t)}const zte=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),As(()=>t.apply(void 0,r))},xs=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=As(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",pa,{},pa,pa)))),r[s]=zte(r[s],n));const i=function $te(t){return Ss().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Le){const s=Ss();return i.pipe(nd(s.outsideAngular),td(s.insideAngular))}return As(()=>i)}return i instanceof Le?i.pipe(Hte):i instanceof Promise?As(()=>new Promise((s,o)=>i.then(a=>As(()=>s(a)),a=>As(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:As(()=>i)};class ga{constructor(e){return e}}class PF{constructor(){return _O()}}const tE=new O("angularfire2._apps"),Wte={provide:ga,useFactory:function qte(t){return t&&1===t.length?t[0]:new ga(vO())},deps:[[new on,tE]]},Kte={provide:PF,deps:[[new on,tE]]};function Qte(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new ga(r)}}let Yte=(()=>{class t{constructor(n){We("angularfire",zI.full,"core"),We("angularfire",zI.full,"app"),We("angular",Hx.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(U(wi))},t.\u0275mod=kr({type:t}),t.\u0275inj=rr({providers:[Wte,Kte]}),t})();function Jte(t,...e){return{ngModule:Yte,providers:[{provide:tE,useFactory:Qte(t),multi:!0,deps:[ge,un,kF,...e]}]}}const Xte=xs(yO,!0);const Zte=function OF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},FF=new mr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Cf=new da("@firebase/auth");function Sf(t,...e){Cf.logLevel<=ce.ERROR&&Cf.error(`Auth (${Ac}): ${t}`,...e)}function hn(t,...e){throw nE(t,...e)}function _r(t,...e){return nE(t,...e)}function nE(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return FF.create(t,...e)}function S(t,e,...n){if(!t)throw nE(e,...n)}function wr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sf(e),new Error(e)}function Ri(t,e){t||wr(e)}function VF(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class kc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ri(n>e,"Short delay should be less than long delay!"),this.isMobile=function gJ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(In())}()||function yJ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function tne(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function rE(){return"http:"===VF()||"https:"===VF()}()||V_()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class UF{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rne={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ine=new kc(3e4,6e4);function je(t,e,n,r){return sE.apply(this,arguments)}function sE(){return(sE=m(function*(t,e,n,r,i={}){return jF(t,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=cO(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),UF.fetch()(BF(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function jF(t,e,n){return oE.apply(this,arguments)}function oE(){return(oE=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},rne),e);try{const i=new sne(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Pc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Pc(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Pc(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw Pc(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function LF(t,e,n){const r=Object.assign(Object.assign({},Zte()),{[e]:n});return new mr("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);hn(t,l)}}catch(i){if(i instanceof Yn)throw i;hn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function BF(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function iE(t,e){Ri(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class sne{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_r(this.auth,"network-request-failed")),ine.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=_r(t,e,r);return i.customData._tokenResponse=n,i}function uE(){return(uE=m(function*(t,e){return je(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function lE(){return(lE=m(function*(t,e){return je(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Oc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function dE(){return(dE=m(function*(t,e=!1){const n=Fn(t),r=yield n.getIdToken(e),i=Af(r);S(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Oc(hE(i.auth_time)),issuedAtTime:Oc(hE(i.iat)),expirationTime:Oc(hE(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function hE(t){return 1e3*Number(t)}function Af(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Sf("JWT malformed, contained fewer than 3 sections"),null;try{const i=hf(n);return i?JSON.parse(i):(Sf("Failed to decode base64 JWT payload"),null)}catch(i){return Sf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Zr(t,e){return fE.apply(this,arguments)}function fE(){return(fE=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Yn&&function dne({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class hne{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class $F{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oc(this.lastLoginAt),this.creationTime=Oc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Fc(t){return pE.apply(this,arguments)}function pE(){return pE=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Zr(t,function une(t,e){return lE.apply(this,arguments)}(n,{idToken:r}));S(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function gne(t){return t.map(e=>{var{providerId:n}=e,r=Mg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function pne(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new $F(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),pE.apply(this,arguments)}function gE(){return(gE=m(function*(t){const e=Fn(t);yield Fc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function mE(){return(mE=m(function*(t,e){const n=yield jF(t,{},m(function*(){const r=cO({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=BF(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",UF.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Lc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){S(e.idToken,"internal-error"),S(typeof e.idToken<"u","internal-error"),S(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function lne(t){const e=Af(t);return S(e,"internal-error"),S(typeof e.exp<"u","internal-error"),S(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return S(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function mne(t,e){return mE.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Lc;return r&&(S("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(S("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(S("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lc,this.toJSON())}_performRefresh(){return wr("not implemented")}}function ki(t,e){S("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Ms{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Mg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hne(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new $F(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield Zr(n,n.stsTokenManager.getToken(n.auth,e));return S(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function cne(t){return dE.apply(this,arguments)}(this,e)}reload(){return function fne(t){return gE.apply(this,arguments)}(this)}_assign(e){this!==e&&(S(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ms(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){S(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Fc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield Zr(e,function one(t,e){return uE.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,w=null!==(c=n.createdAt)&&void 0!==c?c:void 0,v=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:T,emailVerified:R,isAnonymous:L,providerData:J,stsTokenManager:Ee}=n;S(T&&Ee,e,"internal-error");const Ut=Lc.fromJSON(this.name,Ee);S("string"==typeof T,e,"internal-error"),ki(d,e.name),ki(h,e.name),S("boolean"==typeof R,e,"internal-error"),S("boolean"==typeof L,e,"internal-error"),ki(f,e.name),ki(p,e.name),ki(g,e.name),ki(y,e.name),ki(w,e.name),ki(v,e.name);const xr=new Ms({uid:T,auth:e,email:h,emailVerified:R,displayName:d,isAnonymous:L,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:Ut,createdAt:w,lastLoginAt:v});return J&&Array.isArray(J)&&(xr.providerData=J.map(OC=>Object.assign({},OC))),y&&(xr._redirectEventId=y),xr}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new Lc;i.updateFromServerResponse(n);const s=new Ms({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Fc(s),s})()}}const HF=new Map;function ei(t){Ri(t instanceof Function,"Expected a class definition");let e=HF.get(t);return e?(Ri(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,HF.set(t,e),e)}const GF=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function xf(t,e,n){return`firebase:${t}:${e}:${n}`}class ya{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=xf(this.userKey,i.apiKey,s),this.fullPersistenceKey=xf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Ms._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new ya(ei(GF),e,r);const i=(yield Promise.all(n.map(function(){var c=m(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||ei(GF);const o=xf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=Ms._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=m(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new ya(s,e,r)):new ya(s,e,r)})()}}function zF(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function KF(t=In()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function qF(t=In()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function YF(t=In()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function JF(t=In()){return/webos/i.test(t)}(e))return"Webos";if(function yE(t=In()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function WF(t=In()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function QF(t=In()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function XF(t,e=[]){let n;switch(t){case"Browser":n=zF(In());break;case"Worker":n=`${zF(In())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ac}/${r}`}function ZF(t,e){return _E.apply(this,arguments)}function _E(){return(_E=m(function*(t,e){return je(t,"GET","/v2/recaptchaConfig",function Oe(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}function tL(t){return void 0!==t&&void 0!==t.enterprise}class nL{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}class iL{constructor(e){this.type="recaptcha-enterprise",this.auth=lt(e)}verify(e="verify",n=!1){var r=this;return m(function*(){function s(){return s=m(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=m(function*(c,l){ZF(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new nL(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;tL(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&tL(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));(function wE(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=_r("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function wne(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class Tne{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return m(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class bne{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sL(this),this.idTokenSubscription=new sL(this),this.beforeStateQueue=new Tne(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=ei(n)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield ya.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return S(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){try{yield Fc(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function nne(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?Fn(e):null;return r&&S(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return m(function*(){if(!r._deleted)return e&&S(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(ei(e))}))}initializeRecaptchaConfig(){var e=this;return m(function*(){const n=yield ZF(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new nL(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new iL(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new mr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&ei(e)||n._popupRedirectResolver;S(r,n,"argument-error"),n.redirectPersistenceManager=yield ya.create(n,[ei(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return S(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return S(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return m(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function ene(t,...e){Cf.logLevel<=ce.WARN&&Cf.warn(`Auth (${Ac}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function lt(t){return Fn(t)}class sL{constructor(e){this.auth=e,this.observer=null,this.addObserver=function IJ(t,e){const n=new EJ(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return S(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function rL(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new kc(3e4,6e4),new kc(2e3,1e4),new kc(3e4,6e4),new kc(5e3,15e3),encodeURIComponent("fac");var PL="@firebase/auth";class yie{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){S(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}ff(),function _ie(t){Yt(new kt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;S(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XF(t)},c=new bne(r,i,s,u);return function Sne(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ei);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Yt(new kt("auth-internal",e=>{const n=lt(e.getProvider("auth").getImmediate());return new yie(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),We(PL,"0.23.2",function vie(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),We(PL,"0.23.2","esm2017")}("Browser");class VL{constructor(){return eE("auth")}}const uT=new Map,UL={activated:!1,tokenObservers:[]},Cie={initialized:!1,enabled:!1};function Be(t){return uT.get(t)||Object.assign({},UL)}function $f(){return Cie}const cT="https://content-firebaseappcheck.googleapis.com/v1",Mie="exchangeDebugToken",jL={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Rie{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return m(function*(){n.stop();try{n.pending=new pf,yield function kie(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new pf,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Tt=new mr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function lT(t){if(!Be(t).activated)throw Tt.create("use-before-activation",{appName:t.name})}function zf(t,e){return hT.apply(this,arguments)}function hT(){return hT=m(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Tt.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw Tt.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Tt.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Tt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}}),hT.apply(this,arguments)}function BL(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${cT}/projects/${n}/apps/${r}:${Mie}?key=${i}`,body:{debug_token:e}}}const Lie="firebase-app-check-database",Vie=1,$c="firebase-app-check-store";let qf=null;function fT(){return fT=m(function*(t,e){const r=(yield function HL(){return qf||(qf=new Promise((t,e)=>{try{const n=indexedDB.open(Lie,Vie);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Tt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore($c,{keyPath:"compositeKey"})}}catch(n){e(Tt.create("storage-open",{originalErrorMessage:n?.message}))}}),qf)}()).transaction($c,"readwrite"),s=r.objectStore($c).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Tt.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})}),fT.apply(this,arguments)}const Hc=new da("@firebase/app-check");function mT(t,e){return _s()?function jie(t,e){return function GL(t,e){return fT.apply(this,arguments)}(function qL(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Hc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function vT(){return $f().enabled}function _T(){return wT.apply(this,arguments)}function wT(){return wT=m(function*(){const t=$f();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),wT.apply(this,arguments)}const qie={error:"UNKNOWN_ERROR"};function Wie(t){return L_.encodeString(JSON.stringify(t),!1)}function Wf(t){return IT.apply(this,arguments)}function IT(){return IT=m(function*(t,e=!1){const n=t.app;lT(n);const r=Be(n);let s,i=r.token;if(i&&!_a(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(_a(u)?i=u:yield mT(n,void 0))}if(!e&&i&&_a(i))return{token:i.token};let a,o=!1;if(vT()){r.exchangeTokenPromise||(r.exchangeTokenPromise=zf(BL(n,yield _T()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield mT(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Be(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Hc.warn(u.message):Hc.error(u),s=u}return i?s?a=_a(i)?{token:i.token,internalError:s}:YL(s):(a={token:i.token},r.token=i,yield mT(n,i)):a=YL(s),o&&function QL(t,e){const n=Be(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a}),IT.apply(this,arguments)}function ET(){return ET=m(function*(t){const e=t.app;lT(e);const{provider:n}=Be(e);if(vT()){const r=yield _T(),{token:i}=yield zf(BL(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),ET.apply(this,arguments)}function TT(t,e){const n=Be(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function KL(t){const{app:e}=t,n=Be(e);let r=n.tokenRefresher;r||(r=function Kie(t){const{app:e}=t;return new Rie(m(function*(){let r;if(r=Be(e).token?yield Wf(t,!0):yield Wf(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Be(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},jL.RETRIAL_MIN_WAIT,jL.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function _a(t){return t.expireTimeMillis-Date.now()>0}function YL(t){return{token:Wie(qie),error:t}}class Qie{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Be(this.app);for(const n of e)TT(this.app,n.next);return Promise.resolve()}}const i2="app-check-internal";!function cse(){Yt(new kt("app-check",t=>function Yie(t,e){return new Qie(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(i2).initialize()})),Yt(new kt(i2,t=>function Jie(t){return{getToken:e=>Wf(t,e),getLimitedUseToken:()=>function WL(t){return ET.apply(this,arguments)}(t),addTokenListener:e=>function DT(t,e,n,r){const{app:i}=t,s=Be(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&_a(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),KL(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>KL(t))}(t,"INTERNAL",e),removeTokenListener:e=>TT(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),We("@firebase/app-check","0.8.0")}();class o2{constructor(){return eE("app-check")}}typeof window<"u"&&window;var M,pse=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Jn={},xT=xT||{},Q=pse||self;function Qf(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Gc(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var MT="closure_uid_"+(1e9*Math.random()>>>0),mse=0;function yse(t,e,n){return t.call.apply(t.bind,arguments)}function vse(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Pt(t,e,n){return(Pt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?yse:vse).apply(null,arguments)}function Yf(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function dt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Oi(){this.s=this.s,this.o=this.o}Oi.prototype.s=!1,Oi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function gse(t){Object.prototype.hasOwnProperty.call(t,MT)&&t[MT]||(t[MT]=++mse)}(this)},Oi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const a2=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function NT(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function u2(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Qf(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Ot(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ot.prototype.h=function(){this.defaultPrevented=!0};var wse=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Q.addEventListener("test",()=>{},e),Q.removeEventListener("test",()=>{},e)}catch{}return t}();function zc(t){return/^[\s\xa0]*$/.test(t)}function Jf(){var t=Q.navigator;return t&&(t=t.userAgent)?t:""}function Ir(t){return-1!=Jf().indexOf(t)}function RT(t){return RT[" "](t),t}RT[" "]=function(){};var PT,Ese=Ir("Opera"),wa=Ir("Trident")||Ir("MSIE"),c2=Ir("Edge"),kT=c2||wa,l2=Ir("Gecko")&&!(-1!=Jf().toLowerCase().indexOf("webkit")&&!Ir("Edge"))&&!(Ir("Trident")||Ir("MSIE"))&&!Ir("Edge"),Dse=-1!=Jf().toLowerCase().indexOf("webkit")&&!Ir("Edge");function d2(){var t=Q.document;return t?t.documentMode:void 0}e:{var OT="",FT=function(){var t=Jf();return l2?/rv:([^\);]+)(\)|;)/.exec(t):c2?/Edge\/([\d\.]+)/.exec(t):wa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Dse?/WebKit\/(\S+)/.exec(t):Ese?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(FT&&(OT=FT?FT[1]:""),wa){var LT=d2();if(null!=LT&&LT>parseFloat(OT)){PT=String(LT);break e}}PT=OT}var Tse=Q.document&&wa&&(d2()||parseInt(PT,10))||void 0;function qc(t,e){if(Ot.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(l2){e:{try{RT(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:bse[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&qc.$.h.call(this)}}dt(qc,Ot);var bse={2:"touch",3:"pen",4:"mouse"};qc.prototype.h=function(){qc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Wc="closure_listenable_"+(1e6*Math.random()|0),Cse=0;function Sse(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Cse,this.fa=this.ia=!1}function Xf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function UT(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function f2(t){const e={};for(const n in t)e[n]=t[n];return e}const p2="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function g2(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<p2.length;s++)n=p2[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Zf(t){this.src=t,this.g={},this.h=0}function jT(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=a2(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Xf(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function BT(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}Zf.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=BT(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Sse(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var $T="closure_lm_"+(1e6*Math.random()|0),HT={};function m2(t,e,n,r,i){if(r&&r.once)return v2(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)m2(t,e[s],n,r,i);return null}return n=WT(n),t&&t[Wc]?t.O(e,n,Gc(r)?!!r.capture:!!r,i):y2(t,e,n,!1,r,i)}function y2(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Gc(i)?!!i.capture:!!i,a=zT(t);if(a||(t[$T]=a=new Zf(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function xse(){const e=Mse;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)wse||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(w2(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function v2(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)v2(t,e[s],n,r,i);return null}return n=WT(n),t&&t[Wc]?t.P(e,n,Gc(r)?!!r.capture:!!r,i):y2(t,e,n,!0,r,i)}function _2(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)_2(t,e[s],n,r,i);else r=Gc(r)?!!r.capture:!!r,n=WT(n),t&&t[Wc]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=BT(s=t.g[e],n,r,i))&&(Xf(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=zT(t))&&(e=t.g[e.toString()],t=-1,e&&(t=BT(e,n,r,i)),(n=-1<t?e[t]:null)&&GT(n))}function GT(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Wc])jT(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(w2(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=zT(e))?(jT(n,t),0==n.h&&(n.src=null,e[$T]=null)):Xf(t)}}}function w2(t){return t in HT?HT[t]:HT[t]="on"+t}function Mse(t,e){if(t.fa)t=!0;else{e=new qc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&GT(t),t=n.call(r,e)}return t}function zT(t){return(t=t[$T])instanceof Zf?t:null}var qT="__closure_events_fn_"+(1e9*Math.random()>>>0);function WT(t){return"function"==typeof t?t:(t[qT]||(t[qT]=function(e){return t.handleEvent(e)}),t[qT])}function ht(){Oi.call(this),this.i=new Zf(this),this.S=this,this.J=null}function bt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Ot(e,t);else if(e instanceof Ot)e.target=e.target||t;else{var i=e;g2(e=new Ot(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=ep(o,r,!0,e)&&i}if(i=ep(o=e.g=t,r,!0,e)&&i,i=ep(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=ep(o=e.g=n[s],r,!1,e)&&i}function ep(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&jT(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}dt(ht,Oi),ht.prototype[Wc]=!0,ht.prototype.removeEventListener=function(t,e,n,r){_2(this,t,e,n,r)},ht.prototype.N=function(){if(ht.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Xf(n[r]);delete t.g[e],t.h--}}this.J=null},ht.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},ht.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var KT=Q.JSON.stringify;function Rse(){var t=QT;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var I2=new class Nse{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Pse,t=>t.reset());class Pse{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Ose(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Fse(t){Q.setTimeout(()=>{throw t},0)}let Kc,Qc=!1,QT=new class kse{constructor(){this.h=this.g=null}add(e,n){const r=I2.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},E2=()=>{const t=Q.Promise.resolve(void 0);Kc=()=>{t.then(Lse)}};var Lse=()=>{for(var t;t=Rse();){try{t.h.call(t.g)}catch(n){Fse(n)}var e=I2;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Qc=!1};function tp(t,e){ht.call(this),this.h=t||1,this.g=e||Q,this.j=Pt(this.qb,this),this.l=Date.now()}function YT(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function JT(t,e,n){if("function"==typeof t)n&&(t=Pt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Pt(t.handleEvent,t)}return 2147483647<Number(e)?-1:Q.setTimeout(t,e||0)}function D2(t){t.g=JT(()=>{t.g=null,t.i&&(t.i=!1,D2(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}dt(tp,ht),(M=tp.prototype).ga=!1,M.T=null,M.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),bt(this,"tick"),this.ga&&(YT(this),this.start()))}},M.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},M.N=function(){tp.$.N.call(this),YT(this),delete this.g};class Vse extends Oi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:D2(this)}N(){super.N(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yc(t){Oi.call(this),this.h=t,this.g={}}dt(Yc,Oi);var T2=[];function b2(t,e,n,r){Array.isArray(n)||(n&&(T2[0]=n.toString()),n=T2);for(var i=0;i<n.length;i++){var s=m2(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function C2(t){UT(t.g,function(e,n){this.g.hasOwnProperty(n)&&GT(e)},t),t.g={}}function np(){this.g=!0}function Ia(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function $se(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return KT(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Yc.prototype.N=function(){Yc.$.N.call(this),C2(this)},Yc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},np.prototype.Ea=function(){this.g=!1},np.prototype.info=function(){};var Ps={},S2=null;function rp(){return S2=S2||new ht}function A2(t){Ot.call(this,Ps.Ta,t)}function Jc(t){const e=rp();bt(e,new A2(e))}function x2(t,e){Ot.call(this,Ps.STAT_EVENT,t),this.stat=e}function Xt(t){const e=rp();bt(e,new x2(e,t))}function M2(t,e){Ot.call(this,Ps.Ua,t),this.size=e}function Xc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){t()},e)}Ps.Ta="serverreachability",dt(A2,Ot),Ps.STAT_EVENT="statevent",dt(x2,Ot),Ps.Ua="timingevent",dt(M2,Ot);var ip={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},N2={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function XT(){}function k2(){}XT.prototype.h=null;var tb,Zc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ZT(){Ot.call(this,"d")}function eb(){Ot.call(this,"c")}function sp(){}function el(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Yc(this),this.P=Hse,this.V=new tp(t=kT?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new P2}function P2(){this.i=null,this.g="",this.h=!1}dt(ZT,Ot),dt(eb,Ot),dt(sp,XT),sp.prototype.g=function(){return new XMLHttpRequest},sp.prototype.i=function(){return{}},tb=new sp;var Hse=45e3,nb={},op={};function rb(t,e,n){t.L=1,t.v=lp(ni(e)),t.s=n,t.S=!0,O2(t,null)}function O2(t,e){t.G=Date.now(),tl(t),t.A=ni(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),z2(n.i,"t",r),t.C=0,n=t.l.J,t.h=new P2,t.g=gV(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Vse(Pt(t.Pa,t,t.g),t.O)),b2(t.U,t.g,"readystatechange",t.nb),e=t.I?f2(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Jc(),function Use(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function F2(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function L2(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Gse(t,n),i==op){4==e&&(t.o=4,Xt(14),r=!1),Ia(t.j,t.m,null,"[Incomplete Response]");break}if(i==nb){t.o=4,Xt(15),Ia(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Ia(t.j,t.m,i,null),ib(t,i)}F2(t)&&i!=op&&i!=nb&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Xt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),db(e),e.M=!0,Xt(11))):(Ia(t.j,t.m,n,"[Invalid Chunked Response]"),Os(t),nl(t))}function Gse(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?op:(n=Number(e.substring(n,r)),isNaN(n)?nb:(r+=1)+n>e.length?op:(e=e.slice(r,r+n),t.C=r+n,e))}function tl(t){t.Y=Date.now()+t.P,V2(t,t.P)}function V2(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Xc(Pt(t.lb,t),e)}function ap(t){t.B&&(Q.clearTimeout(t.B),t.B=null)}function nl(t){0==t.l.H||t.J||dV(t.l,t)}function Os(t){ap(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,YT(t.V),C2(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function ib(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||sb(n.i,t)))if(!t.K&&sb(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;mp(n),pp(n)}lb(n),Xt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Xc(Pt(n.ib,n),6e3));if(1>=K2(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ls(n,11)}else if((t.K||n.g==t)&&mp(n),!zc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(ob(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Ae(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=pV(r,r.J?r.pa:null,r.Y),o.K){Q2(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(ap(a),tl(a)),r.g=o}else cV(r);0<n.j.length&&gp(n)}else"stop"!=c[0]&&"close"!=c[0]||Ls(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ls(n,7):cb(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Jc()}catch{}}function U2(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Qf(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function qse(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Qf(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function zse(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Qf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(M=el.prototype).setTimeout=function(t){this.P=t},M.nb=function(t){t=t.target;const e=this.M;e&&3==Er(t)?e.l():this.Pa(t)},M.Pa=function(t){try{if(t==this.g)e:{const l=Er(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||kT||this.g&&(this.h.h||this.g.ja()||rV(this.g)))){this.J||4!=l||7==e||Jc(),ap(this);var n=this.g.da();this.ca=n;t:if(F2(this)){var r=rV(this.g);t="";var i=r.length,s=4==Er(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Os(this),nl(this);var o="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function jse(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zc(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Xt(12),Os(this),nl(this);break e}Ia(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ib(this,n)}this.S?(L2(this,l,o),kT&&this.i&&3==l&&(b2(this.U,this.V,"tick",this.mb),this.V.start())):(Ia(this.j,this.m,o,null),ib(this,o)),4==l&&Os(this),this.i&&!this.J&&(4==l?dV(this.l,this):(this.i=!1,tl(this)))}else(function loe(t){const e={};t=(t.g&&2<=Er(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(zc(t[r]))continue;var n=Ose(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function Ase(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Xt(12)):(this.o=0,Xt(13)),Os(this),nl(this)}}}catch{}},M.mb=function(){if(this.g){var t=Er(this.g),e=this.g.ja();this.C<e.length&&(ap(this),L2(this,t,e),this.i&&4!=t&&tl(this))}},M.cancel=function(){this.J=!0,Os(this)},M.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Bse(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Jc(),Xt(17)),Os(this),this.o=2,nl(this)):V2(this,this.Y-t)};var j2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fs(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Fs){this.h=t.h,up(this,t.j),this.s=t.s,this.g=t.g,cp(this,t.m),this.l=t.l;var e=t.i,n=new sl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),B2(this,n),this.o=t.o}else t&&(e=String(t).match(j2))?(this.h=!1,up(this,e[1]||"",!0),this.s=rl(e[2]||""),this.g=rl(e[3]||"",!0),cp(this,e[4]),this.l=rl(e[5]||"",!0),B2(this,e[6]||"",!0),this.o=rl(e[7]||"")):(this.h=!1,this.i=new sl(null,this.h))}function ni(t){return new Fs(t)}function up(t,e,n){t.j=n?rl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function cp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function B2(t,e,n){e instanceof sl?(t.i=e,function Zse(t,e){e&&!t.j&&(Fi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(H2(this,r),z2(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=il(e,Jse)),t.i=new sl(e,t.h))}function Ae(t,e,n){t.i.set(e,n)}function lp(t){return Ae(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function rl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function il(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Kse),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Kse(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Fs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(il(e,$2,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(il(e,$2,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(il(n,"/"==n.charAt(0)?Yse:Qse,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",il(n,Xse)),t.join("")};var $2=/[#\/\?@]/g,Qse=/[#\?:]/g,Yse=/[#\?]/g,Jse=/[#\?@]/g,Xse=/#/g;function sl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Fi(t){t.g||(t.g=new Map,t.h=0,t.i&&function Wse(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function H2(t,e){Fi(t),e=Ea(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function G2(t,e){return Fi(t),e=Ea(t,e),t.g.has(e)}function z2(t,e,n){H2(t,e),0<n.length&&(t.i=null,t.g.set(Ea(t,e),NT(n)),t.h+=n.length)}function Ea(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function q2(t){this.l=t||toe,t=Q.PerformanceNavigationTiming?0<(t=Q.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Q.g&&Q.g.Ka&&Q.g.Ka()&&Q.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(M=sl.prototype).add=function(t,e){Fi(this),this.i=null,t=Ea(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},M.forEach=function(t,e){Fi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},M.ta=function(){Fi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},M.Z=function(t){Fi(this);let e=[];if("string"==typeof t)G2(this,t)&&(e=e.concat(this.g.get(Ea(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},M.set=function(t,e){return Fi(this),this.i=null,G2(this,t=Ea(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},M.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},M.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var toe=10;function W2(t){return!!t.h||!!t.g&&t.g.size>=t.j}function K2(t){return t.h?1:t.g?t.g.size:0}function sb(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function ob(t,e){t.g?t.g.add(e):t.h=e}function Q2(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Y2(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return NT(t.i)}q2.prototype.cancel=function(){if(this.i=Y2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var noe=class{stringify(t){return Q.JSON.stringify(t,void 0)}parse(t){return Q.JSON.parse(t,void 0)}};function roe(){this.g=new noe}function ioe(t,e,n){const r=n||"";try{U2(t,function(i,s){let o=i;Gc(i)&&(o=KT(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function dp(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ol(t){this.l=t.fc||null,this.j=t.ob||!1}function hp(t,e){ht.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=ab,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dt(ol,XT),ol.prototype.g=function(){return new hp(this.l,this.j)},ol.prototype.i=function(t){return function(){return t}}({}),dt(hp,ht);var ab=0;function J2(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function al(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ul(t)}function ul(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(M=hp.prototype).open=function(t,e){if(this.readyState!=ab)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ul(this)},M.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Q).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},M.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,al(this)),this.readyState=ab},M.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ul(this)),this.g&&(this.readyState=3,ul(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;J2(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},M.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?al(this):ul(this),3==this.readyState&&J2(this)}},M.Za=function(t){this.g&&(this.response=this.responseText=t,al(this))},M.Ya=function(t){this.g&&(this.response=t,al(this))},M.ka=function(){this.g&&al(this)},M.setRequestHeader=function(t,e){this.v.append(t,e)},M.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},M.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(hp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var ooe=Q.JSON.parse;function $e(t){ht.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=X2,this.L=this.M=!1}dt($e,ht);var X2="",aoe=/^https?$/i,uoe=["POST","PUT"];function Z2(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,eV(t),fp(t)}function eV(t){t.F||(t.F=!0,bt(t,"complete"),bt(t,"error"))}function tV(t){if(t.h&&typeof xT<"u"&&(!t.C[1]||4!=Er(t)||2!=t.da()))if(t.v&&4==Er(t))JT(t.La,0,t);else if(bt(t,"readystatechange"),4==Er(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(j2)[1]||null;!i&&Q.self&&Q.self.location&&(i=Q.self.location.protocol.slice(0,-1)),r=!aoe.test(i?i.toLowerCase():"")}n=r}if(n)bt(t,"complete"),bt(t,"success");else{t.m=6;try{var s=2<Er(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",eV(t)}}finally{fp(t)}}}function fp(t,e){if(t.g){nV(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||bt(t,"ready");try{n.onreadystatechange=r}catch{}}}function nV(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Q.clearTimeout(t.A),t.A=null)}function Er(t){return t.g?t.g.readyState:0}function rV(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case X2:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function iV(t){let e="";return UT(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function ub(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=iV(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ae(t,e,n))}function cl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function sV(t){this.Ga=0,this.j=[],this.l=new np,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=cl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=cl("baseRetryDelayMs",5e3,t),this.hb=cl("retryDelaySeedMs",1e4,t),this.eb=cl("forwardChannelMaxRetries",2,t),this.xa=cl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new q2(t&&t.concurrentRequestLimit),this.Ja=new roe,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function cb(t){if(oV(t),3==t.H){var e=t.W++,n=ni(t.I);if(Ae(n,"SID",t.K),Ae(n,"RID",e),Ae(n,"TYPE","terminate"),ll(t,n),(e=new el(t,t.l,e)).L=2,e.v=lp(ni(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon)try{n=Q.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Q.Image&&((new Image).src=e.v,n=!0),n||(e.g=gV(e.l,null),e.g.ha(e.v)),e.G=Date.now(),tl(e)}fV(t)}function pp(t){t.g&&(db(t),t.g.cancel(),t.g=null)}function oV(t){pp(t),t.u&&(Q.clearTimeout(t.u),t.u=null),mp(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Q.clearTimeout(t.m),t.m=null)}function gp(t){if(!W2(t.i)&&!t.m){t.m=!0;var e=t.Na;Kc||E2(),Qc||(Kc(),Qc=!0),QT.add(e,t),t.C=0}}function aV(t,e){var n;n=e?e.m:t.W++;const r=ni(t.I);Ae(r,"SID",t.K),Ae(r,"RID",n),Ae(r,"AID",t.V),ll(t,r),t.o&&t.s&&ub(r,t.o,t.s),n=new el(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=uV(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),ob(t.i,n),rb(n,r,e)}function ll(t,e){t.na&&UT(t.na,function(n,r){Ae(e,r,n)}),t.h&&U2({},function(n,r){Ae(e,r,n)})}function uV(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Pt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{ioe(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function cV(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Kc||E2(),Qc||(Kc(),Qc=!0),QT.add(e,t),t.A=0}}function lb(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Xc(Pt(t.Ma,t),hV(t,t.A)),t.A++,0))}function db(t){null!=t.B&&(Q.clearTimeout(t.B),t.B=null)}function lV(t){t.g=new el(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=ni(t.wa);Ae(e,"RID","rpc"),Ae(e,"SID",t.K),Ae(e,"AID",t.V),Ae(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ae(e,"TO",t.qa),Ae(e,"TYPE","xmlhttp"),ll(t,e),t.o&&t.s&&ub(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=lp(ni(e)),n.s=null,n.S=!0,O2(n,t)}function mp(t){null!=t.v&&(Q.clearTimeout(t.v),t.v=null)}function dV(t,e){var n=null;if(t.g==e){mp(t),db(t),t.g=null;var r=2}else{if(!sb(t.i,e))return;n=e.F,Q2(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;bt(r=rp(),new M2(r,n)),gp(t)}else cV(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function doe(t,e){return!(K2(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Xc(Pt(t.Na,t,e),hV(t,t.C)),t.C++,0)))}(t,e)||2==r&&lb(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ls(t,5);break;case 4:Ls(t,10);break;case 3:Ls(t,6);break;default:Ls(t,2)}}function hV(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ls(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Pt(t.pb,t);n||(n=new Fs("//www.google.com/images/cleardot.gif"),Q.location&&"http"==Q.location.protocol||up(n,"https"),lp(n)),function soe(t,e){const n=new np;if(Q.Image){const r=new Image;r.onload=Yf(dp,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Yf(dp,n,r,"TestLoadImage: error",!1,e),r.onabort=Yf(dp,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Yf(dp,n,r,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Xt(2);t.H=0,t.h&&t.h.za(e),fV(t),oV(t)}function fV(t){if(t.H=0,t.ma=[],t.h){const e=Y2(t.i);(0!=e.length||0!=t.j.length)&&(u2(t.ma,e),u2(t.ma,t.j),t.i.i.length=0,NT(t.j),t.j.length=0),t.h.ya()}}function pV(t,e,n){var r=n instanceof Fs?ni(n):new Fs(n);if(""!=r.g)e&&(r.g=e+"."+r.g),cp(r,r.m);else{var i=Q.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Fs(null);r&&up(s,r),e&&(s.g=e),i&&cp(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Ae(r,n,e),Ae(r,"VER",t.ra),ll(t,r),r}function gV(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new $e(n&&t.Ha&&!t.va?new ol({ob:!0}):t.va)).Oa(t.J),e}function mV(){}function yp(){if(wa&&!(10<=Number(Tse)))throw Error("Environmental error: no available transport.")}function En(t,e){ht.call(this),this.g=new sV(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!zc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!zc(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Da(this)}function yV(t){ZT.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function vV(){eb.call(this),this.status=1}function Da(t){this.g=t}function Xn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function hb(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function ye(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(M=$e.prototype).Oa=function(t){this.M=t},M.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():tb.g(),this.C=function R2(t){return t.h||(t.h=t.i())}(this.u?this.u:tb),this.g.onreadystatechange=Pt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void Z2(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=Q.FormData&&t instanceof Q.FormData,!(0<=a2(uoe,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{nV(this),0<this.B&&((this.L=function coe(t){return wa&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pt(this.ua,this)):this.A=JT(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Z2(this,s)}},M.ua=function(){typeof xT<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,bt(this,"timeout"),this.abort(8))},M.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,bt(this,"complete"),bt(this,"abort"),fp(this))},M.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fp(this,!0)),$e.$.N.call(this)},M.La=function(){this.s||(this.G||this.v||this.l?tV(this):this.kb())},M.kb=function(){tV(this)},M.isActive=function(){return!!this.g},M.da=function(){try{return 2<Er(this)?this.g.status:-1}catch{return-1}},M.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},M.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ooe(e)}},M.Ia=function(){return this.m},M.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(M=sV.prototype).ra=8,M.H=1,M.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new el(this,this.l,t);let s=this.s;if(this.U&&(s?(s=f2(s),g2(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=uV(this,i,e),Ae(n=ni(this.I),"RID",t),Ae(n,"CVER",22),this.F&&Ae(n,"X-HTTP-Session-Id",this.F),ll(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(iV(s)))+"&"+e:this.o&&ub(n,this.o,s)),ob(this.i,i),this.bb&&Ae(n,"TYPE","init"),this.P?(Ae(n,"$req",e),Ae(n,"SID","null"),i.aa=!0,rb(i,n,null)):rb(i,n,e),this.H=2}}else 3==this.H&&(t?aV(this,t):0==this.j.length||W2(this.i)||aV(this))},M.Ma=function(){if(this.u=null,lV(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Xc(Pt(this.jb,this),t)}},M.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Xt(10),pp(this),lV(this))},M.ib=function(){null!=this.v&&(this.v=null,pp(this),lb(this),Xt(19))},M.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Xt(2)):(this.l.info("Failed to ping google.com"),Xt(1))},M.isActive=function(){return!!this.h&&this.h.isActive(this)},(M=mV.prototype).Ba=function(){},M.Aa=function(){},M.za=function(){},M.ya=function(){},M.isActive=function(){return!0},M.Va=function(){},yp.prototype.g=function(t,e){return new En(t,e)},dt(En,ht),En.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Xt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=pV(t,null,t.Y),gp(t)},En.prototype.close=function(){cb(this.g)},En.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=KT(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&gp(e)},En.prototype.N=function(){this.g.h=null,delete this.j,cb(this.g),delete this.g,En.$.N.call(this)},dt(yV,ZT),dt(vV,eb),dt(Da,mV),Da.prototype.Ba=function(){bt(this.g,"a")},Da.prototype.Aa=function(t){bt(this.g,new yV(t))},Da.prototype.za=function(t){bt(this.g,new vV)},Da.prototype.ya=function(){bt(this.g,"b")},dt(Xn,function hoe(){this.blockSize=-1}),Xn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Xn.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)hb(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){hb(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){hb(this,r),i=0;break}}this.h=i,this.i+=e},Xn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var foe={};function fb(t){return-128<=t&&128>t?function Ise(t,e){var n=foe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new ye([0|e],0>e?-1:0)}):new ye([0|t],0>t?-1:0)}function Dr(t){if(isNaN(t)||!isFinite(t))return Ta;if(0>t)return Ct(Dr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=pb;return new ye(e,0)}var pb=4294967296,Ta=fb(0),gb=fb(1),wV=fb(16777216);function ri(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Vn(t){return-1==t.h}function Ct(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ye(n,~t.h).add(gb)}function vp(t,e){return t.add(Ct(e))}function _p(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function dl(t,e){this.g=t,this.h=e}function wp(t,e){if(ri(e))throw Error("division by zero");if(ri(t))return new dl(Ta,Ta);if(Vn(t))return e=wp(Ct(t),e),new dl(Ct(e.g),Ct(e.h));if(Vn(e))return e=wp(t,Ct(e)),new dl(Ct(e.g),e.h);if(30<t.g.length){if(Vn(t)||Vn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=gb,r=e;0>=r.X(t);)n=IV(n),r=IV(r);var i=ba(n,1),s=ba(r,1);for(r=ba(r,2),n=ba(n,2);!ri(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=ba(r,1),n=ba(n,1)}return e=vp(t,i.R(e)),new dl(i,e)}for(i=Ta;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Dr(n)).R(e);Vn(o)||0<o.X(t);)o=(s=Dr(n-=r)).R(e);ri(s)&&(s=gb),i=i.add(s),t=vp(t,o)}return new dl(i,t)}function IV(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ye(n,t.h)}function ba(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ye(i,t.h)}(M=ye.prototype).ea=function(){if(Vn(this))return-Ct(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:pb+r)*e,e*=pb}return t},M.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(ri(this))return"0";if(Vn(this))return"-"+Ct(this).toString(t);for(var e=Dr(Math.pow(t,6)),n=this,r="";;){var i=wp(n,e).g,s=((0<(n=vp(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(ri(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},M.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},M.X=function(t){return Vn(t=vp(this,t))?-1:ri(t)?0:1},M.abs=function(){return Vn(this)?Ct(this):this},M.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new ye(n,-2147483648&n[n.length-1]?-1:0)},M.R=function(t){if(ri(this)||ri(t))return Ta;if(Vn(this))return Vn(t)?Ct(this).R(Ct(t)):Ct(Ct(this).R(t));if(Vn(t))return Ct(this.R(Ct(t)));if(0>this.X(wV)&&0>t.X(wV))return Dr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,_p(n,2*r+2*i),n[2*r+2*i+1]+=s*u,_p(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,_p(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,_p(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ye(n,0)},M.gb=function(t){return wp(this,t).h},M.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ye(n,this.h&t.h)},M.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ye(n,this.h|t.h)},M.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ye(n,this.h^t.h)},yp.prototype.createWebChannel=yp.prototype.g,En.prototype.send=En.prototype.u,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,ip.NO_ERROR=0,ip.TIMEOUT=8,ip.HTTP_ERROR=6,N2.COMPLETE="complete",k2.EventType=Zc,Zc.OPEN="a",Zc.CLOSE="b",Zc.ERROR="c",Zc.MESSAGE="d",ht.prototype.listen=ht.prototype.O,$e.prototype.listenOnce=$e.prototype.P,$e.prototype.getLastError=$e.prototype.Sa,$e.prototype.getLastErrorCode=$e.prototype.Ia,$e.prototype.getStatus=$e.prototype.da,$e.prototype.getResponseJson=$e.prototype.Wa,$e.prototype.getResponseText=$e.prototype.ja,$e.prototype.send=$e.prototype.ha,$e.prototype.setWithCredentials=$e.prototype.Oa,Xn.prototype.digest=Xn.prototype.l,Xn.prototype.reset=Xn.prototype.reset,Xn.prototype.update=Xn.prototype.j,ye.prototype.add=ye.prototype.add,ye.prototype.multiply=ye.prototype.R,ye.prototype.modulo=ye.prototype.gb,ye.prototype.compare=ye.prototype.X,ye.prototype.toNumber=ye.prototype.ea,ye.prototype.toString=ye.prototype.toString,ye.prototype.getBits=ye.prototype.D,ye.fromNumber=Dr,ye.fromString=function _V(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Ct(_V(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Dr(Math.pow(e,8)),r=Ta,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Dr(Math.pow(e,s)),r=r.R(s).add(Dr(o))):r=(r=r.R(n)).add(Dr(o))}return r};var poe=Jn.createWebChannelTransport=function(){return new yp},goe=Jn.getStatEventTarget=function(){return rp()},mb=Jn.ErrorCode=ip,moe=Jn.EventType=N2,yoe=Jn.Event=Ps,EV=Jn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},voe=Jn.FetchXmlHttpFactory=ol,Ip=Jn.WebChannel=k2,_oe=Jn.XhrIo=$e,woe=Jn.Md5=Xn,Ca=Jn.Integer=ye;const DV="@firebase/firestore";class ft{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ft.UNAUTHENTICATED=new ft(null),ft.GOOGLE_CREDENTIALS=new ft("google-credentials-uid"),ft.FIRST_PARTY=new ft("first-party-uid"),ft.MOCK_USER=new ft("mock-user");let Sa="9.23.0";const Li=new da("@firebase/firestore");function yb(){return Li.logLevel}function b(t,...e){if(Li.logLevel<=ce.DEBUG){const n=e.map(vb);Li.debug(`Firestore (${Sa}): ${t}`,...n)}}function Ke(t,...e){if(Li.logLevel<=ce.ERROR){const n=e.map(vb);Li.error(`Firestore (${Sa}): ${t}`,...n)}}function Zn(t,...e){if(Li.logLevel<=ce.WARN){const n=e.map(vb);Li.warn(`Firestore (${Sa}): ${t}`,...n)}}function vb(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function k(t="Unexpected state"){const e=`FIRESTORE (${Sa}) INTERNAL ASSERTION FAILED: `+t;throw Ke(e),new Error(e)}function F(t,e){t||k()}function x(t,e){return t}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends Yn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class at{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class TV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ioe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ft.UNAUTHENTICATED))}shutdown(){}}class Eoe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Doe{constructor(e){this.t=e,this.currentUser=ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new at;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new at,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(m(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{b("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(b("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new at)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(b("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(F("string"==typeof r.accessToken),new TV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return F(null===e||"string"==typeof e),new ft(e)}}class Toe{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=ft.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class boe{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Toe(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Coe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&b("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,b("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{b("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):b("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(F("string"==typeof n.token),this.T=n.token,new bV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Soe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class CV{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Soe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function q(t,e){return t<e?-1:t>e?1:0}function Aa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Fe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new D(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new D(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Fe.fromMillis(Date.now())}static fromDate(e){return Fe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Fe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?q(this.nanoseconds,e.nanoseconds):q(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class V{constructor(e){this.timestamp=e}static fromTimestamp(e){return new V(e)}static min(){return new V(new Fe(0,0))}static max(){return new V(new Fe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class hl{constructor(e,n,r){void 0===n?n=0:n>e.length&&k(),void 0===r?r=e.length-n:r>e.length-n&&k(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===hl.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ae extends hl{construct(e,n,r){return new ae(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new D(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ae(n)}static emptyPath(){return new ae([])}}const Aoe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends hl{construct(e,n,r){return new Qe(e,n,r)}static isValidIdentifier(e){return Aoe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qe(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new D(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new D(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new D(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new D(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qe(n)}static emptyPath(){return new Qe([])}}class A{constructor(e){this.path=e}static fromPath(e){return new A(ae.fromString(e))}static fromName(e){return new A(ae.fromString(e).popFirst(5))}static empty(){return new A(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ae.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ae.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new A(new ae(e.slice()))}}function xV(t){return new Dn(t.readTime,t.key,-1)}class Dn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Dn(V.min(),A.empty(),-1)}static max(){return new Dn(V.max(),A.empty(),-1)}}function wb(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=A.comparator(t.documentKey,e.documentKey),0!==n?n:q(t.largestBatchId,e.largestBatchId))}const MV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Noe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Vi(t){return Ib.apply(this,arguments)}function Ib(){return Ib=m(function*(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==MV)throw t;b("LocalStore","Unexpectedly lost primary lease")}),Ib.apply(this,arguments)}class _{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&k(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new _((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof _?n:_.resolve(n)}catch(n){return _.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):_.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):_.reject(n)}static resolve(e){return new _((n,r)=>{n(e)})}static reject(e){return new _((n,r)=>{r(e)})}static waitFor(e){return new _((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=_.resolve(!1);for(const r of e)n=n.next(i=>i?_.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new _((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new _((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Ui(t){return"IndexedDbTransactionError"===t.name}let Tn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function gl(t){return null==t}function ml(t){return 0===t&&1/t==-1/0}function UV(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ji(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Se{constructor(e,n){this.comparator=e,this.root=n||St.EMPTY}insert(e,n){return new Se(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,St.BLACK,null,null))}remove(e){return new Se(this.comparator,this.root.remove(e,this.comparator).copy(null,null,St.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cp(this.root,e,this.comparator,!0)}}class Cp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class St{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??St.RED,this.left=i??St.EMPTY,this.right=s??St.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new St(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return St.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return St.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw k();const e=this.left.check();if(e!==this.right.check())throw k();return e+(this.isRed()?0:1)}}St.EMPTY=null,St.RED=!0,St.BLACK=!1,St.EMPTY=new class{constructor(){this.size=0}get key(){throw k()}get value(){throw k()}get color(){throw k()}get left(){throw k()}get right(){throw k()}copy(t,e,n,r,i){return this}insert(t,e,n){return new St(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xe{constructor(e){this.comparator=e,this.data=new Se(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new BV(this.data.getIterator())}getIteratorFrom(e){return new BV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xe(this.comparator);return n.data=e,n}}class BV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class fn{constructor(e){this.fields=e,e.sort(Qe.comparator)}static empty(){return new fn([])}unionWith(e){let n=new xe(Qe.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Aa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class $V extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ut{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new $V("Invalid base64 string: "+i):i}}(e);return new ut(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new ut(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return q(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ut.EMPTY_BYTE_STRING=new ut("");const eae=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bi(t){if(F(!!t),"string"==typeof t){let e=0;const n=eae.exec(t);if(F(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:He(t.seconds),nanos:He(t.nanos)}}function He(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ii(t){return"string"==typeof t?ut.fromBase64String(t):ut.fromUint8Array(t)}function Sp(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ap(t){const e=t.mapValue.fields.__previous_value__;return Sp(e)?Ap(e):e}function yl(t){const e=Bi(t.mapValue.fields.__local_write_time__.timestampValue);return new Fe(e.seconds,e.nanos)}class tae{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class js{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new js("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof js&&e.projectId===this.projectId&&e.database===this.database}}const $i={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Hi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Sp(t)?4:qV(t)?9007199254740991:10:k()}function br(t,e){if(t===e)return!0;const n=Hi(t);if(n!==Hi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yl(t).isEqual(yl(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Bi(r.timestampValue),o=Bi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,ii(t.bytesValue).isEqual(ii(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return He(r.geoPointValue.latitude)===He(i.geoPointValue.latitude)&&He(r.geoPointValue.longitude)===He(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return He(r.integerValue)===He(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=He(r.doubleValue),o=He(i.doubleValue);return s===o?ml(s)===ml(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Aa(t.arrayValue.values||[],e.arrayValue.values||[],br);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(UV(s)!==UV(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!br(s[a],o[a])))return!1;return!0}(t,e);default:return k()}var i}function vl(t,e){return void 0!==(t.values||[]).find(n=>br(n,e))}function Gi(t,e){if(t===e)return 0;const n=Hi(t),r=Hi(e);if(n!==r)return q(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return q(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=He(i.integerValue||i.doubleValue),a=He(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return HV(t.timestampValue,e.timestampValue);case 4:return HV(yl(t),yl(e));case 5:return q(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ii(i),a=ii(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=q(o[u],a[u]);if(0!==c)return c}return q(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=q(He(i.latitude),He(s.latitude));return 0!==o?o:q(He(i.longitude),He(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Gi(o[u],a[u]);if(c)return c}return q(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===$i.mapValue&&s===$i.mapValue)return 0;if(i===$i.mapValue)return 1;if(s===$i.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=q(a[l],c[l]);if(0!==d)return d;const h=Gi(o[a[l]],u[c[l]]);if(0!==h)return h}return q(a.length,c.length)}(t.mapValue,e.mapValue);default:throw k()}}function HV(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return q(t,e);const n=Bi(t),r=Bi(e),i=q(n.seconds,r.seconds);return 0!==i?i:q(n.nanos,r.nanos)}function Ma(t){return Tb(t)}function Tb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Bi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ii(t.bytesValue).toBase64():"referenceValue"in t?A.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Tb(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Tb(r.fields[a])}`;return s+"}"}(t.mapValue):k();var e}function bb(t){return!!t&&"integerValue"in t}function _l(t){return!!t&&"arrayValue"in t}function GV(t){return!!t&&"nullValue"in t}function zV(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Np(t){return!!t&&"mapValue"in t}function wl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ji(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=wl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function qV(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class At{constructor(e){this.value=e}static empty(){return new At({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Np(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wl(n)}setAll(e){let n=Qe.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=wl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Np(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return br(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Np(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ji(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new At(wl(this.value))}}function QV(t){const e=[];return ji(t.fields,(n,r)=>{const i=new Qe([n]);if(Np(r)){const s=QV(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new fn(e)}class Me{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Me(e,0,V.min(),V.min(),V.min(),At.empty(),0)}static newFoundDocument(e,n,r,i){return new Me(e,1,n,V.min(),r,i,0)}static newNoDocument(e,n){return new Me(e,2,n,V.min(),V.min(),At.empty(),0)}static newUnknownDocument(e,n){return new Me(e,3,n,V.min(),V.min(),At.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(V.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=At.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=At.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=V.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Me&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Me(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zi{constructor(e,n){this.position=e,this.inclusive=n}}function YV(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?A.comparator(A.fromName(o.referenceValue),n.key):Gi(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function JV(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!br(t.position[n],e.position[n]))return!1;return!0}class Na{constructor(e,n="asc"){this.field=e,this.dir=n}}function iae(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class XV{}class re extends XV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new sae(e,n,r):"array-contains"===n?new uae(e,r):"in"===n?new iU(e,r):"not-in"===n?new cae(e,r):"array-contains-any"===n?new lae(e,r):new re(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new oae(e,r):new aae(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Gi(n,this.value)):null!==n&&Hi(this.value)===Hi(n)&&this.matchesComparison(Gi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return k()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ve extends XV{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new ve(e,n)}matches(e){return Ra(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Ra(t){return"and"===t.op}function Sb(t){return function ZV(t){for(const e of t.filters)if(e instanceof ve)return!1;return!0}(t)&&Ra(t)}function Ab(t){if(t instanceof re)return t.field.canonicalString()+t.op.toString()+Ma(t.value);if(Sb(t))return t.filters.map(e=>Ab(e)).join(",");{const e=t.filters.map(n=>Ab(n)).join(",");return`${t.op}(${e})`}}function eU(t,e){return t instanceof re?(n=t,(r=e)instanceof re&&n.op===r.op&&n.field.isEqual(r.field)&&br(n.value,r.value)):t instanceof ve?function(n,r){return r instanceof ve&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&eU(s,r.filters[o]),!0)}(t,e):void k();var n,r}function nU(t){return t instanceof re?function(e){return`${e.field.canonicalString()} ${e.op} ${Ma(e.value)}`}(t):t instanceof ve?function(e){return e.op.toString()+" {"+e.getFilters().map(nU).join(" ,")+"}"}(t):"Filter"}class sae extends re{constructor(e,n,r){super(e,n,r),this.key=A.fromName(r.referenceValue)}matches(e){const n=A.comparator(e.key,this.key);return this.matchesComparison(n)}}class oae extends re{constructor(e,n){super(e,"in",n),this.keys=rU(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class aae extends re{constructor(e,n){super(e,"not-in",n),this.keys=rU(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function rU(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>A.fromName(r.referenceValue))}class uae extends re{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _l(n)&&vl(n.arrayValue,this.value)}}class iU extends re{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&vl(this.value.arrayValue,n)}}class cae extends re{constructor(e,n){super(e,"not-in",n)}matches(e){if(vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!vl(this.value.arrayValue,n)}}class lae extends re{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_l(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>vl(this.value.arrayValue,r))}}class dae{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function xb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new dae(t,e,n,r,i,s,o)}function $s(t){const e=x(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ab(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),gl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ma(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ma(r)).join(",")),e.dt=n}return e.dt}function Il(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!iae(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!eU(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!JV(t.startAt,e.startAt)&&JV(t.endAt,e.endAt)}function Rp(t){return A.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class si{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function ka(t){return new si(t)}function uU(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Hs(t){const e=x(t);if(null===e.wt){e.wt=[];const n=function Pp(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function Mb(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new Na(n)),e.wt.push(new Na(Qe.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Na(Qe.keyField(),s))}}}return e.wt}function Zt(t){const e=x(t);if(!e._t)if("F"===e.limitType)e._t=xb(e.path,e.collectionGroup,Hs(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Hs(e))n.push(new Na(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new zi(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new zi(e.startAt.position,e.startAt.inclusive):null;e._t=xb(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Op(t,e,n){return new si(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function El(t,e){return Il(Zt(t),Zt(e))&&t.limitType===e.limitType}function cU(t){return`${$s(Zt(t))}|lt:${t.limitType}`}function kb(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>nU(r)).join(", ")}]`),gl(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ma(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ma(r)).join(",")),`Target(${n})`}(Zt(t))}; limitType=${t.limitType})`}function Dl(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):A.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Hs(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=YV(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Hs(n),r)||n.endAt&&!function(i,s,o){const a=YV(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Hs(n),r)));var n,r}function dU(t){return(e,n)=>{let r=!1;for(const i of Hs(t)){const s=hae(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function hae(t,e,n){const r=t.field.isKeyField()?A.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Gi(a,u):k()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return k()}}class oi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ji(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return jV(this.inner)}size(){return this.innerSize}}const fae=new Se(A.comparator);function pn(){return fae}const hU=new Se(A.comparator);function Tl(...t){let e=hU;for(const n of t)e=e.insert(n.key,n);return e}function fU(t){let e=hU;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Cr(){return bl()}function pU(){return bl()}function bl(){return new oi(t=>t.toString(),(t,e)=>t.isEqual(e))}const pae=new Se(A.comparator),gae=new xe(A.comparator);function ee(...t){let e=gae;for(const n of t)e=e.add(n);return e}const mae=new xe(q);function gU(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ml(e)?"-0":e}}function mU(t){return{integerValue:""+t}}function yU(t,e){return function RV(t){return"number"==typeof t&&Number.isInteger(t)&&!ml(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?mU(e):gU(t,e)}class Fp{constructor(){this._=void 0}}function yae(t,e,n){return t instanceof Pa?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Sp(i)&&(i=Ap(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Gs?_U(t,e):t instanceof zs?wU(t,e):function(r,i){const s=vU(r,i),o=IU(s)+IU(r.gt);return bb(s)&&bb(r.gt)?mU(o):gU(r.serializer,o)}(t,e)}function vae(t,e,n){return t instanceof Gs?_U(t,e):t instanceof zs?wU(t,e):n}function vU(t,e){return t instanceof Oa?bb(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Pa extends Fp{}class Gs extends Fp{constructor(e){super(),this.elements=e}}function _U(t,e){const n=EU(e);for(const r of t.elements)n.some(i=>br(i,r))||n.push(r);return{arrayValue:{values:n}}}class zs extends Fp{constructor(e){super(),this.elements=e}}function wU(t,e){let n=EU(e);for(const r of t.elements)n=n.filter(i=>!br(i,r));return{arrayValue:{values:n}}}class Oa extends Fp{constructor(e,n){super(),this.serializer=e,this.gt=n}}function IU(t){return He(t.integerValue||t.doubleValue)}function EU(t){return _l(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class wae{constructor(e,n){this.version=e,this.transformResults=n}}class ke{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ke}static exists(e){return new ke(void 0,e)}static updateTime(e){return new ke(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lp(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Vp{}function DU(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new La(t.key,ke.none()):new Fa(t.key,t.data,ke.none());{const n=t.data,r=At.empty();let i=new xe(Qe.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new ai(t.key,r,new fn(i.toArray()),ke.none())}}function Iae(t,e,n){t instanceof Fa?function(r,i,s){const o=r.value.clone(),a=CU(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ai?function(r,i,s){if(!Lp(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=CU(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(bU(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Sl(t,e,n,r){return t instanceof Fa?function(i,s,o,a){if(!Lp(i.precondition,s))return o;const u=i.value.clone(),c=SU(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ai?function(i,s,o,a){if(!Lp(i.precondition,s))return o;const u=SU(i.fieldTransforms,a,s),c=s.data;return c.setAll(bU(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,Lp(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Eae(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=vU(r.transform,i||null);null!=s&&(null===n&&(n=At.empty()),n.set(r.field,s))}return n||null}function TU(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Aa(n,r,(i,s)=>function _ae(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Gs&&r instanceof Gs||n instanceof zs&&r instanceof zs?Aa(n.elements,r.elements,br):n instanceof Oa&&r instanceof Oa?br(n.gt,r.gt):n instanceof Pa&&r instanceof Pa);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Fa extends Vp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ai extends Vp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function bU(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function CU(t,e,n){const r=new Map;F(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,vae(o,a,n[i]))}return r}function SU(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,yae(s,o,e))}return r}class La extends Vp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ob extends Vp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Fb{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Iae(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Sl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Sl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=pU();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=DU(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(V.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ee())}isEqual(e){return this.batchId===e.batchId&&Aa(this.mutations,e.mutations,(n,r)=>TU(n,r))&&Aa(this.baseMutations,e.baseMutations,(n,r)=>TU(n,r))}}class Lb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){F(e.mutations.length===r.length);let i=pae;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Lb(e,n,r,i)}}class Vb{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Tae{constructor(e,n){this.count=e,this.unchangedNames=n}}var et,ue;function xU(t){if(void 0===t)return Ke("GRPC error has no .code"),I.UNKNOWN;switch(t){case et.OK:return I.OK;case et.CANCELLED:return I.CANCELLED;case et.UNKNOWN:return I.UNKNOWN;case et.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case et.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case et.INTERNAL:return I.INTERNAL;case et.UNAVAILABLE:return I.UNAVAILABLE;case et.UNAUTHENTICATED:return I.UNAUTHENTICATED;case et.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case et.NOT_FOUND:return I.NOT_FOUND;case et.ALREADY_EXISTS:return I.ALREADY_EXISTS;case et.PERMISSION_DENIED:return I.PERMISSION_DENIED;case et.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case et.ABORTED:return I.ABORTED;case et.OUT_OF_RANGE:return I.OUT_OF_RANGE;case et.UNIMPLEMENTED:return I.UNIMPLEMENTED;case et.DATA_LOSS:return I.DATA_LOSS;default:return k()}}(ue=et||(et={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";class Ub{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Up}static getOrCreateInstance(){return null===Up&&(Up=new Ub),Up}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Up=null;const bae=new Ca([4294967295,4294967295],0);function NU(t){const e=function MU(){return new TextEncoder}().encode(t),n=new woe;return n.update(e),new Uint8Array(n.digest())}function RU(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ca([n,r],0),new Ca([i,s],0)]}class jb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Al(`Invalid padding: ${n}`);if(r<0)throw new Al(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Al(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Al(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Ca.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Ca.fromNumber(r)));return 1===i.compare(bae)&&(i=new Ca([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=NU(e),[r,i]=RU(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new jb(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=NU(e),[r,i]=RU(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xl{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ml.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new xl(V.min(),i,new Se(q),pn(),ee())}}class Ml{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ml(r,n,ee(),ee(),ee())}}class jp{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class kU{constructor(e,n){this.targetId=e,this.Vt=n}}class PU{constructor(e,n,r=ut.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class OU{constructor(){this.St=0,this.Dt=LU(),this.Ct=ut.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ee(),n=ee(),r=ee();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:k()}}),new Ml(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=LU()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Cae{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=pn(),this.zt=FU(),this.Wt=new Se(q)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:k()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Rp(o))if(0===i){const a=new A(o.path);this.Yt(r,a,Me.newNoDocument(a,V.min()))}else F(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=Ub.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,g,y,w;const v={localCacheCount:l,existenceFilterCount:d.count},T=d.unchangedNames;return T&&(v.bloomFilter={applied:0===c,hashCount:null!==(h=T?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=T?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(w=null===(y=T?.bits)||void 0===y?void 0:y.padding)&&void 0!==w?w:0}),v}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=ii(s).toUint8Array()}catch(l){if(l instanceof $V)return Zn("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new jb(u,o,a)}catch(l){return Zn(l instanceof Al?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Rp(a.target)){const u=new A(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,Me.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=ee();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new xl(e,n,this.Wt,this.jt,r);return this.jt=pn(),this.zt=FU(),this.Wt=new Se(q),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new OU,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new xe(q),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||b("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new OU),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function FU(){return new Se(A.comparator)}function LU(){return new Se(A.comparator)}const Sae={asc:"ASCENDING",desc:"DESCENDING"},Aae={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xae={and:"AND",or:"OR"};class Mae{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Bb(t,e){return t.useProto3Json||gl(e)?e:{value:e}}function Va(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Nae(t,e){return Va(t,e.toTimestamp())}function Ye(t){return F(!!t),V.fromTimestamp(function(e){const n=Bi(e);return new Fe(n.seconds,n.nanos)}(t))}function $b(t,e){return(n=t,new ae(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function UU(t){const e=ae.fromString(t);return F(KU(e)),e}function Nl(t,e){return $b(t.databaseId,e.path)}function Sr(t,e){const n=UU(e);if(n.get(1)!==t.databaseId.projectId)throw new D(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new D(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new A(BU(n))}function Hb(t,e){return $b(t.databaseId,e)}function Rl(t){return new ae(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function BU(t){return F(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function $U(t,e,n){return{name:Nl(t,e),fields:n.value.mapValue.fields}}function GU(t,e){return{documents:[Hb(t,e.path)]}}function zb(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Hb(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Hb(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return WU(ve.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:qi((l=c).field),direction:Fae(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Bb(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function zU(t){let e=function jU(t){const e=UU(t);return 4===e.length?ae.emptyPath():BU(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){F(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=qU(l);return d instanceof ve&&Sb(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new Na(Ua((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,gl(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new zi((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new zi(l.values||[],!l.before)}(n.endAt)),function aU(t,e,n,r,i,s,o,a){return new si(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function qU(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Ua(e.unaryFilter.field);return re.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Ua(e.unaryFilter.field);return re.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ua(e.unaryFilter.field);return re.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ua(e.unaryFilter.field);return re.create(s,"!=",{nullValue:"NULL_VALUE"});default:return k()}}(t):void 0!==t.fieldFilter?function(e){return re.create(Ua(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return k()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return ve.create(e.compositeFilter.filters.map(n=>qU(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return k()}}(e.compositeFilter.op))}(t):k()}function Fae(t){return Sae[t]}function Lae(t){return Aae[t]}function Vae(t){return xae[t]}function qi(t){return{fieldPath:t.canonicalString()}}function Ua(t){return Qe.fromServerFormat(t.fieldPath)}function WU(t){return t instanceof re?function(e){if("=="===e.op){if(zV(e.value))return{unaryFilter:{field:qi(e.field),op:"IS_NAN"}};if(GV(e.value))return{unaryFilter:{field:qi(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(zV(e.value))return{unaryFilter:{field:qi(e.field),op:"IS_NOT_NAN"}};if(GV(e.value))return{unaryFilter:{field:qi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qi(e.field),op:Lae(e.op),value:e.value}}}(t):t instanceof ve?function(e){const n=e.getFilters().map(r=>WU(r));return 1===n.length?n[0]:{compositeFilter:{op:Vae(e.op),filters:n}}}(t):k()}function Uae(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function KU(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class ui{constructor(e,n,r,i,s=V.min(),o=V.min(),a=ut.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new ui(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class QU{constructor(e){this.fe=e}}function qb(t){const e=zU({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Op(e,e.limit,"L"):e}class Qs{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(He(e.integerValue));else if("doubleValue"in e){const r=He(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),ml(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(ii(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?qV(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):k()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),A.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Qs.Ve=new Qs;class Kae{constructor(){this.rn=new Xb}addToCollectionParentIndex(e,n){return this.rn.add(n),_.resolve()}getCollectionParents(e,n){return _.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return _.resolve()}deleteFieldIndex(e,n){return _.resolve()}getDocumentsMatchingTarget(e,n){return _.resolve(null)}getIndexType(e,n){return _.resolve(0)}getFieldIndexes(e,n){return _.resolve([])}getNextCollectionGroupToUpdate(e){return _.resolve(null)}getMinOffset(e,n){return _.resolve(Dn.min())}getMinOffsetFromCollectionGroup(e,n){return _.resolve(Dn.min())}updateCollectionGroup(e,n,r){return _.resolve()}updateIndexEntries(e,n){return _.resolve()}}class Xb{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new xe(ae.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xe(ae.comparator)).toArray()}}new Uint8Array(0);class Lt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Lt(e,Lt.DEFAULT_COLLECTION_PERCENTILE,Lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Lt.DEFAULT_COLLECTION_PERCENTILE=10,Lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lt.DEFAULT=new Lt(41943040,Lt.DEFAULT_COLLECTION_PERCENTILE,Lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lt.DISABLED=new Lt(-1,0,0);class Js{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Js(0)}static Mn(){return new Js(-1)}}class eue{constructor(){this.changes=new oi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Me.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?_.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class rue{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Ij{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Sl(r.mutation,i,fn.empty(),Fe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ee()){const i=Cr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Tl();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Cr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ee()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=pn();const o=bl(),a=bl();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof ai)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),Sl(l.mutation,c,l.mutation.getFieldMask(),Fe.now())):o.set(c.key,fn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new rue(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=bl();let i=new Se((o,a)=>o-a),s=ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||fn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||ee()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=pU();l.forEach(h=>{if(!s.has(h)){const f=DU(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return _.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return A.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function Nb(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):_.resolve(Cr());let a=-1,u=s;return o.next(c=>_.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?_.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ee())).next(l=>({batchId:a,changes:fU(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new A(n)).next(r=>{let i=Tl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Tl();return this.indexManager.getCollectionParents(e,i).next(o=>_.forEach(o,a=>{const u=(c=n,l=a.child(i),new si(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Me.newInvalidDocument(c)))});let o=Tl();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&Sl(c.mutation,u,fn.empty(),Fe.now()),Dl(n,u)&&(o=o.insert(a,u))}),o})}}class iue{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return _.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Ye(r.createTime)}),_.resolve()}getNamedQuery(e,n){return _.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:qb(r.bundledQuery),readTime:Ye(r.readTime)}),_.resolve();var r}}class sue{constructor(){this.overlays=new Se(A.comparator),this.ls=new Map}getOverlay(e,n){return _.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Cr();return _.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),_.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),_.resolve()}getOverlaysForCollection(e,n,r){const i=Cr(),s=n.length+1,o=new A(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return _.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Se((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=Cr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Cr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return _.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Vb(n,r));let s=this.ls.get(n);void 0===s&&(s=ee(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class Zb{constructor(){this.fs=new xe(gt.ds),this.ws=new xe(gt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new gt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new gt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new A(new ae([])),r=new gt(n,e),i=new gt(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new A(new ae([])),r=new gt(n,e),i=new gt(n,e+1);let s=ee();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new gt(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class gt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return A.comparator(e.key,n.key)||q(e.As,n.As)}static _s(e,n){return q(e.As,n.As)||A.comparator(e.key,n.key)}}class oue{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new xe(gt.ds)}checkEmpty(e){return _.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new Fb(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new gt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return _.resolve(o)}lookupMutationBatch(e,n){return _.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return _.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return _.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return _.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new gt(n,0),i=new gt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),_.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xe(q);return n.forEach(i=>{const s=new gt(i,0),o=new gt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),_.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;A.isDocumentKey(s)||(s=s.child(""));const o=new gt(new A(s),0);let a=new xe(q);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),_.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){F(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return _.forEach(n.mutations,i=>{const s=new gt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new gt(n,0),i=this.Rs.firstAfterOrEqual(r);return _.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return _.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class aue{constructor(e){this.Ds=e,this.docs=new Se(A.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return _.resolve(r?r.document.mutableCopy():Me.newInvalidDocument(n))}getEntries(e,n){let r=pn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Me.newInvalidDocument(i))}),_.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=pn();const o=n.path,a=new A(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||wb(xV(l),r)<=0||(i.has(l.key)||Dl(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return _.resolve(s)}getAllFromCollectionGroup(e,n,r,i){k()}Cs(e,n){return _.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new uue(this)}getSize(e){return _.resolve(this.size)}}class uue extends eue{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),_.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class cue{constructor(e){this.persistence=e,this.xs=new oi(n=>$s(n),Il),this.lastRemoteSnapshotVersion=V.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Zb,this.targetCount=0,this.Ms=Js.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),_.resolve()}getLastRemoteSnapshotVersion(e){return _.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),_.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),_.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Js(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,_.resolve()}updateTargetData(e,n){return this.Fn(n),_.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,_.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),_.waitFor(s).next(()=>i)}getTargetCount(e){return _.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return _.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),_.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),_.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),_.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return _.resolve(r)}containsKey(e,n){return _.resolve(this.ks.containsKey(n))}}class e0{constructor(e,n){this.$s={},this.overlays={},this.Os=new Tn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new cue(this),this.indexManager=new Kae,this.remoteDocumentCache=new aue(r=>this.referenceDelegate.Ls(r)),this.serializer=new QU(n),this.qs=new iue(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sue,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new oue(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){b("MemoryPersistence","Starting transaction:",e);const i=new lue(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return _.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class lue extends Noe{constructor(e){super(),this.currentSequenceNumber=e}}class Qp{constructor(e){this.persistence=e,this.Qs=new Zb,this.js=null}static zs(e){return new Qp(e)}get Ws(){if(this.js)return this.js;throw k()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),_.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),_.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),_.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _.forEach(this.Ws,r=>{const i=A.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,V.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return _.or([()=>_.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class s0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=ee(),i=ee();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new s0(e,n.fromCache,r,i)}}class Dj{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(uU(n))return _.resolve(null);let r=Zt(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Op(n,null,"F"),r=Zt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ee(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,Op(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return uU(n)||i.isEqual(V.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(yb()<=ce.DEBUG&&b("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),kb(n)),this.Wi(e,o,n,function AV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=V.fromTimestamp(1e9===r?new Fe(n+1,0):new Fe(n,r));return new Dn(i,A.empty(),e)}(i,-1)))})}ji(e,n){let r=new xe(dU(e));return n.forEach((i,s)=>{Dl(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return yb()<=ce.DEBUG&&b("QueryEngine","Using full collection scan to execute query:",kb(n)),this.Ui.getDocumentsMatchingQuery(e,n,Dn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class hue{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Se(q),this.Yi=new oi(s=>$s(s),Il),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ij(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function bj(t,e){return o0.apply(this,arguments)}function o0(){return o0=m(function*(t,e){const n=x(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ee();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),o0.apply(this,arguments)}function Cj(t){const e=x(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function gue(t,e){const n=x(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ha(t,e,n){return a0.apply(this,arguments)}function a0(){return a0=m(function*(t,e,n){const r=x(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Ui(o))throw o;b("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),a0.apply(this,arguments)}function Xp(t,e,n){const r=x(t);let i=V.min(),s=ee();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=x(a),d=l.Yi.get(c);return void 0!==d?_.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,Zt(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:V.min(),n?s:ee())).next(a=>(function Mj(t,e,n){let r=t.Xi.get(e)||V.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function lU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class h0{constructor(){this.activeTargetIds=function Pb(){return mae}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kj{constructor(){this.Hr=new h0,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new h0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vue{Yr(e){}shutdown(){}}class Pj{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){b("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){b("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let tg=null;function p0(){return null===tg?tg=268435456+Math.round(2147483648*Math.random()):tg++,"0x"+tg.toString(16)}const _ue={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wue{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Vt="WebChannelConnection";class Iue extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=p0(),a=this.To(e,n);b("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(b("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Zn("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Sa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${_ue[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=p0();return new Promise((o,a)=>{const u=new _oe;u.setWithCredentials(!0),u.listenOnce(moe.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case mb.NO_ERROR:const l=u.getResponseJson();b(Vt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case mb.TIMEOUT:b(Vt,`RPC '${e}' ${s} timed out`),a(new D(I.DEADLINE_EXCEEDED,"Request time out"));break;case mb.HTTP_ERROR:const d=u.getStatus();if(b(Vt,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const y=g.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(y)>=0?y:I.UNKNOWN}(f.status);a(new D(p,f.message))}else a(new D(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new D(I.UNAVAILABLE,"Connection failed."));break;default:k()}}finally{b(Vt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);b(Vt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=p0(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=poe(),a=goe(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new voe({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");b(Vt,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new wue({ro:y=>{f?b(Vt,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(b(Vt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),b(Vt,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),g=(y,w,v)=>{y.listen(w,T=>{try{v(T)}catch(R){setTimeout(()=>{throw R},0)}})};return g(d,Ip.EventType.OPEN,()=>{f||b(Vt,`RPC '${e}' stream ${i} transport opened.`)}),g(d,Ip.EventType.CLOSE,()=>{f||(f=!0,b(Vt,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,Ip.EventType.ERROR,y=>{f||(f=!0,Zn(Vt,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new D(I.UNAVAILABLE,"The operation could not be completed")))}),g(d,Ip.EventType.MESSAGE,y=>{var w;if(!f){const v=y.data[0];F(!!v);const R=v.error||(null===(w=v[0])||void 0===w?void 0:w.error);if(R){b(Vt,`RPC '${e}' stream ${i} received error:`,R);const L=R.status;let J=function(Ut){const xr=et[Ut];if(void 0!==xr)return xU(xr)}(L),Ee=R.message;void 0===J&&(J=I.INTERNAL,Ee="Unknown error status: "+L+" with message "+R.message),f=!0,p.wo(new D(J,Ee)),d.close()}else b(Vt,`RPC '${e}' stream ${i} received:`,v),p._o(v)}}),g(a,yoe.STAT_EVENT,y=>{y.stat===EV.PROXY?b(Vt,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===EV.NOPROXY&&b(Vt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function ng(){return typeof document<"u"?document:null}function $l(t){return new Mae(t,!0)}class g0{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&b("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Fj{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new g0(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return m(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return m(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return m(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(Ke(n.toString()),Ke("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new D(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(m(function*(){e.state=0,e.start()}))}tu(e){return b("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(b("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Eue extends Fj{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function kae(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:k(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(F(void 0===c||"string"==typeof c),ut.fromBase64String(c||"")):(F(void 0===c||c instanceof Uint8Array),ut.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?I.UNKNOWN:xU(u.code);return new D(c,u.message||"")}(o);n=new PU(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Sr(t,r.document.name),s=Ye(r.document.updateTime),o=r.document.createTime?Ye(r.document.createTime):V.min(),a=new At({mapValue:{fields:r.document.fields}}),u=Me.newFoundDocument(i,s,o,a);n=new jp(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Sr(t,r.document),s=r.readTime?Ye(r.readTime):V.min(),o=Me.newNoDocument(i,s);n=new jp([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Sr(t,r.document);n=new jp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return k();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Tae(i,s);n=new kU(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return V.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?V.min():s.readTime?Ye(s.readTime):V.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Rl(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Rp(a)?{documents:GU(i,a)}:{query:zb(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=VU(i,s.resumeToken);const u=Bb(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(V.min())>0){o.readTime=Va(i,s.snapshotVersion.toTimestamp());const u=Bb(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function Oae(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return k()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Rl(this.serializer),n.removeTarget=e,this.Wo(n)}}class Due extends Fj{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(F(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function Pae(t,e){return t&&t.length>0?(F(void 0!==e),t.map(n=>function(r,i){let s=Ye(r.updateTime?r.updateTime:i);return s.isEqual(V.min())&&(s=Ye(i)),new wae(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Ye(e.commitTime);return this.listener.cu(r,n)}return F(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Rl(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function kl(t,e){let n;if(e instanceof Fa)n={update:$U(t,e.key,e.value)};else if(e instanceof La)n={delete:Nl(t,e.key)};else if(e instanceof ai)n={update:$U(t,e.key,e.data),updateMask:Uae(e.fieldMask)};else{if(!(e instanceof Ob))return k();n={verify:Nl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Pa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Gs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof zs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Oa)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw k()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Nae(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:k()),n;var i}(this.serializer,r))};this.Wo(n)}}class Tue extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new D(I.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(I.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new D(I.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class Cue{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Ke(n),this.mu=!1):b("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Sue{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(m(function*(){var u;Yi(o)&&(b("RemoteStore","Restarting streams for network reachability change."),yield(u=m(function*(c){const l=x(c);l.vu.add(4),yield Ga(l),l.bu.set("Unknown"),l.vu.delete(4),yield Hl(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new Cue(r,i)}}function Hl(t){return y0.apply(this,arguments)}function y0(){return y0=m(function*(t){if(Yi(t))for(const e of t.Ru)yield e(!0)}),y0.apply(this,arguments)}function Ga(t){return v0.apply(this,arguments)}function v0(){return v0=m(function*(t){for(const e of t.Ru)yield e(!1)}),v0.apply(this,arguments)}function rg(t,e){const n=x(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),I0(n)?w0(n):qa(n).Ko()&&_0(n,e))}function Gl(t,e){const n=x(t),r=qa(n);n.Au.delete(e),r.Ko()&&Lj(n,e),0===n.Au.size&&(r.Ko()?r.jo():Yi(n)&&n.bu.set("Unknown"))}function _0(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(V.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qa(t).su(e)}function Lj(t,e){t.Vu.qt(e),qa(t).iu(e)}function w0(t){t.Vu=new Cae({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),qa(t).start(),t.bu.gu()}function I0(t){return Yi(t)&&!qa(t).Uo()&&t.Au.size>0}function Yi(t){return 0===x(t).vu.size}function Vj(t){t.Vu=void 0}function Aue(t){return E0.apply(this,arguments)}function E0(){return E0=m(function*(t){t.Au.forEach((e,n)=>{_0(t,e)})}),E0.apply(this,arguments)}function xue(t,e){return D0.apply(this,arguments)}function D0(){return D0=m(function*(t,e){Vj(t),I0(t)?(t.bu.Iu(e),w0(t)):t.bu.set("Unknown")}),D0.apply(this,arguments)}function Mue(t,e,n){return T0.apply(this,arguments)}function T0(){return T0=m(function*(t,e,n){if(t.bu.set("Online"),e instanceof PU&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){b("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ig(t,r)}else if(e instanceof jp?t.Vu.Ht(e):e instanceof kU?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(V.min()))try{const r=yield Cj(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(ut.EMPTY_BYTE_STRING,c.snapshotVersion)),Lj(i,a);const l=new ui(c.target,a,u,c.sequenceNumber);_0(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){b("RemoteStore","Failed to raise snapshot:",r),yield ig(t,r)}var r}),T0.apply(this,arguments)}function ig(t,e,n){return b0.apply(this,arguments)}function b0(){return b0=m(function*(t,e,n){if(!Ui(e))throw e;t.vu.add(1),yield Ga(t),t.bu.set("Offline"),n||(n=()=>Cj(t.localStore)),t.asyncQueue.enqueueRetryable(m(function*(){b("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield Hl(t)}))}),b0.apply(this,arguments)}function Uj(t,e){return e().catch(n=>ig(t,n,e))}function za(t){return C0.apply(this,arguments)}function C0(){return C0=m(function*(t){const e=x(t),n=Ji(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Nue(e);)try{const i=yield gue(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,Rue(e,i)}catch(i){yield ig(e,i)}jj(e)&&Bj(e)}),C0.apply(this,arguments)}function Nue(t){return Yi(t)&&t.Eu.length<10}function Rue(t,e){t.Eu.push(e);const n=Ji(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function jj(t){return Yi(t)&&!Ji(t).Uo()&&t.Eu.length>0}function Bj(t){Ji(t).start()}function kue(t){return S0.apply(this,arguments)}function S0(){return S0=m(function*(t){Ji(t).hu()}),S0.apply(this,arguments)}function Pue(t){return A0.apply(this,arguments)}function A0(){return A0=m(function*(t){const e=Ji(t);for(const n of t.Eu)e.uu(n.mutations)}),A0.apply(this,arguments)}function Oue(t,e,n){return x0.apply(this,arguments)}function x0(){return x0=m(function*(t,e,n){const r=t.Eu.shift(),i=Lb.from(r,e,n);yield Uj(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield za(t)}),x0.apply(this,arguments)}function Fue(t,e){return M0.apply(this,arguments)}function M0(){return M0=m(function*(t,e){var n;e&&Ji(t).ou&&(yield(n=m(function*(r,i){if(function AU(t){switch(t){default:return k();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}(s=i.code)&&s!==I.ABORTED){const o=r.Eu.shift();Ji(r).Qo(),yield Uj(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield za(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),jj(t)&&Bj(t)}),M0.apply(this,arguments)}function $j(t,e){return N0.apply(this,arguments)}function N0(){return N0=m(function*(t,e){const n=x(t);n.asyncQueue.verifyOperationInProgress(),b("RemoteStore","RemoteStore received new credentials");const r=Yi(n);n.vu.add(3),yield Ga(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Hl(n)}),N0.apply(this,arguments)}function k0(){return k0=m(function*(t,e){const n=x(t);e?(n.vu.delete(2),yield Hl(n)):e||(n.vu.add(2),yield Ga(n),n.bu.set("Unknown"))}),k0.apply(this,arguments)}function qa(t){return t.Su||(t.Su=function(e,n,r){const i=x(e);return i.fu(),new Eue(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Aue.bind(null,t),ao:xue.bind(null,t),nu:Mue.bind(null,t)}),t.Ru.push(function(){var e=m(function*(n){n?(t.Su.Qo(),I0(t)?w0(t):t.bu.set("Unknown")):(yield t.Su.stop(),Vj(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function Ji(t){return t.Du||(t.Du=function(e,n,r){const i=x(e);return i.fu(),new Due(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:kue.bind(null,t),ao:Fue.bind(null,t),au:Pue.bind(null,t),cu:Oue.bind(null,t)}),t.Ru.push(function(){var e=m(function*(n){n?(t.Du.Qo(),yield za(t)):(yield t.Du.stop(),t.Eu.length>0&&(b("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class P0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new at,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new P0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wa(t,e){if(Ke("AsyncQueue",`${e}: ${t}`),Ui(t))return new D(I.UNAVAILABLE,`${e}: ${t}`);throw t}class Ka{constructor(e){this.comparator=e?(n,r)=>e(n,r)||A.comparator(n.key,r.key):(n,r)=>A.comparator(n.key,r.key),this.keyedMap=Tl(),this.sortedSet=new Se(this.comparator)}static emptySet(e){return new Ka(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ka)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Ka;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Hj{constructor(){this.Cu=new Se(A.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):k():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Qa{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Qa(e,n,Ka.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&El(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Lue{constructor(){this.Nu=void 0,this.listeners=[]}}class Vue{constructor(){this.queries=new oi(e=>cU(e),El),this.onlineState="Unknown",this.ku=new Set}}function F0(){return F0=m(function*(t,e){const n=x(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Lue),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=Wa(o,`Initialization of query '${kb(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&U0(n)}),F0.apply(this,arguments)}function V0(){return V0=m(function*(t,e){const n=x(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),V0.apply(this,arguments)}function Uue(t,e){const n=x(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&U0(n)}function jue(t,e,n){const r=x(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function U0(t){t.ku.forEach(e=>{e.next()})}class j0{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Qa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Qa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class qj{constructor(e){this.key=e}}class Wj{constructor(e){this.key=e}}class Kj{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ee(),this.mutatedKeys=ee(),this.tc=dU(e),this.ec=new Ka(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new Hj,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Dl(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),y=!0):this.rc(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return k()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new Qa(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Hj,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ee(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new Wj(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new qj(r))}),n}hc(e){this.Yu=e.ir,this.Zu=ee();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Qa.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Hue{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Gue{constructor(e){this.key=e,this.fc=!1}}class zue{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new oi(a=>cU(a),El),this._c=new Map,this.mc=new Set,this.gc=new Se(A.comparator),this.yc=new Map,this.Ic=new Zb,this.Tc={},this.Ec=new Map,this.Ac=Js.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function que(t,e){return B0.apply(this,arguments)}function B0(){return B0=m(function*(t,e){const n=function lC(t){const e=x(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Qj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tce.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Que.bind(null,e),e.dc.nu=Uue.bind(null,e.eventManager),e.dc.Pc=jue.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function $a(t,e){const n=x(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,_.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new ui(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,Zt(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function $0(t,e,n,r,i){return H0.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&rg(n.remoteStore,o)}return i}),B0.apply(this,arguments)}function H0(){return H0=m(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=m(function*(g,y,w,v){let T=y.view.sc(w);T.zi&&(T=yield Xp(g.localStore,y.query,!1).then(({documents:J})=>y.view.sc(J,T)));const R=v&&v.targetChanges.get(y.targetId),L=y.view.applyChanges(T,g.isPrimaryClient,R);return Z0(g,y.targetId,L.cc),L.snapshot}),function(g,y,w,v){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield Xp(t.localStore,e,!0),o=new Kj(e,s.ir),a=o.sc(s.documents),u=Ml.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);Z0(t,n,c.cc);const l=new Hue(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),H0.apply(this,arguments)}function Wue(t,e){return G0.apply(this,arguments)}function G0(){return G0=m(function*(t,e){const n=x(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!El(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ha(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Gl(n.remoteStore,r.targetId),Ya(n,r.targetId)}).catch(Vi))):(Ya(n,r.targetId),yield Ha(n.localStore,r.targetId,!0))}),G0.apply(this,arguments)}function z0(){return z0=m(function*(t,e,n){const r=function dC(t){const e=x(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Yue.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Jue.bind(null,e),e}(t);try{const i=yield function(s,o){const a=x(s),u=Fe.now(),c=o.reduce((h,f)=>h.add(f.key),ee());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=pn(),p=ee();return a.Zi.getEntries(h,c).next(g=>{f=g,f.forEach((y,w)=>{w.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{l=g;const y=[];for(const w of o){const v=Eae(w,l.get(w.key).overlayedDocument);null!=v&&y.push(new ai(w.key,v,QV(v.value.mapValue),ke.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,o)}).next(g=>{d=g;const y=g.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,y)})}).then(()=>({batchId:d.batchId,changes:fU(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new Se(q)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield ci(r,i.changes),yield za(r.remoteStore)}catch(i){const s=Wa(i,"Failed to persist write");n.reject(s)}}),z0.apply(this,arguments)}function Qj(t,e){return q0.apply(this,arguments)}function q0(){return q0=m(function*(t,e){const n=x(t);try{const r=yield function pue(t,e){const n=x(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,y;null!==e.targetMismatches.get(d)?f=f.withResumeToken(ut.EMPTY_BYTE_STRING,V.min()).withLastLimboFreeSnapshotVersion(V.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=pn(),c=ee();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function Sj(t,e,n){let r=ee(),i=ee();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=pn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(V.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):b("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(V.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return _.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(F(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?F(o.fc):i.removedDocuments.size>0&&(F(o.fc),o.fc=!1))}),yield ci(n,r,e)}catch(r){yield Vi(r)}}),q0.apply(this,arguments)}function Yj(t,e,n){const r=x(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=x(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&U0(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Que(t,e,n){return W0.apply(this,arguments)}function W0(){return W0=m(function*(t,e,n){const r=x(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Se(A.comparator);o=o.insert(s,Me.newNoDocument(s,V.min()));const a=ee().add(s),u=new xl(V.min(),new Map,new Se(q),o,a);yield Qj(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),eC(r)}else yield Ha(r.localStore,e,!1).then(()=>Ya(r,e,n)).catch(Vi)}),W0.apply(this,arguments)}function Yue(t,e){return K0.apply(this,arguments)}function K0(){return K0=m(function*(t,e){const n=x(t),r=e.batch.batchId;try{const i=yield function fue(t,e){const n=x(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=_.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);F(null!==g),p.version.compareTo(g)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ee();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);X0(n,r,null),J0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ci(n,i)}catch(i){yield Vi(i)}}),K0.apply(this,arguments)}function Jue(t,e,n){return Q0.apply(this,arguments)}function Q0(){return Q0=m(function*(t,e,n){const r=x(t);try{const i=yield function(s,o){const a=x(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(F(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);X0(r,e,n),J0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield ci(r,i)}catch(i){yield Vi(i)}}),Q0.apply(this,arguments)}function J0(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function X0(t,e,n){const r=x(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Ya(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||Jj(t,r)})}function Jj(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(Gl(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),eC(t))}function Z0(t,e,n){for(const r of n)r instanceof qj?(t.Ic.addReference(r.key,e),Zue(t,r)):r instanceof Wj?(b("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||Jj(t,r.key)):k()}function Zue(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(b("SyncEngine","New document in limbo: "+n),t.mc.add(r),eC(t))}function eC(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new A(ae.fromString(e)),r=t.Ac.next();t.yc.set(r,new Gue(n)),t.gc=t.gc.insert(n,r),rg(t.remoteStore,new ui(Zt(ka(n.path)),r,"TargetPurposeLimboResolution",Tn.ct))}}function ci(t,e,n){return tC.apply(this,arguments)}function tC(){return tC=m(function*(t,e,n){const r=x(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=s0.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=m(function*(u,c){const l=x(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>_.forEach(c,h=>_.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>_.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Ui(d))throw d;b("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,g)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),tC.apply(this,arguments)}function ece(t,e){return nC.apply(this,arguments)}function nC(){return nC=m(function*(t,e){const n=x(t);if(!n.currentUser.isEqual(e)){b("SyncEngine","User change. New user:",e.toKey());const r=yield bj(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new D(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ci(n,r.er)}var i}),nC.apply(this,arguments)}function tce(t,e){const n=x(t),r=n.yc.get(e);if(r&&r.fc)return ee().add(r.key);{let i=ee();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class sg{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return m(function*(){n.serializer=$l(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function Tj(t,e,n,r){return new hue(t,e,n,r)}(this.persistence,new Dj,e.initialUser,this.serializer)}createPersistence(e){return new e0(Qp.zs,this.serializer)}createSharedClientState(e){return new kj}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ja{initialize(e,n){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Yj(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=ece.bind(null,r.syncEngine),yield function R0(t,e){return k0.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Vue}createDatastore(e){const n=$l(e.databaseInfo.databaseId),r=new Iue(e.databaseInfo);return new Tue(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>Yj(this.syncEngine,a,0),o=Pj.D()?new Pj:new vue,new Sue(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new zue(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(){var e=m(function*(n){const r=x(n);b("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Ga(r),r.Pu.shutdown(),r.bu.set("Unknown")});return function(n){return e.apply(this,arguments)}}()(this.remoteStore)}}class og{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Ke("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class pce{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ft.UNAUTHENTICATED,this.clientId=CV.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=m(function*(a){b("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(b("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new at;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Wa(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function ag(t,e){return hC.apply(this,arguments)}function hC(){return hC=m(function*(t,e){t.asyncQueue.verifyOperationInProgress(),b("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield bj(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),hC.apply(this,arguments)}function fC(t,e){return pC.apply(this,arguments)}function pC(){return pC=m(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function gC(t){return mC.apply(this,arguments)}(t);b("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>$j(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>$j(e.remoteStore,s)),t._onlineComponents=e}),pC.apply(this,arguments)}function mC(){return mC=m(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){b("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ag(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function rB(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Zn("Error using user provided cache. Falling back to memory cache: "+n),yield ag(t,new sg)}}else b("FirestoreClient","Using default OfflineComponentProvider"),yield ag(t,new sg);return t._offlineComponents}),mC.apply(this,arguments)}function ug(t){return yC.apply(this,arguments)}function yC(){return yC=m(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(b("FirestoreClient","Using user provided OnlineComponentProvider"),yield fC(t,t._uninitializedComponentsProvider._online)):(b("FirestoreClient","Using default OnlineComponentProvider"),yield fC(t,new Ja))),t._onlineComponents}),yC.apply(this,arguments)}function Xa(t){return _C.apply(this,arguments)}function _C(){return _C=m(function*(t){const e=yield ug(t),n=e.eventManager;return n.onListen=que.bind(null,e.syncEngine),n.onUnlisten=Wue.bind(null,e.syncEngine),n}),_C.apply(this,arguments)}function cB(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const lB=new Map;function wC(t,e,n){if(!n)throw new D(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function dB(t){if(!A.isDocumentKey(t))throw new D(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hB(t){if(A.isDocumentKey(t))throw new D(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function lg(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":k()}function ie(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new D(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lg(t);throw new D(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class pB{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new D(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new D(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Dce(t,e,n,r){if(!0===e&&!0===r)throw new D(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=cB(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new D(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new D(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new D(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zl{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pB({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new D(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new D(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pB(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Ioe;switch(n.type){case"firstParty":return new boe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new D(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=lB.get(e);n&&(b("ComponentProvider","Removing Datastore"),lB.delete(e),n.terminate())}(this),Promise.resolve()}}class Je{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Je(this.firestore,e,this._key)}}class xt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xt(this.firestore,e,this._query)}}class Ar extends xt{constructor(e,n,r){super(e,n,ka(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Je(this.firestore,null,new A(e))}withConverter(e){return new Ar(this.firestore,e,this._path)}}function bce(t,e,...n){if(t=Fn(t),wC("collection","path",e),t instanceof zl){const r=ae.fromString(e,...n);return hB(r),new Ar(t,null,r)}{if(!(t instanceof Je||t instanceof Ar))throw new D(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ae.fromString(e,...n));return hB(r),new Ar(t.firestore,null,r)}}function gB(t,e,...n){if(t=Fn(t),1===arguments.length&&(e=CV.A()),wC("doc","path",e),t instanceof zl){const r=ae.fromString(e,...n);return dB(r),new Je(t,null,new A(r))}{if(!(t instanceof Je||t instanceof Ar))throw new D(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ae.fromString(e,...n));return dB(r),new Je(t.firestore,t instanceof Ar?t.converter:null,new A(r))}}class Cce{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new g0(this,"async_queue_retry"),this.Xc=()=>{const n=ng();n&&b("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=ng();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=ng();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new at;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return m(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Ui(n))throw n;b("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Ke("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=P0.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&k()}verifyOperationInProgress(){}sa(){var e=this;return m(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function IC(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Ne extends zl{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Cce,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||yB(this),this._firestoreClient.terminate()}}function Ace(t,e){const r="string"==typeof t?t:e||"(default)",i=vf("object"==typeof t?t:vO(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=ff())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");s&&function Tce(t,e,n,r={}){var i;const s=(t=ie(t,zl))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Zn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=ft.MOCK_USER;else{a=function pJ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[df(JSON.stringify({alg:"none",type:"JWT"})),df(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new D(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ft(c)}t._authCredentials=new Eoe(new TV(a,u))}}(i,...s)}return i}function tt(t){return t._firestoreClient||yB(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function yB(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new tae(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,cB(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new pce(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Zs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zs(ut.fromBase64String(e))}catch(n){throw new D(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zs(ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Za{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new D(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class wB{constructor(e){this._methodName=e}}class EC{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new D(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new D(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return q(this._lat,e._lat)||q(this._long,e._long)}}const Mce=/^__.*__$/;class Nce{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new ai(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fa(e,this.data,n,this.fieldTransforms)}}function EB(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw k()}}class dg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new dg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return fg(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(EB(this.ca)&&Mce.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Rce{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$l(e)}ya(e,n,r,i=!1){return new dg({ca:e,methodName:n,ga:r,path:Qe.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eu(t){const e=t._freezeSettings(),n=$l(t._databaseId);return new Rce(t._databaseId,!!e.ignoreUndefinedProperties,n)}function DC(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);bC("Data must be an object, but it was:",o,r);const a=SB(r,o);let u,c;if(s.merge)u=new fn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=Kl(e,d,n);if(!o.contains(h))throw new D(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);xB(l,h)||l.push(h)}u=new fn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new Nce(new At(a),u,c)}function eo(t,e){if(AB(t=Fn(t)))return bC("Unsupported field value:",e,t),SB(t,e);if(t instanceof wB)return function(n,r){if(!EB(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=eo(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=Fn(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return yU(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Fe.fromDate(n);return{timestampValue:Va(r.serializer,i)}}if(n instanceof Fe){const i=new Fe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Va(r.serializer,i)}}if(n instanceof EC)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Zs)return{bytesValue:VU(r.serializer,n._byteString)};if(n instanceof Je){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:$b(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${lg(n)}`)}(t,e)}function SB(t,e){const n={};return jV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ji(t,(r,i)=>{const s=eo(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function AB(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Fe||t instanceof EC||t instanceof Zs||t instanceof Je||t instanceof wB)}function bC(t,e,n){if(!AB(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=lg(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function Kl(t,e,n){if((e=Fn(e))instanceof Za)return e._internalPath;if("string"==typeof e)return hg(t,e);throw fg("Field path arguments must be of type string or ",t,!1,void 0,n)}const Fce=new RegExp("[~\\*/\\[\\]]");function hg(t,e,n){if(e.search(Fce)>=0)throw fg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Za(...e.split("."))._internalPath}catch{throw fg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fg(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new D(I.INVALID_ARGUMENT,a+t+u)}function xB(t,e){return t.some(n=>n.isEqual(e))}class CC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Je(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Lce(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Lce extends CC{data(){return super.data()}}function pg(t,e){return"string"==typeof e?hg(t,e):e instanceof Za?e._internalPath:e._delegate._internalPath}class Uce{convertValue(e,n="none"){switch(Hi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return He(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ii(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw k()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ji(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new EC(He(e.latitude),He(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ap(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yl(e));default:return null}}convertTimestamp(e){const n=Bi(e);return new Fe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ae.fromString(e);F(KU(r));const i=new js(r.get(1),r.get(3)),s=new A(r.popFirst(5));return i.isEqual(n)||Ke(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class to{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nu extends CC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(pg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class vg extends nu{data(e={}){return super.data(e)}}class ru{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new to(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new vg(this._firestore,this._userDataWriter,r.key,r,new to(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new D(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new vg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new to(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new vg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new to(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Bce(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Bce(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return k()}}class Xi extends Uce{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Je(this.firestore,null,n)}}function $ce(t){return Yl(ie(t.firestore,Ne),[new La(t._key,ke.none())])}function Hce(t,e){const n=ie(t.firestore,Ne),r=gB(t),i=function AC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return Yl(n,[DC(eu(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,ke.exists(!1))]).then(()=>r)}function Yl(t,e){return function(n,r){const i=new at;return n.asyncQueue.enqueueAndForget(m(function*(){return function Kue(t,e,n){return z0.apply(this,arguments)}(yield function vC(t){return ug(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(tt(t),e)}!function(t,e=!0){Sa=Ac,Yt(new kt("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Ne(new Doe(n.getProvider("auth-internal")),new Coe(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new D(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new js(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),We(DV,"3.13.0",t),We(DV,"3.13.0","esm2017")}();var wg=function(){return wg=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var s in n=arguments[r])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},wg.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var nle={includeMetadataChanges:!1};function NC(t,e){return void 0===e&&(e=nle),new Le(function(n){var r=function Gce(t,...e){var n,r,i;t=Fn(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||IC(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(IC(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof Je)c=ie(t.firestore,Ne),l=ka(t._key.path),u={next:d=>{e[o]&&e[o](function xC(t,e,n){const r=n.docs.get(e._key),i=new Xi(t);return new nu(t,i,e._key,r,new to(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=ie(t,xt);c=ie(d.firestore,Ne),l=d._query;const h=new Xi(c);u={next:f=>{e[o]&&e[o](new ru(c,h,d,f))},error:e[o+1],complete:e[o+2]},function MB(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new D(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const g=new og(p),y=new j0(h,g,f);return d.asyncQueue.enqueueAndForget(m(function*(){return function O0(t,e){return F0.apply(this,arguments)}(yield Xa(d),y)})),()=>{g.Dc(),d.asyncQueue.enqueueAndForget(m(function*(){return function L0(t,e){return V0.apply(this,arguments)}(yield Xa(d),y)}))}}(tt(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function cle(t,e){return void 0===e&&(e={}),function ule(t){return NC(t,{includeMetadataChanges:!0}).pipe(we(function(e){return e.docs}))}(t).pipe(we(function(n){return n.map(function(r){return function VB(t,e){var n;void 0===e&&(e={});var r=t.data(e);return t.exists()&&"object"==typeof r&&null!==r&&e.idField?wg(wg({},r),((n={})[e.idField]=t.id,n)):r}(r,e)})}))}class Ig{constructor(e){return e}}const $B="firestore",PC=new O("angularfire2.firestore-instances");function fle(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ig(r)}}const ple={provide:class dle{constructor(){return eE($B)}},deps:[[new on,PC]]},gle={provide:Ig,useFactory:function hle(t,e){const n=function ZI(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}($B,t,e);return n&&new Ig(n)},deps:[[new on,PC],ga]};let mle=(()=>{class t{constructor(){We("angularfire",zI.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=kr({type:t}),t.\u0275inj=rr({providers:[gle,ple]}),t})();function yle(t,...e){return{ngModule:mle,providers:[{provide:PC,useFactory:fle(t),multi:!0,deps:[ge,un,kF,PF,[new on,VL],[new on,o2],...e]}]}}const vle=xs(cle,!0),_le=xs(Hce,!0),HB=xs(bce,!0),wle=xs($ce,!0),Ile=xs(gB,!0),Ele=xs(Ace,!0);let GB=(()=>{class t{constructor(n){this.fs=n}getNotes(){let n=HB(this.fs,"notes");return vle(n,{idField:"id"})}addNote(n){let r={description:n},i=HB(this.fs,"notes");return _le(i,r)}deleteNote(n){let r=Ile(this.fs,"notes/"+n);return wle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(U(Ig))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Dle(t,e){if(1&t){const n=Hy();Ei(0,"h3",6)(1,"b"),Qu(2),Di(),Ei(3,"button",7),Wu("click",function(){const s=um(n).$implicit;return cm(fN().deleteNotes(s.id))}),Qu(4,"Delete Note"),Di()()}if(2&t){const n=e.$implicit;wy(2),Qy(n.description)}}let Tle=(()=>{class t{constructor(n){this.service=n,this.title="todoApp",this.notes=[]}refreshNotes(){this.service.getNotes().subscribe(n=>{this.notes=n})}ngOnInit(){this.refreshNotes()}addNotes(n){this.service.addNote(n).then(r=>{this.refreshNotes()})}deleteNotes(n){this.service.deleteNote(n).then(r=>{this.refreshNotes()})}static#e=this.\u0275fac=function(r){return new(r||t)(B(GB))};static#t=this.\u0275cmp=Jg({type:t,selectors:[["app-root"]],decls:8,vars:1,consts:[[1,"todo-header"],[1,"note-input"],["newNote",""],[1,"add-button",3,"click"],[1,"note-list"],["class","note-item",4,"ngFor","ngForOf"],[1,"note-item"],[1,"delete-button",3,"click"]],template:function(r,i){if(1&r){const s=Hy();Ei(0,"h2",0),Qu(1,"Todo List"),Di(),ph(2,"input",1,2),Ei(4,"button",3),Wu("click",function(){um(s);const a=function iN(t){return function fo(t,e){return t[e]}(function i4(){return H.lFrame.contextLView}(),ne+t)}(3);return cm(i.addNotes(a.value))}),Qu(5,"Add Notes"),Di(),Ei(6,"div",4),function tN(t,e,n,r,i,s,o,a){const u=E(),c=oe(),l=t+ne,d=c.firstCreatePass?function g3(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Lo(e,t,4,o||null,mi(c,a));Cy(e,n,l,mi(c,u)),_d(e,l);const d=l.tView=by(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];ur(d,!1);const h=nN(c,u,d,t);vd()&&jd(c,u,h,d),Nt(h,u),sh(u,u[l]=DM(h,u,h,d)),pd(d)&&Dy(c,u,d),null!=o&&Ty(u,d,a)}(7,Dle,5,1,"h3",5),Di()}2&r&&(wy(7),Uy("ngForOf",i.notes))},dependencies:[E1],styles:[".todo-header[_ngcontent-%COMP%]{font-size:36px;font-weight:700;color:#333;text-align:center;margin-bottom:20px;text-shadow:2px 2px 4px rgba(0,0,0,.2)}.note-input[_ngcontent-%COMP%]{width:70%;padding:12px;font-size:18px;border:2px solid #007bff;border-radius:5px;margin-right:10px;box-shadow:2px 2px 4px #0003}.add-button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:12px 20px;border:none;border-radius:5px;cursor:pointer;box-shadow:2px 2px 4px #0003}.add-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.note-list[_ngcontent-%COMP%]{margin-top:20px}.note-item[_ngcontent-%COMP%]{font-size:20px;margin-bottom:10px;padding:12px;background-color:#f9f9f9;border:2px solid #ccc;border-radius:5px;display:flex;justify-content:space-between;align-items:center;box-shadow:2px 2px 4px #0003}.delete-button[_ngcontent-%COMP%]{background-color:#f33;color:#fff;padding:8px 16px;border:none;border-radius:5px;cursor:pointer;margin-left:10px;box-shadow:2px 2px 4px #0003}.delete-button[_ngcontent-%COMP%]:hover{background-color:#c00}"]})}return t})();const ble={apiKey:"AIzaSyBLjFi_XukLvk39lUe4Z2hLA6WDuUFXvY8",authDomain:"todo-app-b725a.firebaseapp.com",projectId:"todo-app-b725a",storageBucket:"todo-app-b725a.appspot.com",messagingSenderId:"961357792411",appId:"1:961357792411:web:bbe7e6152346c3df1e323e"};let Cle=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=kr({type:t,bootstrap:[Tle]});static#n=this.\u0275inj=rr({providers:[GB],imports:[dK,eJ,Jte(()=>Xte(ble)),yle(()=>Ele())]})}return t})();cK().bootstrapModule(Cle).catch(t=>console.error(t))}},_e=>{_e(_e.s=248)}]);